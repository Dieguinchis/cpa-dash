(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ksL3:function(i,e,n){"use strict";n.r(e),n.d(e,"AdministrarClientesPageModule",(function(){return f}));var t=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),l=n("tyNb"),b=n("mrSG"),s=n("mhZR"),r=n("fXoL"),a=n("jCJ1");function d(i,e){if(1&i){const i=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-item",7),r.Mb(2,"ion-col",3),r.Mb(3,"ion-label"),r.ic(4),r.Lb(),r.Lb(),r.Mb(5,"ion-col",4),r.Mb(6,"ion-label"),r.ic(7),r.Lb(),r.Lb(),r.Mb(8,"ion-col",3),r.Mb(9,"ion-label"),r.ic(10),r.Lb(),r.Lb(),r.Mb(11,"ion-col",3),r.Mb(12,"ion-label"),r.ic(13),r.Lb(),r.Lb(),r.Mb(14,"ion-col",8),r.Mb(15,"ion-icon",9),r.Ub("click",(function(){r.ec(i);const n=e.$implicit;return r.Wb(2).modificar_cliente(n.id_cliente)})),r.Lb(),r.Mb(16,"ion-icon",10),r.Ub("click",(function(){r.ec(i);const n=e.$implicit;return r.Wb(2).baja_cliente(n.id_cliente)})),r.Lb(),r.Kb(17,"ion-icon",11),r.Lb(),r.Lb(),r.Lb()}if(2&i){const i=e.$implicit;r.zb(4),r.kc(" ",i.razon_social_cliente," "),r.zb(3),r.kc(" ",i.telefono," "),r.zb(3),r.kc(" ",i.email," "),r.zb(3),r.kc(" ",i.direccion," "),r.zb(4),r.bc("routerLink","/menu-principal/ver-cliente/"+i.id_cliente)}}function m(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,d,18,5,"div",6),r.Lb()),2&i){const i=r.Wb();r.zb(1),r.bc("ngForOf",i.clientes)}}const u=[{path:"",component:(()=>{class i{constructor(i,e,n){this.api_clientes=i,this.alertController=e,this.modalController=n}ngOnInit(){this.actualizar_informacion()}baja_cliente(i){return Object(b.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Seguro que desea eliminar el cliente?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.eliminar_cliente(i)}}]});yield e.present()}))}eliminar_cliente(i){this.api_clientes.eliminar_cliente(i).subscribe(i=>{this.actualizar_informacion()})}actualizar_informacion(){this.api_clientes.listado_clientes().subscribe(i=>{this.clientes=i,this.clientes=this.clientes.result})}modificar_cliente(i){return Object(b.a)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:s.a,componentProps:{id_cliente:i}});return e.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield e.present()}))}}return i.\u0275fac=function(e){return new(e||i)(r.Jb(a.a),r.Jb(c.a),r.Jb(c.C))},i.\u0275cmp=r.Db({type:i,selectors:[["app-administrar-clientes"]],decls:25,vars:1,consts:[["lines","none"],[2,"text-align","center"],["lines","full",1,"titulos"],["size","3"],["size","2"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","full"],["size","1"],["name","create-outline",2,"margin-right","15px",3,"click"],["name","trash-outline","color","danger",2,"margin-right","15px",3,"click"],["color","primary","name","enter-outline",3,"routerLink"]],template:function(i,e){1&i&&(r.Mb(0,"ion-content"),r.Mb(1,"ion-item",0),r.Mb(2,"ion-label",1),r.Mb(3,"b"),r.ic(4,"Clientes"),r.Lb(),r.Lb(),r.Lb(),r.Mb(5,"ion-item",2),r.Mb(6,"ion-grid"),r.Mb(7,"ion-row"),r.Mb(8,"ion-col",3),r.Mb(9,"ion-label"),r.Mb(10,"b"),r.ic(11,"Razon social"),r.Lb(),r.Lb(),r.Lb(),r.Mb(12,"ion-col",4),r.Mb(13,"ion-label"),r.Mb(14,"b"),r.ic(15,"Telefono"),r.Lb(),r.Lb(),r.Lb(),r.Mb(16,"ion-col",3),r.Mb(17,"ion-label"),r.Mb(18,"b"),r.ic(19,"Email"),r.Lb(),r.Lb(),r.Lb(),r.Mb(20,"ion-col",3),r.Mb(21,"ion-label"),r.Mb(22,"b"),r.ic(23,"Direccion"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.hc(24,m,2,1,"div",5),r.Lb()),2&i&&(r.zb(24),r.bc("ngIf",e.clientes))},directives:[c.g,c.m,c.n,c.i,c.p,c.f,t.j,t.i,c.k,c.H,l.g],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),i})()},{path:"modificar-cliente",loadChildren:()=>n.e(17).then(n.bind(null,"jEl+")).then(i=>i.ModificarClientePageModule)}];let h=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(e){return new(e||i)},imports:[[l.h.forChild(u)],l.h]}),i})(),f=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(e){return new(e||i)},imports:[[t.b,o.a,c.A,h]]}),i})()},mhZR:function(i,e,n){"use strict";n.d(e,"a",(function(){return m}));var t=n("fXoL"),o=n("jCJ1"),c=n("TEn/"),l=n("X9o6"),b=n("ofXK"),s=n("3Pt+");function r(i,e){if(1&i&&t.Kb(0,"img",12),2&i){const i=t.Wb(2);t.bc("src",i.cliente.clienteDatos[0].logo_cliente,t.fc)}}function a(i,e){if(1&i){const i=t.Nb();t.Mb(0,"ion-button",9),t.Ub("click",(function(){return t.ec(i),t.Wb(2).agregarLogo()})),t.ic(1," Seleccionar Logo "),t.Lb()}}function d(i,e){if(1&i){const i=t.Nb();t.Mb(0,"ion-content"),t.Mb(1,"ion-item",2),t.Mb(2,"ion-label",3),t.ic(3," Razon social: "),t.Lb(),t.Mb(4,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(i),t.Wb().razon_social=e})),t.Lb(),t.Lb(),t.Mb(5,"ion-item",2),t.Mb(6,"ion-label",3),t.ic(7," Telefono: "),t.Lb(),t.Mb(8,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(i),t.Wb().telefono=e})),t.Lb(),t.Lb(),t.Mb(9,"ion-item",2),t.Mb(10,"ion-label",3),t.ic(11," Email: "),t.Lb(),t.Mb(12,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(i),t.Wb().email=e})),t.Lb(),t.Lb(),t.Mb(13,"ion-item",2),t.Mb(14,"ion-label",3),t.ic(15," Direccion: "),t.Lb(),t.Mb(16,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(i),t.Wb().direccion=e})),t.Lb(),t.Lb(),t.Mb(17,"ion-item",2),t.hc(18,r,1,1,"img",5),t.hc(19,a,2,0,"ion-button",6),t.Kb(20,"img",7),t.Lb(),t.Mb(21,"div",8),t.Mb(22,"ion-button",9),t.Ub("click",(function(){return t.ec(i),t.Wb().modificar_cliente()})),t.ic(23,"Modificar"),t.Lb(),t.Lb(),t.Mb(24,"div",10),t.Kb(25,"img",11),t.Lb(),t.Lb()}if(2&i){const i=t.Wb();t.zb(4),t.bc("ngModel",i.razon_social),t.zb(4),t.bc("ngModel",i.telefono),t.zb(4),t.bc("ngModel",i.email),t.zb(4),t.bc("ngModel",i.direccion),t.zb(2),t.bc("ngIf",i.cliente.clienteDatos[0].logo_cliente),t.zb(1),t.bc("ngIf",!i.logo),t.zb(1),t.bc("src",i.logo,t.fc)}}let m=(()=>{class i{constructor(i,e,n,t){this.api_clientes=i,this.navParams=e,this.modalCtrl=n,this.imageCompress=t,this.id_cliente=this.navParams.get("id_cliente")}ngOnInit(){this.api_clientes.informacion_cliente(this.id_cliente).subscribe(i=>{this.cliente=i,this.cliente=this.cliente.result,this.razon_social=this.cliente.clienteDatos[0].razon_social_cliente,this.email=this.cliente.clienteDatos[0].email,this.telefono=this.cliente.clienteDatos[0].telefono,this.direccion=this.cliente.clienteDatos[0].direccion,console.log(this.cliente)})}modificar_cliente(){this.objeto={id_cliente:this.id_cliente,razon_social_cliente:this.razon_social,direccion:this.direccion,telefono:this.telefono,email:this.email},console.log(this.objeto),this.api_clientes.modificar_cliente(this.objeto).subscribe(i=>{this.logo?this.api_clientes.subir_logo_cliente({id_cliente:this.id_cliente,logo:this.logo}).subscribe(i=>{this.modalCtrl.dismiss({dismissed:!0})}):this.modalCtrl.dismiss({dismissed:!0})},i=>{console.log(i)})}agregarLogo(){this.imageCompress.uploadFile().then(({image:i,orientation:e})=>{console.warn("Size in bytes was:",this.imageCompress.byteCount(i)),this.imageCompress.compressFile(i,e,50,50).then(i=>{console.log(i),this.logo=i})})}}return i.\u0275fac=function(e){return new(e||i)(t.Jb(o.a),t.Jb(c.E),t.Jb(c.C),t.Jb(l.a))},i.\u0275cmp=t.Db({type:i,selectors:[["app-modificar-cliente"]],decls:5,vars:1,consts:[["color","primary",2,"text-align","center"],[4,"ngIf"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],["alt","",3,"src",4,"ngIf"],[3,"click",4,"ngIf"],["alt","",2,"width","50%","margin-left","25%","padding","5px",3,"src"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],["alt","",3,"src"]],template:function(i,e){1&i&&(t.Mb(0,"ion-header"),t.Mb(1,"ion-toolbar",0),t.Mb(2,"ion-title"),t.ic(3,"Modificar cliente"),t.Lb(),t.Lb(),t.Lb(),t.hc(4,d,26,7,"ion-content",1)),2&i&&(t.zb(4),t.bc("ngIf",e.cliente))},directives:[c.j,c.z,c.y,b.j,c.g,c.m,c.n,c.l,c.J,s.d,s.e,c.c],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),i})()}}]);