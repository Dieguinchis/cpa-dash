{"version":3,"sources":["webpack:///src/app/login/login.page.html","webpack:///src/app/login/login-routing.module.ts","webpack:///src/app/login/login.module.ts","webpack:///src/app/login/login.page.scss","webpack:///src/app/login/login.page.ts","webpack:///src/app/login/servicios/servicio-login.service.ts"],"names":["routes","path","component","LoginPageRoutingModule","imports","forChild","exports","LoginPageModule","declarations","LoginPage","api_login","router","storage","loadingController","create","message","loader","present","login","nombre","usuario","psw_admin","password","subscribe","data","status","set","then","res","dismiss","navigate","error","console","log","alert","selector","template","ServicioLoginService","http","apiDir","requestOptions","headers","parametros","post","providedIn"],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["export default \"<ion-content>\\r\\n\\r\\n  <div class=\\\"cuadro_login\\\">\\r\\n    <ion-item lines=\\\"full\\\" color=\\\"primary\\\">\\r\\n      <ion-label style=\\\"text-align: center;\\\">Iniciar sesion</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Usuario: </ion-label>\\r\\n      <ion-input [(ngModel)]=\\\"usuario\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Password: </ion-label>\\r\\n      <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <div>\\r\\n      <ion-button expand=\\\"full\\\" (click)=\\\"login()\\\">Entrar</ion-button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"margin-top: 80px\\\">\\r\\n    <img class=\\\"imagen_empresa\\\" src='../../../assets/LogoCPA-01.png'>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","export default \".cuadro_login {\\n  width: 20%;\\n  height: 190px;\\n  margin-left: 40%;\\n  margin-top: 10%;\\n  background: white;\\n}\\n\\n.imagen_empresa {\\n  width: 70%;\\n  margin-left: 15%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vRTpcXFRyYWJham9cXGNwYVxcZnJvbnRlbmRfY3BhX2FkbWluL3NyY1xcYXBwXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIiwic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxVQUFBO0VBQ0EsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdWFkcm9fbG9naW57XHJcbiAgICB3aWR0aDogMjAlO1xyXG4gICAgaGVpZ2h0OiAxOTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA0MCU7XHJcbiAgICBtYXJnaW4tdG9wOiAxMCU7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuLmltYWdlbl9lbXByZXNhe1xyXG4gICAgd2lkdGg6IDcwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAxNSU7XHJcbn0iLCIuY3VhZHJvX2xvZ2luIHtcbiAgd2lkdGg6IDIwJTtcbiAgaGVpZ2h0OiAxOTBweDtcbiAgbWFyZ2luLWxlZnQ6IDQwJTtcbiAgbWFyZ2luLXRvcDogMTAlO1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLmltYWdlbl9lbXByZXNhIHtcbiAgd2lkdGg6IDcwJTtcbiAgbWFyZ2luLWxlZnQ6IDE1JTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ServicioLoginService } from './servicios/servicio-login.service'\r\nimport { Storage } from '@ionic/storage';\r\nimport { Router } from '@angular/router';\r\nimport { MenuController, LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  usuario:any;\r\n  password:any;\r\n  status:any;\r\n  public loader;\r\n\r\n  constructor(private api_login: ServicioLoginService,\r\n    public router:Router,\r\n    public storage: Storage,\r\n    public loadingController: LoadingController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async login(){\r\n    this.loader = await this.loadingController.create({ message: \"Ingresando...\" });\r\n    this.loader.present();\r\n    this.api_login.login({nombre: this.usuario, psw_admin: this.password}).subscribe((data:any) => {\r\n      if(data.status == \"OK\"){\r\n        this.storage.set('token', data).then(res=>{\r\n          this.loadingController.dismiss();\r\n          this.router.navigate(['']);\r\n        },error=>{\r\n          console.log(error);\r\n          this.loadingController.dismiss();\r\n          alert('algo salio mal =(');\r\n        })\r\n      }else{\r\n        alert(data.message.message);\r\n        this.loadingController.dismiss();\r\n      }      \r\n    }),(error => {\r\n      console.log(error)\r\n      this.loadingController.dismiss();\r\n      alert('Algo salio mal, por favor intente de nuevo mas tarde');\r\n    })\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http'\r\nimport { HttpClientModule } from '@angular/common/http'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ServicioLoginService {\r\n  private requestOptions\r\n  headers : any\r\n\r\n  private apiDir = \"http://157.230.90.222:3000\";\r\n\r\n\r\n  constructor(public http: HttpClient) {\r\n    this.requestOptions = {\r\n      headers : new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n      })\r\n    };\r\n   }\r\n\r\n  login(parametros){\r\n    return this.http.post(this.apiDir+'/auth/signin',parametros,this.requestOptions);\r\n  }\r\n\r\n}\r\n"]}