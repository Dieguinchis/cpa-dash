{"version":3,"sources":["./src/app/login/login.page.html","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.scss","./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["export default \"<ion-content>\\r\\n\\r\\n  <div class=\\\"cuadro_login\\\">\\r\\n    <ion-item lines=\\\"full\\\" color=\\\"primary\\\">\\r\\n      <ion-label style=\\\"text-align: center;\\\">Iniciar sesion</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Usuario: </ion-label>\\r\\n      <ion-input [(ngModel)]=\\\"usuario\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Password: </ion-label>\\r\\n      <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <div>\\r\\n      <ion-button expand=\\\"full\\\" (click)=\\\"login()\\\">Entrar</ion-button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"margin-top: 80px\\\">\\r\\n    <img class=\\\"imagen_empresa\\\" src='../../../assets/LogoCPA-01.png'>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","export default \".cuadro_login {\\n  width: 20%;\\n  height: 190px;\\n  margin-left: 40%;\\n  margin-top: 10%;\\n  background: white;\\n}\\n\\n.imagen_empresa {\\n  width: 70%;\\n  margin-left: 15%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vRTpcXFRyYWJham9cXGNwYVxcZnJvbnRlbmRfY3BhX2FkbWluL3NyY1xcYXBwXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIiwic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxVQUFBO0VBQ0EsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdWFkcm9fbG9naW57XHJcbiAgICB3aWR0aDogMjAlO1xyXG4gICAgaGVpZ2h0OiAxOTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA0MCU7XHJcbiAgICBtYXJnaW4tdG9wOiAxMCU7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuLmltYWdlbl9lbXByZXNhe1xyXG4gICAgd2lkdGg6IDcwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAxNSU7XHJcbn0iLCIuY3VhZHJvX2xvZ2luIHtcbiAgd2lkdGg6IDIwJTtcbiAgaGVpZ2h0OiAxOTBweDtcbiAgbWFyZ2luLWxlZnQ6IDQwJTtcbiAgbWFyZ2luLXRvcDogMTAlO1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLmltYWdlbl9lbXByZXNhIHtcbiAgd2lkdGg6IDcwJTtcbiAgbWFyZ2luLWxlZnQ6IDE1JTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ServicioLoginService } from './servicios/servicio-login.service'\r\nimport { Storage } from '@ionic/storage';\r\nimport { Router } from '@angular/router';\r\nimport { MenuController, LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  usuario:any;\r\n  password:any;\r\n  status:any;\r\n  public loader;\r\n\r\n  constructor(private api_login: ServicioLoginService,\r\n    public router:Router,\r\n    public storage: Storage,\r\n    public loadingController: LoadingController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async login(){\r\n    this.loader = await this.loadingController.create({ message: \"Ingresando...\" });\r\n    this.loader.present();\r\n\r\n    this.api_login.login({nombre: this.usuario, psw_admin: this.password}).subscribe((data:any) => {\r\n      console.log(data)\r\n      if(data.status == \"OK\"){\r\n        this.storage.set('token', data).then(res=>{\r\n          this.loadingController.dismiss();\r\n          this.router.navigate(['']);\r\n        },error=>{\r\n          console.log(error);\r\n          this.loadingController.dismiss();\r\n          alert('algo salio mal');\r\n        })\r\n      }else{\r\n        alert(data.message.message);\r\n        this.loadingController.dismiss();\r\n      } \r\n\r\n    },error => {\r\n      this.loadingController.dismiss();\r\n      if(error.error.badVersion){\r\n        alert('La version utilizada de la app no es la ultima, Por favor aguarde unos minutos, elimine el cache y actualice la pagina.')\r\n      }else{\r\n        alert('Los datos ingresados no son correctos');\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}