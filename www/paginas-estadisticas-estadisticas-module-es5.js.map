{"version":3,"sources":["webpack:///src/app/paginas/estadisticas/estadisticas.page.html","webpack:///src/app/paginas/administrar-clientes/servicios/api-clientes.service.ts","webpack:///src/app/paginas/estadisticas/estadisticas-routing.module.ts","webpack:///src/app/paginas/estadisticas/estadisticas.module.ts","webpack:///src/app/paginas/estadisticas/estadisticas.page.scss","webpack:///src/app/paginas/estadisticas/estadisticas.page.ts"],"names":["ApiClientesService","http","apiDir","requestOptions","headers","get","id","datos","post","data","console","log","toPromise","id_equipo","id_servicio","id_visita","estado","params","Promise","resolve","reject","subscribe","response","error","id_producto","parametros","bodyP","id_sucursal","id_cliente","id_plano","providedIn","routes","path","component","EstadisticasPageRoutingModule","imports","forChild","exports","EstadisticasPageModule","declarations","EstadisticasPage","api_clientes","api_visitas","loadingController","alertController","clientesElegidos","sucursalesElegidas","sectoresElegidos","equiposElegidos","filtro_desratizacion","filtro_uv","respuestas","contadores","capturas","consumo","intacto","nuevo","tapado","faltante","malEstado","productosFiltrados","productosUtilizados","interfaceOption","cssClass","buttons","text","handler","sucursales","url","actualizar_informacion","listado_productosServicio","productos","result","dia","Date","getDate","toString","mes1","getMonth","mes2","year","getFullYear","fecha_desde","fecha_hasta","valueOf","content","scrollToBottom","listado_clientes","clientes","sort","ordenarClientes","a","b","razon_social_cliente","toLowerCase","includes","length","sucursalesCliente","informacion_cliente","datosSucursal","ordenarSucursales","razon_social_sucursal","grupoWorkstations","listado_grupoWorkstations","sectores","allEquipos","JSON","parse","stringify","aux","index","find","sector","auxSector","nombre_equipo_grupo","push","id_grupo","equipos","filter","equipo","id_equipo_grupo","warn","map","producto","create","header","subHeader","alert","present","message","spinner","loading","filtroUtilizado","captura","filtro","estadisticas","window","open","respuesta","dismiss","selector","template"],"mappings":"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","file":"paginas-estadisticas-estadisticas-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-col class=\\\"ion-no-padding\\\" size=\\\"1.2\\\">\\n        <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n          <ion-label position=\\\"floating\\\">Desde</ion-label>\\n          <ion-datetime min=\\\"2021-02-15\\\"  display-format=\\\"DD.MM.YYYY\\\" [(ngModel)]=\\\"fecha_desde\\\" (ionChange)=\\\"revisarMenor()\\\"></ion-datetime>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"1.2\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-label position=\\\"floating\\\">Hasta</ion-label>\\n          <ion-datetime min=\\\"2021-02-15\\\" display-format=\\\"DD.MM.YYYY\\\" [(ngModel)]=\\\"fecha_hasta\\\" (ionChange)=\\\"revisarMayor()\\\"></ion-datetime> \\n        </ion-item>     \\n      </ion-col>\\n      <ion-col size=\\\"0.7\\\" class=\\\"filter-col\\\">\\n        <ion-label class=\\\"ion-text-wrap\\\" style=\\\"padding-right: 5px;\\\">UV</ion-label>\\n        <ion-checkbox [(ngModel)]=\\\"filtro_uv\\\"></ion-checkbox>\\n      </ion-col>\\n      <ion-col size=\\\"1.25\\\" class=\\\"filter-col\\\">\\n        <ion-label class=\\\"ion-text-wrap\\\" style=\\\"padding-right: 5px;\\\">Desratizacion</ion-label>\\n        <ion-checkbox [(ngModel)]=\\\"filtro_desratizacion\\\"></ion-checkbox>\\n      </ion-col>\\n      <ion-col size=\\\"1.65\\\">\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Cliente</ion-label>\\n          <ion-select [interfaceOptions]=\\\"interfaceOption\\\" (ionChange)=\\\"changeCliente()\\\" [(ngModel)]=\\\"clientesElegidos\\\" multiple>\\n            <ion-select-option *ngFor=\\\"let cliente of clientes\\\" [value]=\\\"cliente\\\">{{cliente.razon_social_cliente}}</ion-select-option>\\n            <ion-select-option [value]=\\\"'all'\\\">Todos</ion-select-option>\\n\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"1.65\\\">\\n        <ion-item *ngIf=\\\"clientesElegidos.length == 1\\\">\\n          <ion-label position=\\\"floating\\\">Sucursal</ion-label>\\n          <ion-select [interfaceOptions]=\\\"interfaceOption\\\" (ionChange)=\\\"changeSucursal()\\\" [(ngModel)]=\\\"sucursalesElegidas\\\" multiple>\\n            <ion-select-option *ngFor=\\\"let sucursal of sucursales\\\" [value]=\\\"sucursal\\\">{{sucursal.razon_social_sucursal}}</ion-select-option>\\n            <ion-select-option [value]=\\\"'all'\\\">Todos</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"1.65\\\">\\n        <ion-item *ngIf=\\\"sucursalesElegidas.length == 1\\\">\\n          <ion-label position=\\\"floating\\\">Sector</ion-label>\\n          <ion-select [interfaceOptions]=\\\"interfaceOption\\\" (ionChange)=\\\"changeSector(sectoresElegidos[0].id_equipo_grupo)\\\" [(ngModel)]=\\\"sectoresElegidos\\\" multiple>\\n            <ion-select-option *ngFor=\\\"let sector of sectores\\\" [value]=\\\"sector\\\">{{sector.nombre_equipo_grupo}}</ion-select-option>\\n            <ion-select-option [value]=\\\"'all'\\\">Todos</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"1.65\\\">\\n        <ion-item *ngIf=\\\"sectoresElegidos.length == 1\\\">\\n          <ion-label position=\\\"floating\\\">Equipo</ion-label>\\n          <ion-select (ionChange)=\\\"equiposChange()\\\" [interfaceOptions]=\\\"interfaceOption\\\" [(ngModel)]=\\\"equiposElegidos\\\" multiple>\\n            <ion-select-option *ngFor=\\\"let equipo of equipos\\\" [value]=\\\"equipo\\\">{{equipo.nombre_equipo}}</ion-select-option>\\n            <ion-select-option [value]=\\\"'all'\\\">Todos</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n      <ion-col size=\\\"0.8\\\">\\n        <ion-button (click)=\\\"buscar()\\\" expand=\\\"block\\\"  shape=\\\"round\\\">\\n          Buscar\\n        </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"0.3\\\" style=\\\"text-align: center;\\\">\\n        <ion-icon (click)=\\\"borrarFiltros()\\\"  style=\\\"font-size: 24px; cursor: pointer;\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-col>\\n    </ion-item>\\n  </ion-toolbar>\\n  <ion-toolbar *ngIf=\\\"filtro_desratizacion\\\">\\n    <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label position=\\\"fixed\\\">Productos</ion-label>\\n        <ion-select (ionChange)=\\\"productosChange()\\\"  [interfaceOptions]=\\\"interfaceOption\\\" [(ngModel)]=\\\"productosFiltrados\\\" multiple>\\n          <ion-select-option *ngFor=\\\"let producto of productos\\\" [value]=\\\"producto.id_producto\\\">{{producto.nombre_producto}} - {{producto.tipo_producto}}</ion-select-option>\\n          <ion-select-option [value]=\\\"'all'\\\">Todos</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n    </ion-col>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content  #content>\\n  <div *ngFor=\\\"let equipos of respuestas\\\">\\n    <ion-item *ngIf=\\\"equipos[0]?.length == 3\\\">\\n      <ion-col size=\\\"1\\\"><b>Fecha</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Cliente</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Sucursal</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Sector</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Workstation</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Producto</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Estado Puesto</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Estado cebo</b></ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"equipos[0]?.length == 4\\\">\\n      <ion-col size=\\\"1\\\"><b>Fecha</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Cliente</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Sucursal</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Sector</b></ion-col>\\n      <ion-col size=\\\"1.5\\\"><b>Workstation</b></ion-col>\\n      <ion-col size=\\\"1.25\\\"><b>Observacion</b></ion-col>\\n      <ion-col size=\\\"1.25\\\"><b>Conteo / Saturacion</b></ion-col>\\n      <ion-col size=\\\"1.25\\\"><b>Encendido</b></ion-col>\\n      <ion-col size=\\\"1.25\\\"><b>Medicion UV</b></ion-col>\\n    </ion-item>\\n    <div *ngFor=\\\"let formularios of equipos\\\">\\n      <ion-item *ngIf=\\\"formularios.length == 3\\\">\\n        <ion-col size=\\\"1\\\">\\n          {{formularios[0]?.fecha_visita | date:\\\"dd/MM/yyyy\\\"}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.cliente?.razon_social_cliente}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.sucursal?.razon_social_sucursal}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.sector?.nombre_equipo_grupo}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.nombre_equipo}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.nombre_producto}} - {{formularios[0]?.tipo_producto}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[1]?.respuesta}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[2]?.respuesta}}\\n        </ion-col>\\n      </ion-item>\\n      <ion-item *ngIf=\\\"formularios.length == 4\\\">\\n        <ion-col size=\\\"1\\\">\\n          {{formularios[0]?.fecha_visita | date:\\\"dd/MM/yyyy\\\"}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.cliente?.razon_social_cliente}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.sucursal?.razon_social_sucursal}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.sector?.nombre_equipo_grupo}}\\n        </ion-col>\\n        <ion-col size=\\\"1.5\\\">\\n          {{formularios[0]?.nombre_equipo}}\\n        </ion-col>\\n        <ion-col size=\\\"1.25\\\">\\n          {{formularios[0]?.respuesta}}\\n        </ion-col>\\n        <ion-col size=\\\"1.25\\\">\\n          {{formularios[1]?.respuesta}}\\n        </ion-col>\\n        <ion-col size=\\\"1.25\\\">\\n          {{formularios[2]?.respuesta}}\\n        </ion-col>\\n        <ion-col size=\\\"1.25\\\">\\n          {{formularios[3]?.respuesta}}\\n        </ion-col>\\n      </ion-item>\\n    </div>\\n  </div>\\n\\n  <ion-card *ngIf=\\\"respuestas.length > 0\\\">\\n    <ion-card-header color=\\\"primary\\\">\\n      <ion-card-title>Resumen</ion-card-title>\\n    </ion-card-header>\\n    <ion-item *ngIf=\\\"filtroUtilizado[1]\\\">\\n      <ion-col style=\\\"padding: 0;\\\" size=\\\"6\\\">\\n        <ion-label><b>Total Captura:</b> {{contadores.capturas}}</ion-label>\\n      </ion-col>\\n      <ion-col style=\\\"padding: 0;\\\" size=\\\"6\\\">\\n        <ion-label><b>Total Consumo:</b> {{contadores.consumo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"filtroUtilizado[1]\\\">\\n      <ion-col style=\\\"padding: 0;\\\" size=\\\"6\\\">\\n        <ion-label><b>Total Intactos:</b> {{contadores.intacto}}</ion-label>\\n      </ion-col>\\n      <ion-col style=\\\"padding: 0;\\\" size=\\\"6\\\">\\n        <ion-label><b>Total Nuevos:</b> {{contadores.nuevo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"filtroUtilizado[1]\\\">\\n      <ion-col style=\\\"padding: 0;\\\" size=\\\"6\\\">\\n        <ion-label><b>Total Tapados:</b> {{contadores.tapado}}</ion-label>\\n      </ion-col>\\n      <ion-col style=\\\"padding: 0;\\\" size=\\\"6\\\">\\n        <ion-label><b>Total Faltantes:</b> {{contadores.faltante}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"filtroUtilizado[1]\\\">\\n      <ion-col style=\\\"padding: 0;\\\" size=\\\"12\\\">\\n        <ion-label><b>Total Mal estado:</b> {{contadores.malEstado}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"filtroUtilizado[0]\\\">\\n      <ion-label ><b>Promedio mediciones UV:</b> {{promedioUV?promedioUV:'No hay mediciones'}}</ion-label>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[0].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-label><b>Pegamento - Pegamento:</b></ion-label>\\n    </ion-item >\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[0].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Captura: {{productos[0].captura}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Consumo: {{productos[0].consumo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[0].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Intactos: {{productos[0].intacto}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Nuevos {{productos[0].nuevo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[0].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Tapados: {{productos[0].tapado}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Faltantes: {{productos[0].faltante}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[0].id_producto) || productosUtilizados?.length == 0)\\\"> \\n      <ion-col size=\\\"12\\\">\\n        <ion-label>Mal estado: {{productos[0].malEstado}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[1].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-label><b>Parafinado - Floucoumafen:</b></ion-label>\\n    </ion-item >\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[1].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Captura: {{productos[1].captura}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Consumo: {{productos[1].consumo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[1].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Intactos: {{productos[1].intacto}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Nuevos {{productos[1].nuevo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[1].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Tapados: {{productos[1].tapado}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Faltantes: {{productos[1].faltante}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[1].id_producto) || productosUtilizados?.length == 0)\\\"> \\n      <ion-col size=\\\"12\\\">\\n        <ion-label>Mal estado: {{productos[1].malEstado}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[2].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-label><b>Parafinado - Bromadiolone:</b></ion-label>\\n    </ion-item >\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[2].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Captura: {{productos[2].captura}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Consumo: {{productos[2].consumo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[2].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Intactos: {{productos[2].intacto}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Nuevos {{productos[2].nuevo}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[2].id_producto) || productosUtilizados?.length == 0)\\\">\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Tapados: {{productos[2].tapado}}</ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-label>Faltantes: {{productos[2].faltante}}</ion-label>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"(filtroUtilizado[1]) && (productosUtilizados?.includes(productos[2].id_producto) || productosUtilizados?.length == 0)\\\"> \\n      <ion-col size=\\\"12\\\">\\n        <ion-label>Mal estado: {{productos[2].malEstado}}</ion-label>\\n      </ion-col>\\n    </ion-item> \\n  </ion-card>\\n  <ion-button *ngIf=\\\"respuestas.length > 0\\\" (click)=\\\"verPdf()\\\" expand=\\\"block\\\"  shape=\\\"round\\\">\\n    Ver PDF\\n  </ion-button>\\n</ion-content>\\n\\n<ion-fab *ngIf=\\\"respuestas.length > 0\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n  <ion-fab-button (click)=\\\"botonBajar()\\\">\\n    <ion-icon name=\\\"chevron-down-outline\\\"></ion-icon>\\n  </ion-fab-button>\\n</ion-fab>\\n\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http'\r\nimport { HttpClientModule } from '@angular/common/http'\r\nimport {version} from '../../../../environments/version'\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiClientesService {\r\n  private requestOptions\r\n  headers : any\r\n\r\n  private apiDir = \"http://192.168.0.71:3000\";\r\n\r\n\r\n  constructor(public http: HttpClient) {\r\n    this.requestOptions = {\r\n      headers : new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'version': version\r\n      })\r\n    };\r\n   }\r\n   \r\n  listado_clientes(){\r\n    return this.http.get(this.apiDir+'/clientes',this.requestOptions);\r\n  }\r\n\r\n  informacion_cliente(id){\r\n    return this.http.get(this.apiDir+'/clientes/id/'+id,this.requestOptions);\r\n  }\r\n\r\n  alta_sucursal(datos){\r\n    return this.http.post(this.apiDir+'/sucursales/crear',datos,this.requestOptions);\r\n  }\r\n\r\n  informacion_sucursal(id){\r\n    return this.http.get(this.apiDir+'/sucursales/id/'+id,this.requestOptions);\r\n  }\r\n\r\n  async informacion_visita(id){\r\n    var data = await this.http.get(this.apiDir+'/visitas/id/'+id,this.requestOptions);\r\n    console.log(this.apiDir+'/visitas/id/'+id,this.requestOptions)\r\n    return data.toPromise()\r\n  }\r\n\r\n  listado_workstations(id){\r\n    return this.http.get(this.apiDir+'/servicios/equipos/sucursal/'+id,this.requestOptions);\r\n  }\r\n  listado_grupoWorkstations(id){\r\n    return this.http.get(this.apiDir+'/servicios/gruposEquipos/sucursal/'+id,this.requestOptions);\r\n  }\r\n\r\n  borrar_equipo(id_equipo){\r\n    return this.http.post(this.apiDir+'/servicios/eliminarEquipos/'+id_equipo,null,this.requestOptions);\r\n  }\r\n\r\n  listado_productosServicio(id_servicio){\r\n    return this.http.get(this.apiDir+'/productos/idServicio/'+id_servicio,this.requestOptions);\r\n  }\r\n\r\n  cambiar_estado_visita(id_visita, estado){\r\n    console.log(this.apiDir+'/visitas/cambiarEstado',this.requestOptions);\r\n    var params = {id_visita:id_visita, estado:estado}\r\n    return new Promise((resolve, reject) => {\r\n      this.http.post(this.apiDir+'/visitas/cambiarEstado', params, this.requestOptions)       \r\n      .subscribe(response => {\r\n        resolve(response);\r\n      }, (error) => {\r\n        reject(error);\r\n      });\r\n    });\r\n    \r\n  }\r\n\r\n  eliminar_Grupo_workstation(id_producto){\r\n    console.log('delete2',id_producto)\r\n    return this.http.post(this.apiDir+'/servicios/eliminarGrupoEquipos/'+id_producto,this.requestOptions);\r\n  }\r\n\r\n  subir_planos(parametros){\r\n    return this.http.post(this.apiDir+'/planos/crear', parametros, this.requestOptions)\r\n  }\r\n\r\n  upload(params,bodyP = {}){\r\n    return new Promise((resolve, reject) => {\r\n      this.http.post(this.apiDir + params,bodyP)\r\n      // this.http.post(this.url + params, bodyP,{headers: header})\r\n        .subscribe(response => {\r\n          resolve(response);\r\n        }, (error) => {\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  ver_sucursal(id_sucursal){\r\n    return this.http.get(this.apiDir+'/sucursales/id/'+id_sucursal,this.requestOptions)\r\n  }\r\n\r\n  crear_pdf(id_visita){\r\n    return this.http.post(this.apiDir+'/pdf/create-pdf',id_visita,this.requestOptions);\r\n  }\r\n\r\n  ver_pdf(id_visita){\r\n    return this.http.get(this.apiDir+'/pdf/fetch-pdf/'+id_visita,this.requestOptions);\r\n  }\r\n\r\n  modificar_cliente(parametros){\r\n    return this.http.post(this.apiDir+'/clientes/actualizar',parametros,this.requestOptions)\r\n  }\r\n\r\n  subir_logo_cliente(parametros){\r\n    return this.http.post(this.apiDir+'/clientes/actualizarLogo', parametros, this.requestOptions);\r\n  }\r\n  eliminar_Logo_Cliente(parametros){\r\n    return this.http.post(this.apiDir+'/clientes/eliminarLogo', parametros, this.requestOptions);\r\n  }\r\n  eliminar_cliente(id_cliente){\r\n    return this.http.post(this.apiDir+'/clientes/eliminar/'+id_cliente,this.requestOptions)\r\n  }\r\n\r\n  eliminar_sucursal(id_sucursal){\r\n    return this.http.post(this.apiDir+'/sucursales/eliminar/'+id_sucursal,this.requestOptions)\r\n  }\r\n\r\n  eliminar_plano(id_plano){\r\n    return this.http.post(this.apiDir+'/planos/eliminar/'+id_plano,this.requestOptions)\r\n  }\r\n\r\n  modificar_sucursal(parametros){\r\n    return this.http.post(this.apiDir+'/sucursales/actualizar',parametros,this.requestOptions)\r\n  }\r\n\r\n  estadisticas(parametros){\r\n    return this.http.post(this.apiDir+'/clientes/estadisticas/',parametros,this.requestOptions);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EstadisticasPage } from './estadisticas.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EstadisticasPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EstadisticasPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EstadisticasPageRoutingModule } from './estadisticas-routing.module';\n\nimport { EstadisticasPage } from './estadisticas.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EstadisticasPageRoutingModule\n  ],\n  declarations: [EstadisticasPage]\n})\nexport class EstadisticasPageModule {}\n","export default \".filter-col {\\n  display: flex;\\n  align-items: center;\\n}\\n\\nion-checkbox {\\n  min-width: 18px;\\n}\\n\\nion-card {\\n  margin-bottom: 30px;\\n  border-radius: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnaW5hcy9lc3RhZGlzdGljYXMvRDpcXFJlcG9zaXRvcmlvc1xcZnJvbnRlbmRfY3BhX2FkbWluL3NyY1xcYXBwXFxwYWdpbmFzXFxlc3RhZGlzdGljYXNcXGVzdGFkaXN0aWNhcy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2luYXMvZXN0YWRpc3RpY2FzL2VzdGFkaXN0aWNhcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUNDSjs7QURDQTtFQUNJLGVBQUE7QUNFSjs7QURBQTtFQUNJLG1CQUFBO0VBQ0EsbUJBQUE7QUNHSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2luYXMvZXN0YWRpc3RpY2FzL2VzdGFkaXN0aWNhcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmlsdGVyLWNvbHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbmlvbi1jaGVja2JveHtcclxuICAgIG1pbi13aWR0aDogMThweDtcclxufVxyXG5pb24tY2FyZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufSIsIi5maWx0ZXItY29sIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuaW9uLWNoZWNrYm94IHtcbiAgbWluLXdpZHRoOiAxOHB4O1xufVxuXG5pb24tY2FyZCB7XG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59Il19 */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\nimport { ApiClientesService } from '../administrar-clientes/servicios/api-clientes.service';\r\nimport { ApiVisitasService } from '../programar-visita/servicios/api-visitas.service';\r\n\r\n@Component({\r\n  selector: 'app-estadisticas',\r\n  templateUrl: './estadisticas.page.html',\r\n  styleUrls: ['./estadisticas.page.scss'],\r\n})\r\n\r\n\r\nexport class EstadisticasPage implements OnInit {\r\n\r\n  @ViewChild('content') private content: any;\r\n\r\n  public fecha_desde;\r\n  public fecha_hasta;\r\n  public clientes;\r\n  public clientesElegidos = [];\r\n  public sucursales;\r\n  public sucursalesElegidas = [];\r\n  public sectores;\r\n  public sectoresElegidos = [];\r\n  public equipos;\r\n  public allEquipos;\r\n  public equiposElegidos = [];\r\n  public filtro_desratizacion = true;\r\n  public filtro_uv = true;\r\n  public respuestas = [];\r\n  public productos;\r\n  public contadores = {\r\n    capturas:0,\r\n    consumo:0,\r\n    intacto:0,\r\n    nuevo:0,\r\n    tapado:0,\r\n    faltante:0,\r\n    malEstado:0\r\n  };\r\n  public promedioUV;\r\n  public productosFiltrados = [];\r\n  public productosUtilizados = [];\r\n  public filtroUtilizado;\r\n  interfaceOption: any = {\r\n    cssClass: 'wide-alert',\r\n    buttons:{\r\n      text: 'Todos',\r\n      handler: () => {\r\n        this.sucursalesElegidas == this.sucursales;\r\n      }\r\n    }\r\n  };\r\n  public url = \"http://192.168.0.71:3000/public/pdfs/informe .pdf\"\r\n\r\n  constructor(\r\n    public api_clientes: ApiClientesService,\r\n    public api_visitas: ApiVisitasService,\r\n    public loadingController: LoadingController,\r\n    public alertController: AlertController\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n    this.actualizar_informacion();\r\n    this.api_clientes.listado_productosServicio(20).subscribe(data => {\r\n      this.productos = data;\r\n      this.productos = this.productos.result;\r\n      console.log(this.productos);\r\n    })\r\n    var dia = ((new Date().getDate() >= 10) ? new Date().getDate() : '0' + new Date().getDate().toString()) + 'T00:00:00-03:00'\r\n    var mes1 :any = (new Date().getMonth())\r\n    var mes2 :any = (new Date().getMonth() + 1)\r\n    var year = new Date().getFullYear().toString();\r\n    if (mes1 <= 9) {\r\n      mes1 = '0' + mes1.toString()\r\n    }else{\r\n      mes1 = mes1.toString()\r\n    }\r\n    if (mes2 <= 9) {\r\n      mes2 = '0' + mes2.toString()\r\n    }else{\r\n      mes2 = mes2.toString()\r\n    }\r\n    this.fecha_desde = year + '-' + mes1 + '-' + dia;\r\n    this.fecha_hasta = year + '-' + mes2 + '-' + dia;\r\n  }\r\n\r\n  revisarMenor(){\r\n    if (new Date(this.fecha_desde).valueOf() > new Date(this.fecha_hasta).valueOf()){\r\n      this.fecha_hasta = this.fecha_desde;\r\n    }\r\n  }\r\n\r\n  revisarMayor(){\r\n    if (new Date(this.fecha_desde).valueOf() > new Date(this.fecha_hasta).valueOf()){\r\n      this.fecha_desde = this.fecha_hasta;\r\n    }\r\n  }\r\n\r\n  botonBajar(){\r\n    this.content.scrollToBottom(300);\r\n  }\r\n\r\n  actualizar_informacion(){\r\n    this.api_clientes.listado_clientes().subscribe(data => {\r\n      this.clientes = data;\r\n      this.clientes = this.clientes.result;\r\n      this.clientes.sort(this.ordenarClientes);\r\n    }),\r\n    (error => {\r\n      console.log(error);\r\n    })\r\n  }\r\n\r\n  ordenarClientes(a,b){\r\n    if (a.razon_social_cliente.toLowerCase() > b.razon_social_cliente.toLowerCase()) {\r\n      return 1;\r\n    }\r\n    if (a.razon_social_cliente.toLowerCase() < b.razon_social_cliente.toLowerCase()) {\r\n      return -1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  changeCliente(){\r\n    this.sucursalesElegidas = [];\r\n    this.sectoresElegidos = [];\r\n    this.equiposElegidos = [];\r\n    if (this.clientesElegidos.includes('all')){\r\n      this.clientesElegidos = this.clientes;\r\n    }\r\n    console.log(this.clientesElegidos);\r\n    if (this.clientesElegidos.length == 1) {\r\n      this.sucursalesCliente(this.clientesElegidos[0].id_cliente); \r\n    }\r\n  }\r\n\r\n  sucursalesCliente(id_cliente){\r\n    this.api_visitas.informacion_cliente(id_cliente).subscribe(data => {\r\n      this.sucursales = data;\r\n      this.sucursales = this.sucursales.result.sucursales.datosSucursal;\r\n      this.sucursales.sort(this.ordenarSucursales);\r\n      if (this.sucursales.length ==  1){\r\n        this.sucursalesElegidas = [this.sucursales[0]];\r\n      }\r\n      console.log(this.sucursales);\r\n    }), (error => {\r\n      console.log(error);\r\n    })\r\n  }\r\n\r\n  ordenarSucursales(a,b){\r\n    if (a.razon_social_sucursal.toLowerCase() > b.razon_social_sucursal.toLowerCase()) {\r\n      return 1;\r\n    }\r\n    if (a.razon_social_sucursal.toLowerCase() < b.razon_social_sucursal.toLowerCase()) {\r\n      return -1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  changeSucursal(){\r\n    this.sectoresElegidos = [];\r\n    this.equiposElegidos = [];\r\n    if (this.sucursalesElegidas.includes('all')){\r\n      this.sucursalesElegidas = this.sucursales;\r\n    }\r\n    this.grupoWorkstations();\r\n  }\r\n\r\n  grupoWorkstations(){\r\n    this.api_clientes.listado_grupoWorkstations(this.sucursalesElegidas[0].id_sucursal).subscribe(data => {\r\n      this.sectores = data;\r\n      this.sectores = this.sectores.result;\r\n      this.allEquipos = JSON.parse(JSON.stringify(this.sectores));\r\n      console.log(this.allEquipos);\r\n      var aux = [];\r\n\r\n      for (let index = 0; index < this.allEquipos.length; index++) {\r\n        if (this.sectores.find(sector => !aux.find(auxSector => auxSector.nombre_equipo_grupo == sector.nombre_equipo_grupo))) {\r\n          aux.push(this.sectores.find(sector => !aux.find(auxSector => auxSector.nombre_equipo_grupo == sector.nombre_equipo_grupo)));\r\n        }\r\n      }\r\n      \r\n      this.sectores = aux;\r\n      console.log(this.sectores);\r\n    })\r\n  }\r\n\r\n  changeSector(id_grupo){\r\n    console.log(id_grupo);\r\n    this.equiposElegidos = [];\r\n    this.equipos = this.allEquipos.filter(equipo => equipo.id_equipo_grupo == id_grupo);\r\n    if (this.sectoresElegidos.includes('all')){\r\n      this.sectoresElegidos = this.sectores;\r\n    }\r\n    console.warn(this.equipos);\r\n  }\r\n\r\n  equiposChange(){\r\n    if (this.equiposElegidos.includes('all')){\r\n      this.equiposElegidos = this.equipos;\r\n    }\r\n    console.log(this.equiposElegidos);\r\n  }\r\n\r\n  productosChange(){\r\n    if (this.productosFiltrados.includes('all')){\r\n      this.productosFiltrados = this.productos.map(producto => producto.id_producto);\r\n    }\r\n    console.log(this.productosFiltrados);\r\n  }\r\n\r\n  async buscar(){\r\n\r\n    if (this.clientesElegidos.length == 0) {\r\n      const alert = await this.alertController.create({\r\n        header: 'Error',\r\n        subHeader: 'No ha seleccionado ningun cliente',\r\n        buttons: ['OK']\r\n      });\r\n    \r\n      await alert.present();\r\n\r\n    }else{\r\n      if (!this.filtro_uv && !this.filtro_desratizacion) {\r\n        const alert = await this.alertController.create({\r\n          header: 'Error',\r\n          subHeader: 'No ha seleccionado ningun servicio',\r\n          buttons: ['OK']\r\n        });\r\n      \r\n        await alert.present();\r\n      }else{\r\n        const loading = await this.loadingController.create({\r\n          message: 'Cargando estadisticas',\r\n          spinner: 'bubbles'\r\n        });\r\n        await loading.present();\r\n        this.filtroUtilizado = [this.filtro_uv, this.filtro_desratizacion];\r\n        this.productosUtilizados = JSON.parse(JSON.stringify(this.productosFiltrados));\r\n        this.respuestas = [];\r\n        for (let index = 0; index < this.productos.length; index++) {\r\n          const producto = this.productos[index];\r\n          producto.captura = 0;\r\n          producto.consumo = 0;\r\n          producto.faltante = 0;\r\n          producto.intacto = 0;\r\n          producto.malEstado = 0;\r\n          producto.nuevo = 0;\r\n          producto.tapado = 0;\r\n        }\r\n        var filtro = [this.fecha_desde,this.fecha_hasta,this.filtro_uv, this.filtro_desratizacion, this.clientesElegidos, this.sucursalesElegidas, this.sectoresElegidos, this.equiposElegidos, this.productosUtilizados , this.productos];\r\n        this.api_clientes.estadisticas(filtro).subscribe(async (datos) =>{\r\n          var aux;\r\n          aux = datos;\r\n          aux = aux.respuestas;\r\n          console.log(datos);\r\n          window.open(aux.url,'_blank')\r\n          this.contadores = aux.contadores;\r\n          console.log(this.contadores)\r\n          this.respuestas = aux.respuesta;\r\n          this.productos = aux.productos;\r\n          loading.dismiss();\r\n          if (this.respuestas.length == 0){\r\n            const alert = await this.alertController.create({\r\n              header: 'Error',\r\n              message: 'No se encontro ningun dato sobre los filtros aplicados',\r\n              buttons: ['OK']\r\n            });\r\n          \r\n            await alert.present();\r\n          }\r\n        })  \r\n      }\r\n    }\r\n  }\r\n\r\n  async borrarFiltros(){\r\n    const alert = await this.alertController.create({\r\n      subHeader: 'Â¿Estas seguro que deseeas limpiar los filtros?',\r\n      buttons: [\r\n        \"Cancelar\",\r\n        {\r\n          text:'Si',\r\n          handler: () =>{\r\n            this.clientesElegidos = [];\r\n            this.sucursalesElegidas = [];\r\n            this.sectoresElegidos = [];\r\n            this.equiposElegidos = [];\r\n            this.productosFiltrados = [];\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  \r\n    await alert.present();\r\n  }\r\n\r\n  async verPdf(){\r\n    // var params = {\r\n    //   respuestas: this.respuestas,\r\n    //   contadores: this.contadores,\r\n    //   productos: this.productos\r\n    // }\r\n    // const loading = await this.loadingController.create({\r\n    //   message: 'Cargando',\r\n    // });\r\n    // await loading.present();\r\n    // console.log(params)\r\n    // this.api_visitas.pdfEstadisticas(params).subscribe((resp:any) => {\r\n    //   console.log(resp)\r\n    //   loading.dismiss();\r\n    //   window.open(resp.url,'_blank')\r\n    // })\r\n    window.open(this.url,'_blank')\r\n    \r\n  }\r\n}\r\n"]}