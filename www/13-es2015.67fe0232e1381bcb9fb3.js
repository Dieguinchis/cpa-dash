(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/+FQ":function(i,o,e){"use strict";e.d(o,"a",(function(){return v}));var n=e("fXoL"),t=e("+1S5"),c=e("TEn/"),r=e("3Pt+"),s=e("ofXK");function b(i,o){if(1&i){const i=n.Nb();n.Mb(0,"div"),n.Mb(1,"ion-item",16),n.Mb(2,"ion-label"),n.ic(3," Seleccione tipo de campo "),n.Lb(),n.Mb(4,"ion-select",17),n.Ub("ngModelChange",(function(o){return n.ec(i),n.Wb(2).$implicit.tipoCampo=o})),n.Mb(5,"ion-select-option",19),n.ic(6,"Escritura"),n.Lb(),n.Mb(7,"ion-select-option",20),n.ic(8,"Seleccionable"),n.Lb(),n.Mb(9,"ion-select-option",21),n.ic(10,"Seleccion multiple"),n.Lb(),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=n.Wb(2).$implicit,o=n.Wb();n.zb(4),n.bc("disabled",0==o.servicio.modificable)("ngModel",i.tipoCampo)}}function l(i,o){if(1&i){const i=n.Nb();n.Mb(0,"ion-item",16),n.Mb(1,"ion-label"),n.ic(2,"Ingrese la opcion: "),n.Lb(),n.Mb(3,"ion-input",3),n.Ub("ngModelChange",(function(e){return n.ec(i),o.$implicit.name=e})),n.Lb(),n.Mb(4,"ion-icon",23),n.Ub("click",(function(){n.ec(i);const e=o.index,t=o.$implicit,c=n.Wb(3).index;return n.Wb().quitar_opcion_select(c,e,t.opcionId)})),n.Lb(),n.Lb()}if(2&i){const i=o.$implicit;n.zb(3),n.bc("ngModel",i.name)}}function a(i,o){if(1&i){const i=n.Nb();n.Mb(0,"div"),n.hc(1,l,5,1,"ion-item",22),n.Mb(2,"ion-item",16),n.Mb(3,"ion-button",8),n.Ub("click",(function(){n.ec(i);const o=n.Wb(2).index;return n.Wb().agregar_opcion_select(o)})),n.ic(4," Agregar opcion "),n.Kb(5,"ion-icon",9),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=n.Wb(2).$implicit;n.zb(1),n.bc("ngForOf",i.opt)}}function u(i,o){if(1&i){const i=n.Nb();n.Mb(0,"ion-item",1),n.Mb(1,"ion-grid",14),n.Mb(2,"ion-row",14),n.Mb(3,"ion-item",16),n.Mb(4,"ion-col"),n.Mb(5,"ion-label"),n.ic(6,"Ingrese titulo del campo: "),n.Lb(),n.Lb(),n.Mb(7,"ion-col"),n.Mb(8,"ion-input",17),n.Ub("ngModelChange",(function(o){return n.ec(i),n.Wb().$implicit.nombreCampo=o})),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Mb(9,"ion-row"),n.hc(10,b,11,2,"div",18),n.Lb(),n.hc(11,a,6,1,"div",18),n.Lb(),n.Lb()}if(2&i){const i=n.Wb().$implicit,o=n.Wb();n.zb(8),n.bc("disabled","Tipo de producto"==i.nombreCampo||0==o.servicio.modificable)("ngModel",i.nombreCampo),n.zb(2),n.bc("ngIf","Tipo de producto"!=i.nombreCampo),n.zb(1),n.bc("ngIf","select"==i.tipoCampo||"multiple"==i.tipoCampo)}}function p(i,o){if(1&i&&(n.Mb(0,"div",14),n.hc(1,u,12,4,"ion-item",15),n.Lb()),2&i){const i=o.$implicit;n.zb(1),n.bc("ngIf",!("Tipo de producto"==i.nombreCampo))}}function d(i,o){1&i&&(n.Mb(0,"ion-item",24),n.Mb(1,"p"),n.ic(2,"Al ser un servicio con un dise\xf1o predeterminado recuerde que si agrega nuevos campos no se veran automaticamente reflejados en el pdf"),n.Lb(),n.Lb())}function m(i,o){if(1&i){const i=n.Nb();n.Mb(0,"div",25),n.Mb(1,"ion-button",8),n.Ub("click",(function(){return n.ec(i),n.Wb().modificar_servicio()})),n.ic(2,"Modificar"),n.Lb(),n.Lb()}}function h(i,o){if(1&i){const i=n.Nb();n.Mb(0,"div",25),n.Mb(1,"ion-button",8),n.Ub("click",(function(){return n.ec(i),n.Wb().crear_servicio()})),n.ic(2,"Modificar"),n.Lb(),n.Lb()}}let v=(()=>{class i{constructor(i,o,e,n){this.api_servicios=i,this.navCtrl=o,this.navParams=e,this.modalController=n,this.formulario=[],this.servicio={},this.auxiliar=[],this.start=!1,this.id_servicio=this.navParams.get("id_servicio")}iniicar(){this.start=!0,this.servicio=[],this.campos=null,this.api_servicios.ver_servicio(this.id_servicio).subscribe(i=>{console.log("RESPUESTA:  ",i),this.servicio=i,this.servicio=this.servicio.result,this.servicio.requiereQR=this.servicio.requiereQR.toString(),this.servicio.tieneProducto=this.servicio.tieneProducto.toString();var o=[];this.servicio.formulario.forEach((i,e)=>{o.push({opt:[],id_campo:i.id_campo,tipoCampo:i.tipoCampo,nombreCampo:i.nombreCampo}),i.opciones.forEach(i=>{o[e].opt.push(i)})}),this.campos=o,console.log(this.servicio)},i=>{console.log(i)})}ngOnInit(){this.servicio={nombreDelServicio:"",requiereQR:0,formulario:this.servicio.formulario,producto:0},this.iniicar()}agregar_campo_formulario(){this.servicio.formulario.push({nombreCampo:"",tipoCampo:"",opciones:[]}),this.campos.push({opt:[],tipoCampo:"",nombreCampo:""})}agregar_opcion_select(i){this.servicio.formulario[i].opciones.push(""),this.campos[i].opt.push({name:null})}quitar_opcion_select(i,o,e){this.servicio.formulario[i].opciones.splice(o,1),this.campos[i].opt.splice(o,1),console.log(e),this.api_servicios.baja_opcion(e).subscribe(i=>{console.log(i)})}crear_servicio(){this.servicio.formulario=[],this.campos.forEach((i,o)=>{this.servicio.formulario.push({nombreCampo:i.nombreCampo,tipoCampo:i.tipoCampo,opciones:[]}),i.opt.forEach(i=>{this.servicio.formulario[o].opciones.push({opcion:i.name})})}),this.servicio.requiereQR=parseInt(this.servicio.requiereQR,10),this.servicio.producto=parseInt(this.servicio.tieneProducto,10),console.log(this.servicio),this.api_servicios.crear_servicio(this.servicio).subscribe(i=>{console.log(i),this.borrar(),location.reload()})}modificar_servicio(){this.servicio.formulario=[],this.campos.forEach((i,o)=>{this.servicio.formulario.push({nombreCampo:i.nombreCampo,tipoCampo:i.tipoCampo,id_campo:i.id_campo,opciones:[]}),i.opt.forEach(i=>{this.servicio.formulario[o].opciones.push(i)})}),this.servicio.requiereQR=parseInt(this.servicio.requiereQR,10),this.servicio.producto=parseInt(this.servicio.tieneProducto,10),this.api_servicios.update_servicio(this.servicio).subscribe(i=>{console.log(i),location.reload()})}producto_asociado(){1==this.servicio.tieneProducto&&1==this.servicio.modificable&&0==this.start&&"Tipo de producto"!=this.servicio.formulario[0].nombreCampo?(console.log("troll"),this.servicio.formulario.unshift({nombreCampo:"Tipo de producto",tipoCampo:"select",opciones:[]}),this.campos.unshift({nombreCampo:"Tipo de producto",tipoCampo:"select",opt:[]})):"Tipo de producto"==this.servicio.formulario[0].nombreCampo&&0==this.start?(this.servicio.formulario.splice(0,1),this.campos.splice(0,1)):this.start=!1}borrar(){this.api_servicios.baja_servicio(this.id_servicio).subscribe(i=>{console.log(i)})}}return i.\u0275fac=function(o){return new(o||i)(n.Jb(t.a),n.Jb(c.D),n.Jb(c.E),n.Jb(c.C))},i.\u0275cmp=n.Db({type:i,selectors:[["app-modificar-servicio"]],decls:33,vars:8,consts:[["color","primary",2,"text-align","center"],["lines","full"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],["value","1"],["value","0"],[3,"disabled","ngModel","ngModelChange","ionChange"],["style","background-color: white;",4,"ngFor","ngForOf"],[3,"click"],["name","add-outline"],["disabled","","lines","full",4,"ngIf"],["style","text-align: center; margin-top: 20px;",4,"ngIf"],[2,"margin-top","15px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[2,"background-color","white"],["lines","full",4,"ngIf"],["lines","none"],[3,"disabled","ngModel","ngModelChange"],[4,"ngIf"],["value","input"],["value","select"],["value","multiple"],["lines","none",4,"ngFor","ngForOf"],["name","trash-outline",3,"click"],["disabled","","lines","full"],[2,"text-align","center","margin-top","20px"]],template:function(i,o){1&i&&(n.Mb(0,"ion-header"),n.Mb(1,"ion-toolbar",0),n.Mb(2,"ion-title"),n.ic(3),n.Lb(),n.Lb(),n.Lb(),n.Mb(4,"ion-content"),n.Mb(5,"div"),n.Mb(6,"ion-item",1),n.Mb(7,"ion-label",2),n.ic(8,"\xbfRequiere QR?"),n.Lb(),n.Mb(9,"ion-select",3),n.Ub("ngModelChange",(function(i){return o.servicio.requiereQR=i})),n.Mb(10,"ion-select-option",4),n.ic(11,"Si"),n.Lb(),n.Mb(12,"ion-select-option",5),n.ic(13,"No"),n.Lb(),n.Lb(),n.Lb(),n.Mb(14,"ion-item",1),n.Mb(15,"ion-label",2),n.ic(16,"\xbfContiene productos?"),n.Lb(),n.Mb(17,"ion-select",6),n.Ub("ngModelChange",(function(i){return o.servicio.tieneProducto=i}))("ionChange",(function(){return o.producto_asociado()})),n.Mb(18,"ion-select-option",4),n.ic(19,"Si"),n.Lb(),n.Mb(20,"ion-select-option",5),n.ic(21,"No"),n.Lb(),n.Lb(),n.Lb(),n.hc(22,p,2,1,"div",7),n.Mb(23,"ion-item",1),n.Mb(24,"ion-label"),n.ic(25," Agregar campo "),n.Lb(),n.Mb(26,"ion-button",8),n.Ub("click",(function(){return o.agregar_campo_formulario()})),n.Kb(27,"ion-icon",9),n.Lb(),n.Lb(),n.hc(28,d,3,0,"ion-item",10),n.Lb(),n.hc(29,m,3,0,"div",11),n.hc(30,h,3,0,"div",11),n.Mb(31,"div",12),n.Kb(32,"img",13),n.Lb(),n.Lb()),2&i&&(n.zb(3),n.kc("Modiciar servicio: ",o.servicio.nombreDelServicio,""),n.zb(6),n.bc("ngModel",o.servicio.requiereQR),n.zb(8),n.bc("disabled",0==o.servicio.modificable)("ngModel",o.servicio.tieneProducto),n.zb(5),n.bc("ngForOf",o.campos),n.zb(6),n.bc("ngIf",0==o.servicio.modificable),n.zb(1),n.bc("ngIf",0==o.servicio.modificable),n.zb(1),n.bc("ngIf",1==o.servicio.modificable))},directives:[c.j,c.z,c.y,c.g,c.m,c.n,c.q,c.I,r.d,r.e,c.r,s.i,c.c,c.k,s.j,c.i,c.p,c.f,c.l,c.J],styles:[""]}),i})()},JFkf:function(i,o,e){"use strict";e.d(o,"a",(function(){return d}));var n=e("mrSG"),t=e("LYSU"),c=e("fXoL"),r=e("TEn/"),s=e("+1S5"),b=e("ofXK");function l(i,o){if(1&i&&(c.Mb(0,"ion-title",3),c.ic(1),c.Lb()),2&i){const i=c.Wb();c.zb(1),c.jc(i.servicio.nombreDelServicio)}}function a(i,o){if(1&i){const i=c.Nb();c.Mb(0,"div"),c.Mb(1,"ion-item",10),c.Mb(2,"ion-col",7),c.Mb(3,"ion-label"),c.ic(4),c.Lb(),c.Lb(),c.Mb(5,"ion-col",7),c.Mb(6,"ion-label"),c.ic(7),c.Lb(),c.Lb(),c.Mb(8,"ion-col",7),c.Mb(9,"ion-label"),c.ic(10),c.Lb(),c.Lb(),c.Mb(11,"ion-col",8),c.Mb(12,"ion-label"),c.ic(13),c.Lb(),c.Lb(),c.Mb(14,"ion-col",11),c.Mb(15,"ion-icon",12),c.Ub("click",(function(){c.ec(i);const e=o.$implicit;return c.Wb(3).eliminar_producto(e.id_producto)})),c.Lb(),c.Lb(),c.Lb(),c.Lb()}if(2&i){const i=o.$implicit;c.zb(4),c.kc(" ",i.nombre_producto," "),c.zb(3),c.kc(" ",i.fecha_vencimiento," "),c.zb(3),c.kc(" ",i.lote," "),c.zb(3),c.kc(" ",i.tipo_producto," ")}}function u(i,o){if(1&i){const i=c.Nb();c.Mb(0,"div"),c.Mb(1,"ion-item",4),c.Mb(2,"ion-label",3),c.Mb(3,"b"),c.ic(4,"Productos"),c.Lb(),c.Lb(),c.Mb(5,"ion-button",5),c.Ub("click",(function(){c.ec(i);const o=c.Wb(2);return o.altaProducto(o.id_servicio)})),c.ic(6,"Agregar producto"),c.Lb(),c.Lb(),c.Mb(7,"ion-item",6),c.Mb(8,"ion-grid"),c.Mb(9,"ion-row"),c.Mb(10,"ion-col",7),c.Mb(11,"ion-label"),c.Mb(12,"b"),c.ic(13,"Nombre del producto"),c.Lb(),c.Lb(),c.Lb(),c.Mb(14,"ion-col",7),c.Mb(15,"ion-label"),c.Mb(16,"b"),c.ic(17,"Fecha de vencimiento"),c.Lb(),c.Lb(),c.Lb(),c.Mb(18,"ion-col",7),c.Mb(19,"ion-label"),c.Mb(20,"b"),c.ic(21,"Lote"),c.Lb(),c.Lb(),c.Lb(),c.Mb(22,"ion-col",8),c.Mb(23,"ion-label"),c.Mb(24,"b"),c.ic(25,"Tipo de producto"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.hc(26,a,16,4,"div",9),c.Lb()}if(2&i){const i=c.Wb(2);c.zb(26),c.bc("ngForOf",i.servicio.listaProductos)}}function p(i,o){if(1&i&&(c.Mb(0,"div"),c.hc(1,u,27,1,"div",2),c.Lb()),2&i){const i=c.Wb();c.zb(1),c.bc("ngIf",i.servicio.tieneProducto)}}let d=(()=>{class i{constructor(i,o,e,n){this.navParams=i,this.api_servicios=o,this.modalController=e,this.alertController=n,this.id_servicio=this.navParams.get("id_servicio")}ngOnInit(){this.actualizar_informacion()}actualizar_informacion(){this.api_servicios.ver_servicio(this.id_servicio).subscribe(i=>{this.servicio=i,this.servicio=this.servicio.result,console.log(this.servicio)},i=>{console.log(i)})}altaProducto(i){return Object(n.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:t.a,cssClass:"my-custom-class",componentProps:{id_servicio:i}});return o.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield o.present()}))}baja_producto(i){this.api_servicios.baja_producto(i).subscribe(i=>{console.log(i),this.actualizar_informacion()},i=>{console.log(i)})}eliminar_producto(i){return Object(n.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Seguro que desea eliminar el producto?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.baja_producto(i)}}]});yield o.present()}))}}return i.\u0275fac=function(o){return new(o||i)(c.Jb(r.E),c.Jb(s.a),c.Jb(r.C),c.Jb(r.a))},i.\u0275cmp=c.Db({type:i,selectors:[["app-ver-servicio"]],decls:5,vars:2,consts:[["color","primary"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["lines","none"],[3,"click"],["lines","full",1,"titulos"],["size","3"],["size","2"],[4,"ngFor","ngForOf"],["lines","full"],["size","1"],["name","trash-outline","color","danger",2,"margin-right","15px",3,"click"]],template:function(i,o){1&i&&(c.Mb(0,"ion-header"),c.Mb(1,"ion-toolbar",0),c.hc(2,l,2,1,"ion-title",1),c.Lb(),c.Lb(),c.Mb(3,"ion-content"),c.hc(4,p,2,1,"div",2),c.Lb()),2&i&&(c.zb(2),c.bc("ngIf",o.servicio),c.zb(2),c.bc("ngIf",o.servicio))},directives:[r.j,r.z,b.j,r.g,r.y,r.m,r.n,r.c,r.i,r.p,r.f,b.i,r.k],styles:[""]}),i})()},LYSU:function(i,o,e){"use strict";e.d(o,"a",(function(){return u}));var n=e("mrSG"),t=e("fXoL"),c=e("TEn/"),r=e("+1S5"),s=e("3Pt+"),b=e("ofXK");function l(i,o){if(1&i&&(t.Mb(0,"ion-select-option",14),t.ic(1),t.Lb()),2&i){const i=o.$implicit;t.bc("value",i),t.zb(1),t.jc(i.name)}}function a(i,o){if(1&i){const i=t.Nb();t.Mb(0,"ion-item",2),t.Mb(1,"ion-label",3),t.ic(2," Tipo de producto: "),t.Lb(),t.Mb(3,"ion-select",11),t.Ub("ngModelChange",(function(o){return t.ec(i),t.Wb().tipo_producto=o}))("ionChange",(function(){return t.ec(i),t.Wb().select_tipo_producto()})),t.hc(4,l,2,2,"ion-select-option",12),t.Mb(5,"ion-select-option",13),t.ic(6,"Nuevo tipo"),t.Lb(),t.Lb(),t.Lb()}if(2&i){const i=t.Wb();t.zb(3),t.bc("ngModel",i.tipo_producto),t.zb(1),t.bc("ngForOf",i.servicio.formulario[i.indexTipoProducto].opciones)}}let u=(()=>{class i{constructor(i,o,e,n){this.navParams=i,this.api_servicios=o,this.modalCtrl=e,this.alertController=n,this.indexTipoProducto=0,this.id_servicio=this.navParams.get("id_servicio")}ngOnInit(){this.api_servicios.ver_servicio(this.id_servicio).subscribe(i=>{this.servicio=i,this.servicio=this.servicio.result;for(let o=0;o<this.servicio.formulario.length;o++)"Tipo de producto"==this.servicio.formulario[o].nombreCampo&&(this.indexTipoProducto=o);console.log("Servicio: ",this.servicio)},i=>{console.log(i)})}cargar_producto(){this.api_servicios.alta_producto({id_servicio:this.id_servicio,nombre_producto:this.nombre_producto,fecha_vencimiento:this.fecha_vencimiento,lote:this.lote,tipo_producto:this.tipo_producto}).subscribe(i=>{console.log(i),this.modalCtrl.dismiss({dismissed:!0})},i=>{console.log(i)})}select_tipo_producto(){"nuevo"==this.tipo_producto&&this.alert_nuevo_tipo()}alert_nuevo_tipo(){return Object(n.a)(this,void 0,void 0,(function*(){const i=yield this.alertController.create({header:"Crear nuevo tipo de producto",inputs:[{name:"name",type:"text",placeholder:"Ingrese el nombre"}],buttons:[{text:"Crear",handler:i=>{console.log(i),this.crear_tipo_producto(i.name)}},{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}}]});yield i.present()}))}crear_tipo_producto(i){this.servicio.formulario.forEach(o=>{"Tipo de producto"==o.nombreCampo&&o.opciones.push({name:i})}),this.api_servicios.update_servicio(this.servicio).subscribe(i=>{console.log(i),this.ngOnInit()})}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(c.E),t.Jb(r.a),t.Jb(c.C),t.Jb(c.a))},i.\u0275cmp=t.Db({type:i,selectors:[["app-crear-producto"]],decls:23,vars:4,consts:[["color","primary"],[2,"text-align","center"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],["type","date",3,"ngModel","ngModelChange"],["lines","full",4,"ngIf"],[2,"width","100%","text-align","center","margin-top","25px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["value","nuevo"],[3,"value"]],template:function(i,o){1&i&&(t.Mb(0,"ion-header"),t.Mb(1,"ion-toolbar",0),t.Mb(2,"ion-title",1),t.ic(3,"Alta de producto"),t.Lb(),t.Lb(),t.Lb(),t.Mb(4,"ion-content"),t.Mb(5,"ion-item",2),t.Mb(6,"ion-label",3),t.ic(7," Nombre del producto: "),t.Lb(),t.Mb(8,"ion-input",4),t.Ub("ngModelChange",(function(i){return o.nombre_producto=i})),t.Lb(),t.Lb(),t.Mb(9,"ion-item",2),t.Mb(10,"ion-label",3),t.ic(11," Fecha de vencimiento: "),t.Lb(),t.Mb(12,"ion-input",5),t.Ub("ngModelChange",(function(i){return o.fecha_vencimiento=i})),t.Lb(),t.Lb(),t.Mb(13,"ion-item",2),t.Mb(14,"ion-label",3),t.ic(15," Lote: "),t.Lb(),t.Mb(16,"ion-input",4),t.Ub("ngModelChange",(function(i){return o.lote=i})),t.Lb(),t.Lb(),t.hc(17,a,7,2,"ion-item",6),t.Mb(18,"div",7),t.Mb(19,"ion-button",8),t.Ub("click",(function(){return o.cargar_producto()})),t.ic(20,"Cargar"),t.Lb(),t.Lb(),t.Mb(21,"div",9),t.Kb(22,"img",10),t.Lb(),t.Lb()),2&i&&(t.zb(8),t.bc("ngModel",o.nombre_producto),t.zb(4),t.bc("ngModel",o.fecha_vencimiento),t.zb(4),t.bc("ngModel",o.lote),t.zb(1),t.bc("ngIf",o.servicio))},directives:[c.j,c.z,c.y,c.g,c.m,c.n,c.l,c.J,s.d,s.e,b.j,c.c,c.q,c.I,b.i,c.r],styles:["ion-content[_ngcontent-%COMP%]{--background:#dfdfdf;border:2px solid #000}.imagen_empresa[_ngcontent-%COMP%]{width:50%;margin-left:25%}"]}),i})()},NKqT:function(i,o,e){"use strict";e.d(o,"a",(function(){return p}));var n=e("fXoL"),t=e("+1S5"),c=e("TEn/"),r=e("3Pt+"),s=e("ofXK");function b(i,o){if(1&i){const i=n.Nb();n.Mb(0,"div"),n.Mb(1,"ion-item",16),n.Mb(2,"ion-label"),n.ic(3," Seleccione tipo de campo "),n.Lb(),n.Mb(4,"ion-select",4),n.Ub("ngModelChange",(function(o){return n.ec(i),n.Wb().$implicit.tipoCampo=o})),n.Mb(5,"ion-select-option",17),n.ic(6,"Escritura"),n.Lb(),n.Mb(7,"ion-select-option",18),n.ic(8,"Seleccionable"),n.Lb(),n.Mb(9,"ion-select-option",19),n.ic(10,"Seleccion multiple"),n.Lb(),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=n.Wb().$implicit;n.zb(4),n.bc("ngModel",i.tipoCampo)}}function l(i,o){if(1&i){const i=n.Nb();n.Mb(0,"ion-item",16),n.Mb(1,"ion-label"),n.ic(2,"Ingrese la opcion: "),n.Lb(),n.Mb(3,"div",21),n.Mb(4,"ion-input",4),n.Ub("ngModelChange",(function(e){n.ec(i);const t=o.index;return n.Wb(2).$implicit.opciones[t].opcion=e})),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=o.index,e=n.Wb(2).$implicit;n.zb(4),n.bc("ngModel",e.opciones[i].opcion)}}function a(i,o){if(1&i){const i=n.Nb();n.Mb(0,"div"),n.hc(1,l,5,1,"ion-item",20),n.Mb(2,"ion-item",16),n.Mb(3,"ion-button",9),n.Ub("click",(function(){n.ec(i);const o=n.Wb().index;return n.Wb().agregar_opcion_select(o)})),n.ic(4,"Agregar opcion "),n.Kb(5,"ion-icon",10),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=n.Wb().$implicit;n.zb(1),n.bc("ngForOf",i.opciones)}}function u(i,o){if(1&i){const i=n.Nb();n.Mb(0,"div",12),n.Mb(1,"ion-item",2),n.Mb(2,"ion-grid",12),n.Mb(3,"ion-row",12),n.Mb(4,"ion-item",13),n.Mb(5,"ion-col",12),n.Mb(6,"ion-label"),n.ic(7,"Ingrese titulo del campo: "),n.Lb(),n.Lb(),n.Mb(8,"ion-col"),n.Mb(9,"ion-input",14),n.Ub("ngModelChange",(function(e){return n.ec(i),o.$implicit.nombreCampo=e})),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Mb(10,"ion-row"),n.hc(11,b,11,1,"div",15),n.Lb(),n.hc(12,a,6,1,"div",15),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=o.$implicit;n.zb(9),n.bc("disabled","Tipo de producto"==i.nombreCampo)("ngModel",i.nombreCampo),n.zb(2),n.bc("ngIf","Tipo de producto"!=i.nombreCampo),n.zb(1),n.bc("ngIf","select"==i.tipoCampo||"multiple"==i.tipoCampo)}}let p=(()=>{class i{constructor(i,o){this.api_servicios=i,this.navCtrl=o,this.formulario=[],this.servicio={}}ngOnInit(){this.servicio={nombreDelServicio:"",requiereQR:0,formulario:this.formulario,producto:0}}agregar_campo_formulario(){this.formulario.push({nombreCampo:"",tipoCampo:"",opciones:[]})}agregar_opcion_select(i){this.formulario[i].opciones.push({opcion:""})}crear_servicio(){this.api_servicios.crear_servicio(this.servicio).subscribe(i=>{console.log(i),location.reload()})}producto_asociado(){1==this.servicio.producto?this.formulario.push({nombreCampo:"Tipo de producto",tipoCampo:"select",opciones:[]}):this.formulario.splice(0)}}return i.\u0275fac=function(o){return new(o||i)(n.Jb(t.a),n.Jb(c.D))},i.\u0275cmp=n.Db({type:i,selectors:[["app-crear-servicio"]],decls:35,vars:4,consts:[["color","primary",2,"text-align","center"],[2,"background-color","white !important"],["lines","full"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],["value","1"],["value","0"],[3,"ngModel","ngModelChange","ionChange"],["style","background-color: white;",4,"ngFor","ngForOf"],[3,"click"],["name","add-outline"],[2,"text-align","center","margin-top","20px"],[2,"background-color","white"],["lines","none",2,"background-color","white"],[3,"disabled","ngModel","ngModelChange"],[4,"ngIf"],["lines","none"],["value","input"],["value","select"],["value","multiple"],["lines","none",4,"ngFor","ngForOf"],[2,"margin-left","5px"]],template:function(i,o){1&i&&(n.Mb(0,"ion-header"),n.Mb(1,"ion-toolbar",0),n.Mb(2,"ion-title"),n.ic(3,"Crear un nuevo servicio"),n.Lb(),n.Lb(),n.Lb(),n.Mb(4,"ion-content",1),n.Mb(5,"div"),n.Mb(6,"ion-item",2),n.Mb(7,"ion-label",3),n.ic(8,"Nombre del servicio: "),n.Lb(),n.Mb(9,"ion-input",4),n.Ub("ngModelChange",(function(i){return o.servicio.nombreDelServicio=i})),n.Lb(),n.Lb(),n.Mb(10,"ion-item",2),n.Mb(11,"ion-label",3),n.ic(12,"\xbfRequiere QR?"),n.Lb(),n.Mb(13,"ion-select",4),n.Ub("ngModelChange",(function(i){return o.servicio.requiereQR=i})),n.Mb(14,"ion-select-option",5),n.ic(15,"Si"),n.Lb(),n.Mb(16,"ion-select-option",6),n.ic(17,"No"),n.Lb(),n.Lb(),n.Lb(),n.Mb(18,"ion-item",2),n.Mb(19,"ion-label",3),n.ic(20,"\xbfContiene productos?"),n.Lb(),n.Mb(21,"ion-select",7),n.Ub("ngModelChange",(function(i){return o.servicio.producto=i}))("ionChange",(function(){return o.producto_asociado()})),n.Mb(22,"ion-select-option",5),n.ic(23,"Si"),n.Lb(),n.Mb(24,"ion-select-option",6),n.ic(25,"No"),n.Lb(),n.Lb(),n.Lb(),n.hc(26,u,13,4,"div",8),n.Mb(27,"ion-item",2),n.Mb(28,"ion-label"),n.ic(29," Agregar campo "),n.Lb(),n.Mb(30,"ion-button",9),n.Ub("click",(function(){return o.agregar_campo_formulario()})),n.Kb(31,"ion-icon",10),n.Lb(),n.Lb(),n.Lb(),n.Mb(32,"div",11),n.Mb(33,"ion-button",9),n.Ub("click",(function(){return o.crear_servicio()})),n.ic(34,"Listo"),n.Lb(),n.Lb(),n.Lb()),2&i&&(n.zb(9),n.bc("ngModel",o.servicio.nombreDelServicio),n.zb(4),n.bc("ngModel",o.servicio.requiereQR),n.zb(8),n.bc("ngModel",o.servicio.producto),n.zb(5),n.bc("ngForOf",o.formulario))},directives:[c.j,c.z,c.y,c.g,c.m,c.n,c.l,c.J,r.d,r.e,c.q,c.I,c.r,s.i,c.c,c.k,c.i,c.p,c.f,s.j],styles:[".imagen_empresa[_ngcontent-%COMP%]{width:100%}"]}),i})()},YcJ4:function(i,o,e){"use strict";e.r(o),e.d(o,"AdministrarServiciosPageModule",(function(){return g}));var n=e("ofXK"),t=e("3Pt+"),c=e("TEn/"),r=e("tyNb"),s=e("mrSG"),b=e("NKqT"),l=e("JFkf"),a=e("/+FQ"),u=e("fXoL"),p=e("+1S5");function d(i,o){if(1&i){const i=u.Nb();u.Mb(0,"ion-icon",10),u.Ub("click",(function(){u.ec(i);const o=u.Wb().$implicit;return u.Wb().borrar_servicio(o.id_servicio)})),u.Lb()}}function m(i,o){if(1&i){const i=u.Nb();u.Mb(0,"ion-item",5),u.Mb(1,"ion-label",6),u.Mb(2,"b"),u.ic(3),u.Lb(),u.Lb(),u.Mb(4,"ion-buttons"),u.hc(5,d,1,0,"ion-icon",7),u.Lb(),u.Mb(6,"ion-buttons"),u.Mb(7,"ion-icon",8),u.Ub("click",(function(){u.ec(i);const e=o.$implicit;return u.Wb().modificar_servicio(e.id_servicio)})),u.Lb(),u.Lb(),u.Mb(8,"ion-buttons"),u.Mb(9,"ion-icon",9),u.Ub("click",(function(){u.ec(i);const e=o.$implicit;return u.Wb().ver_servicio(e.id_servicio)})),u.Lb(),u.Lb(),u.Lb()}if(2&i){const i=o.$implicit;u.zb(3),u.jc(i.nombre_servicio),u.zb(2),u.bc("ngIf",1==i.modificable)}}const h=[{path:"",component:(()=>{class i{constructor(i,o,e){this.modalController=i,this.api=o,this.alertController=e}ngOnInit(){this.actualizar_informacion()}actualizar_informacion(){this.api.mostrar_servicios().subscribe(i=>{this.servicios=i,this.servicios=this.servicios.result,console.log(this.servicios)})}crear_servicio(){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:b.a,cssClass:"my-custom-class"});return yield i.present()}))}ver_servicio(i){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:l.a,cssClass:"modal_grande",componentProps:{id_servicio:i}});return yield o.present()}))}borrar_servicio(i){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Seguro que desea eliminar el servicio?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.eliminar_servicio(i)}}]});yield o.present()}))}eliminar_servicio(i){this.api.baja_servicio(i).subscribe(i=>{console.log(i),this.actualizar_informacion()},i=>{console.log(i)})}modificar_servicio(i){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:a.a,cssClass:"modal_grande",componentProps:{id_servicio:i}});return yield o.present()}))}}return i.\u0275fac=function(o){return new(o||i)(u.Jb(c.C),u.Jb(p.a),u.Jb(c.a))},i.\u0275cmp=u.Db({type:i,selectors:[["app-administrar-servicios"]],decls:10,vars:1,consts:[[2,"margin-left","30%","width","40%"],[2,"text-align","center"],["lines","full",1,"titulo_lista_servicios",2,"margin-bottom","20px"],[3,"click"],["lines","full","class","lista_servicios",4,"ngFor","ngForOf"],["lines","full",1,"lista_servicios"],[2,"text-align","left"],["style","margin-right: 10px;","name","trash-outline","color","danger",3,"click",4,"ngIf"],["name","create-outline",2,"margin-right","10px",3,"click"],["name","enter-outline",3,"click"],["name","trash-outline","color","danger",2,"margin-right","10px",3,"click"]],template:function(i,o){1&i&&(u.Mb(0,"ion-content"),u.Mb(1,"div",0),u.Mb(2,"ion-card",1),u.Mb(3,"ion-item",2),u.Mb(4,"ion-label",1),u.Mb(5,"b"),u.ic(6,"Servicios"),u.Lb(),u.Lb(),u.Mb(7,"ion-button",3),u.Ub("click",(function(){return o.crear_servicio()})),u.ic(8," Crear servicio "),u.Lb(),u.Lb(),u.hc(9,m,10,2,"ion-item",4),u.Lb(),u.Lb(),u.Lb()),2&i&&(u.zb(9),u.bc("ngForOf",o.servicios))},directives:[c.g,c.e,c.m,c.n,c.c,n.i,c.d,n.j,c.k],styles:[".lista_servicios[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.boton_nuevo_servicio[_ngcontent-%COMP%]{--background:transparent}ion-item[_ngcontent-%COMP%]{width:100%}"]}),i})()},{path:"crear-servicio",loadChildren:()=>e.e(24).then(e.bind(null,"b/Hj")).then(i=>i.CrearServicioPageModule)},{path:"ver-servicio",loadChildren:()=>e.e(27).then(e.bind(null,"THUM")).then(i=>i.VerServicioPageModule)},{path:"modificar-servicio",loadChildren:()=>e.e(25).then(e.bind(null,"3tg3")).then(i=>i.ModificarServicioPageModule)}];let v=(()=>{class i{}return i.\u0275mod=u.Hb({type:i}),i.\u0275inj=u.Gb({factory:function(o){return new(o||i)},imports:[[r.h.forChild(h)],r.h]}),i})(),g=(()=>{class i{}return i.\u0275mod=u.Hb({type:i}),i.\u0275inj=u.Gb({factory:function(o){return new(o||i)},imports:[[n.b,t.a,c.A,v]]}),i})()}}]);