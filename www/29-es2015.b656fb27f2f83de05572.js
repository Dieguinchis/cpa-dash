(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"2HF3":function(e,i,o){"use strict";o.r(i),o.d(i,"ProgramarVisitaPageModule",(function(){return p}));var t=o("ofXK"),s=o("3Pt+"),c=o("TEn/"),n=o("tyNb"),l=o("wd/R"),a=o("fXoL"),r=o("89nv"),b=o("u//c");function u(e,i){if(1&e&&(a.Mb(0,"ion-select-option",11),a.ic(1),a.Lb()),2&e){const e=i.$implicit;a.cc("value",e.id_cliente),a.zb(1),a.jc(e.razon_social_cliente)}}function d(e,i){if(1&e&&(a.Mb(0,"ion-select-option",11),a.ic(1),a.Lb()),2&e){const e=i.$implicit;a.cc("value",e.id_sucursal),a.zb(1),a.jc(e.razon_social_sucursal)}}function g(e,i){if(1&e&&(a.Mb(0,"ion-select-option",11),a.ic(1),a.Lb()),2&e){const e=i.$implicit;a.cc("value",e.id_servicio),a.zb(1),a.jc(e.nombre_servicio)}}function _(e,i){if(1&e&&(a.Mb(0,"ion-select-option",11),a.ic(1),a.Lb()),2&e){const e=i.$implicit;a.cc("value",e.id_tecnico),a.zb(1),a.lc("",e.nombre_tecnico," ",e.apellido_tecnico,"")}}const h=[{path:"",component:(()=>{class e{constructor(e,i){this.api=e,this.api_tecnicos=i,this.dayNames=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],this.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}ngOnInit(){this.api.listado_clientes().subscribe(e=>{this.listado_clientes=e,this.listado_clientes=this.listado_clientes.result,console.log(this.listado_clientes)}),this.api.mostrar_servicios().subscribe(e=>{this.listado_servicios=e,this.listado_servicios=this.listado_servicios.result,console.log(this.listado_servicios)}),this.api_tecnicos.listado_tecnicos().subscribe(e=>{this.listado_tecnicos=e,this.listado_tecnicos=this.listado_tecnicos.result,console.log(this.listado_tecnicos)},e=>{console.log(e)}),this.fecha_actual=l().format()}sucursalesCliente(e){this.api.informacion_cliente(e).subscribe(i=>{this.listado_sucursales_cliente=i,this.listado_sucursales_cliente=this.listado_sucursales_cliente.result.sucursales.datosSucursal,this.sucursal_elegida=null,this.id_cliente_elegido=e,console.log(this.listado_sucursales_cliente)})}programarVisita(){console.log(this.servicios_elegidos),this.api.crear_visita({id_cliente:this.id_cliente_elegido,id_tecnico:this.tecnico_elegido,id_sucursal:this.sucursal_elegida,servicios:this.servicios_elegidos,fecha_visita:this.fecha_elegida}).subscribe(e=>{console.log(e),location.reload()})}}return e.\u0275fac=function(i){return new(i||e)(a.Jb(r.a),a.Jb(b.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-programar-visita"]],decls:30,vars:14,consts:[[2,"margin-top","15px"],["fixed","",2,"text-align","center"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["multiple","true",3,"ngModel","ngModelChange"],["displayFormat","DDDD D MMMM YYYY HH:mm","max","2022",3,"ngModel","doneText","cancelText","monthNames","dayNames","min","value","ngModelChange"],[2,"width","100%","text-align","center"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[3,"value"]],template:function(e,i){1&e&&(a.Mb(0,"ion-content"),a.Mb(1,"ion-item",0),a.Mb(2,"ion-label",1),a.ic(3,"Seleccionar un cliente"),a.Lb(),a.Mb(4,"ion-select",2),a.Ub("ionChange",(function(e){return i.sucursalesCliente(e.target.value)})),a.hc(5,u,2,2,"ion-select-option",3),a.Lb(),a.Lb(),a.Mb(6,"ion-item"),a.Mb(7,"ion-label",1),a.ic(8,"Seleccionar una sucursal"),a.Lb(),a.Mb(9,"ion-select",4),a.Ub("ngModelChange",(function(e){return i.sucursal_elegida=e})),a.hc(10,d,2,2,"ion-select-option",3),a.Lb(),a.Lb(),a.Mb(11,"ion-item"),a.Mb(12,"ion-label",1),a.ic(13,"Seleccionar servicios a ofrecer"),a.Lb(),a.Mb(14,"ion-select",5),a.Ub("ngModelChange",(function(e){return i.servicios_elegidos=e})),a.hc(15,g,2,2,"ion-select-option",3),a.Lb(),a.Lb(),a.Mb(16,"ion-item"),a.Mb(17,"ion-label",1),a.ic(18,"Seleccionar t\xe9cnico a cargo"),a.Lb(),a.Mb(19,"ion-select",4),a.Ub("ngModelChange",(function(e){return i.tecnico_elegido=e})),a.hc(20,_,2,3,"ion-select-option",3),a.Lb(),a.Lb(),a.Mb(21,"ion-item"),a.Mb(22,"ion-label",1),a.ic(23,"Elegir una fecha"),a.Lb(),a.Mb(24,"ion-datetime",6),a.Ub("ngModelChange",(function(e){return i.fecha_elegida=e})),a.Lb(),a.Lb(),a.Mb(25,"div",7),a.Mb(26,"ion-button",8),a.Ub("click",(function(){return i.programarVisita()})),a.ic(27,"Agendar"),a.Lb(),a.Lb(),a.Mb(28,"div",9),a.Kb(29,"img",10),a.Lb(),a.Lb()),2&e&&(a.zb(5),a.bc("ngForOf",i.listado_clientes),a.zb(4),a.bc("ngModel",i.sucursal_elegida),a.zb(1),a.bc("ngForOf",i.listado_sucursales_cliente),a.zb(4),a.bc("ngModel",i.servicios_elegidos),a.zb(1),a.bc("ngForOf",i.listado_servicios),a.zb(4),a.bc("ngModel",i.tecnico_elegido),a.zb(1),a.bc("ngForOf",i.listado_tecnicos),a.zb(4),a.cc("min",i.fecha_actual),a.cc("value",i.fecha_actual),a.bc("ngModel",i.fecha_elegida)("doneText","Listo")("cancelText","Cancelar")("monthNames",i.monthNames)("dayNames",i.dayNames))},directives:[c.g,c.m,c.n,c.q,c.I,t.i,s.d,s.e,c.h,c.c,c.r],styles:["ion-item[_ngcontent-%COMP%]{width:30%;margin-left:35%;margin-bottom:10px}.imagen_empresa[_ngcontent-%COMP%]{width:50%;margin-left:25%}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(i){return new(i||e)},imports:[[n.h.forChild(h)],n.h]}),e})(),p=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(i){return new(i||e)},imports:[[t.b,s.a,c.A,m]]}),e})()}}]);