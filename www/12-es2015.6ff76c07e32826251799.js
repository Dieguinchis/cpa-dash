(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1mX4":function(i,o,n){"use strict";n.d(o,"a",(function(){return b}));var s=n("fXoL"),e=n("TEn/"),t=n("jCJ1"),c=n("ofXK"),a=n("3Pt+");function l(i,o){if(1&i){const i=s.Nb();s.Mb(0,"ion-content"),s.Mb(1,"ion-item",2),s.Mb(2,"ion-label",3),s.ic(3," Razon social: "),s.Lb(),s.Mb(4,"ion-input",4),s.Ub("ngModelChange",(function(o){return s.ec(i),s.Wb().razon_social=o})),s.Lb(),s.Lb(),s.Mb(5,"ion-item",2),s.Mb(6,"ion-label",3),s.ic(7," Telefono: "),s.Lb(),s.Mb(8,"ion-input",4),s.Ub("ngModelChange",(function(o){return s.ec(i),s.Wb().telefono=o})),s.Lb(),s.Lb(),s.Mb(9,"ion-item",2),s.Mb(10,"ion-label",3),s.ic(11," Email: "),s.Lb(),s.Mb(12,"ion-input",4),s.Ub("ngModelChange",(function(o){return s.ec(i),s.Wb().email=o})),s.Lb(),s.Lb(),s.Mb(13,"ion-item",2),s.Mb(14,"ion-label",3),s.ic(15," Direccion: "),s.Lb(),s.Mb(16,"ion-input",4),s.Ub("ngModelChange",(function(o){return s.ec(i),s.Wb().direccion=o})),s.Lb(),s.Lb(),s.Mb(17,"div",5),s.Mb(18,"ion-button",6),s.Ub("click",(function(){return s.ec(i),s.Wb().modificar_sucursal()})),s.ic(19,"Modificar"),s.Lb(),s.Lb(),s.Mb(20,"div",7),s.Kb(21,"img",8),s.Lb(),s.Lb()}if(2&i){const i=s.Wb();s.zb(4),s.bc("ngModel",i.razon_social),s.zb(4),s.bc("ngModel",i.telefono),s.zb(4),s.bc("ngModel",i.email),s.zb(4),s.bc("ngModel",i.direccion)}}let b=(()=>{class i{constructor(i,o,n){this.navParams=i,this.api=o,this.modalCtrl=n,this.id_sucursal=this.navParams.get("id_sucursal")}ngOnInit(){this.api.ver_sucursal(this.id_sucursal).subscribe(i=>{console.log(i),this.sucursal=i,this.sucursal=this.sucursal.result,this.razon_social=this.sucursal.sucursal[0].razon_social_sucursal,this.email=this.sucursal.sucursal[0].email_sucursal,this.telefono=this.sucursal.sucursal[0].telefono_sucursal,this.direccion=this.sucursal.sucursal[0].direccion_sucursal,this.id_cliente=this.sucursal.sucursal[0].id_cliente},i=>{console.log(i)})}modificar_sucursal(){this.objeto={id_cliente:this.id_cliente,id_sucursal:this.id_sucursal,razon_social_sucursal:this.razon_social,direccion_sucursal:this.direccion,telefono_sucursal:this.telefono,email_sucursal:this.email},console.log(this.objeto),this.api.modificar_sucursal(this.objeto).subscribe(i=>{console.log(i),this.modalCtrl.dismiss({dismissed:!0})},i=>{console.log(i)})}}return i.\u0275fac=function(o){return new(o||i)(s.Jb(e.E),s.Jb(t.a),s.Jb(e.C))},i.\u0275cmp=s.Db({type:i,selectors:[["app-modificar-sucursal"]],decls:5,vars:1,consts:[["color","primary",2,"text-align","center"],[4,"ngIf"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"]],template:function(i,o){1&i&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar",0),s.Mb(2,"ion-title"),s.ic(3,"Modificar sucursal"),s.Lb(),s.Lb(),s.Lb(),s.hc(4,l,22,4,"ion-content",1)),2&i&&(s.zb(4),s.bc("ngIf",o.sucursal))},directives:[e.j,e.z,e.y,c.j,e.g,e.m,e.n,e.l,e.J,a.d,a.e,e.c],styles:[""]}),i})()},OAWW:function(i,o,n){"use strict";n.d(o,"a",(function(){return h}));var s=n("wd/R"),e=n("fXoL"),t=n("TEn/"),c=n("jCJ1"),a=n("89nv"),l=n("u//c"),b=n("3Pt+"),r=n("ofXK");function u(i,o){if(1&i&&(e.Mb(0,"ion-select-option",10),e.ic(1),e.Lb()),2&i){const i=o.$implicit;e.cc("value",i.id_servicio),e.zb(1),e.jc(i.nombre_servicio)}}function d(i,o){if(1&i&&(e.Mb(0,"ion-select-option",10),e.ic(1),e.Lb()),2&i){const i=o.$implicit;e.cc("value",i.id_tecnico),e.zb(1),e.lc("",i.nombre_tecnico," ",i.apellido_tecnico,"")}}let h=(()=>{class i{constructor(i,o,n,s,e){this.navParams=i,this.api_clientes=o,this.api_visitas=n,this.api_tecnicos=s,this.modalController=e,this.dayNames=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],this.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.id_visita=this.navParams.get("id_visita"),this.servicios_elegidos=[]}ngOnInit(){this.fecha_actual=s().format(),this.api_clientes.informacion_visita(this.id_visita).subscribe(i=>{console.log(i),this.visita=i,this.visita=this.visita.result,this.fecha_elegida=this.visita.visitas.fecha_visita,this.tecnico_elegido=this.visita.visitas.id_tecnico.toString();for(let o=0;o<this.visita.servicios.length;o++)this.servicios_elegidos.push(this.visita.servicios[o].id_servicio.toString())},i=>{console.log(i)}),this.api_visitas.mostrar_servicios().subscribe(i=>{this.listado_servicios=i,this.listado_servicios=this.listado_servicios.result,console.log(this.listado_servicios)}),this.api_tecnicos.listado_tecnicos().subscribe(i=>{this.listado_tecnicos=i,this.listado_tecnicos=this.listado_tecnicos.result,console.log(this.listado_tecnicos)},i=>{console.log(i)})}modificar_visita(){console.log(this.servicios_elegidos),this.api_visitas.modificar_visita({id_visita:this.id_visita,fecha_visita:this.fecha_elegida,id_tecnico:this.tecnico_elegido,servicios:this.servicios_elegidos}).subscribe(i=>{console.log(i),this.modalController.dismiss({dismissed:!0})},i=>{console.log(i)})}}return i.\u0275fac=function(o){return new(o||i)(e.Jb(t.E),e.Jb(c.a),e.Jb(a.a),e.Jb(l.a),e.Jb(t.C))},i.\u0275cmp=e.Db({type:i,selectors:[["app-modificar-visita"]],decls:24,vars:9,consts:[["color","primary",2,"text-align","center"],["fixed","",2,"text-align","center"],["multiple","true",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["displayFormat","DDDD D MMMM YYYY HH:mm","max","2022",3,"ngModel","monthNames","dayNames","min","value","ngModelChange"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[3,"value"]],template:function(i,o){1&i&&(e.Mb(0,"ion-header"),e.Mb(1,"ion-toolbar",0),e.Mb(2,"ion-title"),e.ic(3,"Modificar visita"),e.Lb(),e.Lb(),e.Lb(),e.Mb(4,"ion-content"),e.Mb(5,"ion-item"),e.Mb(6,"ion-label",1),e.ic(7,"Seleccionar servicios a ofrecer"),e.Lb(),e.Mb(8,"ion-select",2),e.Ub("ngModelChange",(function(i){return o.servicios_elegidos=i})),e.hc(9,u,2,2,"ion-select-option",3),e.Lb(),e.Lb(),e.Mb(10,"ion-item"),e.Mb(11,"ion-label",1),e.ic(12,"Seleccionar t\xe9cnico a cargo"),e.Lb(),e.Mb(13,"ion-select",4),e.Ub("ngModelChange",(function(i){return o.tecnico_elegido=i})),e.hc(14,d,2,3,"ion-select-option",3),e.Lb(),e.Lb(),e.Mb(15,"ion-item"),e.Mb(16,"ion-label",1),e.ic(17,"Elegir una fecha"),e.Lb(),e.Mb(18,"ion-datetime",5),e.Ub("ngModelChange",(function(i){return o.fecha_elegida=i})),e.Lb(),e.Lb(),e.Mb(19,"div",6),e.Mb(20,"ion-button",7),e.Ub("click",(function(){return o.modificar_visita()})),e.ic(21,"Modificar"),e.Lb(),e.Lb(),e.Mb(22,"div",8),e.Kb(23,"img",9),e.Lb(),e.Lb()),2&i&&(e.zb(8),e.bc("ngModel",o.servicios_elegidos),e.zb(1),e.bc("ngForOf",o.listado_servicios),e.zb(4),e.bc("ngModel",o.tecnico_elegido),e.zb(1),e.bc("ngForOf",o.listado_tecnicos),e.zb(4),e.cc("min",o.fecha_actual),e.cc("value",o.fecha_actual),e.bc("ngModel",o.fecha_elegida)("monthNames",o.monthNames)("dayNames",o.dayNames))},directives:[t.j,t.z,t.y,t.g,t.m,t.n,t.q,t.I,b.d,b.e,r.i,t.h,t.c,t.r],styles:[""]}),i})()},aaHe:function(i,o,n){"use strict";n.d(o,"a",(function(){return r}));var s=n("fXoL"),e=n("+1S5"),t=n("TEn/"),c=n("3Pt+"),a=n("ofXK");function l(i,o){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-select-option",6),s.ic(2),s.Lb(),s.Lb()),2&i){const i=s.Wb().$implicit;s.zb(1),s.cc("value",i.id_servicio),s.zb(1),s.jc(i.nombre_servicio)}}function b(i,o){if(1&i&&(s.Mb(0,"div"),s.hc(1,l,3,2,"div",5),s.Lb()),2&i){const i=o.$implicit;s.zb(1),s.bc("ngIf",1==i.qr)}}let r=(()=>{class i{constructor(i,o,n){this.api_servicios=i,this.navParams=o,this.modalCtrl=n,this.id_sucursal=this.navParams.get("id_sucursal")}ngOnInit(){console.log(this.id_sucursal),this.api_servicios.mostrar_servicios().subscribe(i=>{this.servicios=i,this.servicios=this.servicios.result,console.log(this.servicios)})}alta_workstation(){this.object={nombre_equipos:this.nombre_workstation,id_servicio:this.id_servicio,id_sucursal:this.id_sucursal},this.api_servicios.alta_workstation(this.object).subscribe(i=>{console.log(i),this.modalCtrl.dismiss({dismissed:!0})})}}return i.\u0275fac=function(o){return new(o||i)(s.Jb(e.a),s.Jb(t.E),s.Jb(t.C))},i.\u0275cmp=s.Db({type:i,selectors:[["app-alta-workstation"]],decls:13,vars:3,consts:[["lines","full"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["expand","full",3,"click"],[4,"ngIf"],[3,"value"]],template:function(i,o){1&i&&(s.Mb(0,"ion-content"),s.Mb(1,"ion-item",0),s.Mb(2,"ion-label"),s.ic(3,"Nombre del workstation: "),s.Lb(),s.Mb(4,"ion-input",1),s.Ub("ngModelChange",(function(i){return o.nombre_workstation=i})),s.Lb(),s.Lb(),s.Mb(5,"ion-item",0),s.Mb(6,"ion-label"),s.ic(7,"Servicio que cumple"),s.Lb(),s.Mb(8,"ion-select",1),s.Ub("ngModelChange",(function(i){return o.id_servicio=i})),s.hc(9,b,2,1,"div",2),s.Lb(),s.Lb(),s.Mb(10,"div",3),s.Mb(11,"ion-button",4),s.Ub("click",(function(){return o.alta_workstation()})),s.ic(12,"Dar de alta"),s.Lb(),s.Lb(),s.Lb()),2&i&&(s.zb(4),s.bc("ngModel",o.nombre_workstation),s.zb(4),s.bc("ngModel",o.id_servicio),s.zb(1),s.bc("ngForOf",o.servicios))},directives:[t.g,t.m,t.n,t.l,t.J,c.d,c.e,t.q,t.I,a.i,t.c,a.j,t.r],styles:["ion-content[_ngcontent-%COMP%]{--background:#dfdfdf;border:2px solid #000}"]}),i})()},cZ9Q:function(i,o,n){"use strict";n.d(o,"a",(function(){return m}));var s=n("mrSG"),e=n("aaHe"),t=n("fXoL"),c=n("TEn/"),a=n("jCJ1"),l=n("X9o6"),b=n("ofXK");function r(i,o){if(1&i){const i=t.Nb();t.Mb(0,"ion-item",16),t.Mb(1,"ion-grid"),t.Mb(2,"ion-row"),t.Mb(3,"ion-col",17),t.Mb(4,"ion-label"),t.ic(5),t.Lb(),t.Lb(),t.Mb(6,"ion-col",18),t.Mb(7,"ion-label"),t.ic(8),t.Lb(),t.Lb(),t.Mb(9,"ion-col",5),t.Mb(10,"ion-card",8),t.Mb(11,"div"),t.Mb(12,"a",9),t.Kb(13,"img",10),t.Lb(),t.Lb(),t.Lb(),t.Lb(),t.Mb(14,"ion-col",6),t.Mb(15,"ion-icon",19),t.Ub("click",(function(){t.ec(i);const n=o.$implicit;return t.Wb(2).borrar_equipo(n.id_equipo)})),t.Lb(),t.Lb(),t.Lb(),t.Lb(),t.Lb()}if(2&i){const i=o.$implicit;t.zb(5),t.jc(i.nombre_equipo),t.zb(3),t.jc(i.nombre_servicio),t.zb(4),t.bc("href",i.codigo_qr_equipo,t.fc),t.zb(1),t.bc("src",i.codigo_qr_equipo,t.fc)}}function u(i,o){if(1&i){const i=t.Nb();t.Mb(0,"div"),t.Mb(1,"ion-item",2),t.Mb(2,"ion-label"),t.Mb(3,"b"),t.ic(4,"Informacion de la sucursal"),t.Lb(),t.Lb(),t.Lb(),t.Mb(5,"ion-item",3),t.Mb(6,"ion-grid"),t.Mb(7,"ion-row"),t.Kb(8,"ion-col",4),t.Mb(9,"ion-col",5),t.Mb(10,"ion-label"),t.Mb(11,"b"),t.ic(12,"Nombre de sucursal"),t.Lb(),t.Lb(),t.Lb(),t.Mb(13,"ion-col",5),t.Mb(14,"ion-label"),t.Mb(15,"b"),t.ic(16,"Telefono de sucursal"),t.Lb(),t.Lb(),t.Lb(),t.Mb(17,"ion-col",5),t.Mb(18,"ion-label"),t.Mb(19,"b"),t.ic(20,"Mail de sucursal"),t.Lb(),t.Lb(),t.Lb(),t.Mb(21,"ion-col",5),t.Mb(22,"ion-label"),t.Mb(23,"b"),t.ic(24,"Codigo QR"),t.Lb(),t.Lb(),t.Lb(),t.Kb(25,"ion-col",6),t.Lb(),t.Lb(),t.Lb(),t.Mb(26,"ion-item",3),t.Mb(27,"ion-grid"),t.Mb(28,"ion-row"),t.Kb(29,"ion-col",4),t.Mb(30,"ion-col",7),t.Mb(31,"ion-label"),t.ic(32),t.Lb(),t.Lb(),t.Mb(33,"ion-col",7),t.Mb(34,"ion-label"),t.ic(35),t.Lb(),t.Lb(),t.Mb(36,"ion-col",7),t.Mb(37,"ion-label"),t.ic(38),t.Lb(),t.Lb(),t.Mb(39,"ion-col",5),t.Mb(40,"ion-card",8),t.Mb(41,"div"),t.Mb(42,"a",9),t.Kb(43,"img",10),t.Lb(),t.Lb(),t.Lb(),t.Lb(),t.Kb(44,"ion-col",6),t.Lb(),t.Lb(),t.Lb(),t.Kb(45,"div",11),t.Mb(46,"ion-item",2),t.Mb(47,"ion-label"),t.Mb(48,"b"),t.ic(49,"Workstations/equipos"),t.Lb(),t.Lb(),t.Lb(),t.Mb(50,"ion-item",12),t.Kb(51,"ion-label"),t.Mb(52,"ion-button",13),t.Ub("click",(function(){return t.ec(i),t.Wb().altaWorkstation()})),t.ic(53,"Agregar workstation"),t.Lb(),t.Lb(),t.Mb(54,"ion-item",3),t.Mb(55,"ion-grid"),t.Mb(56,"ion-row"),t.Mb(57,"ion-col",14),t.Mb(58,"ion-label"),t.Mb(59,"b"),t.ic(60,"Nombre del workstation"),t.Lb(),t.Lb(),t.Lb(),t.Mb(61,"ion-col",5),t.Mb(62,"ion-label"),t.Mb(63,"b"),t.ic(64,"Nombre del servicio"),t.Lb(),t.Lb(),t.Lb(),t.Mb(65,"ion-col",5),t.Mb(66,"ion-label"),t.Mb(67,"b"),t.ic(68,"Codigo QR"),t.Lb(),t.Lb(),t.Lb(),t.Mb(69,"ion-col",6),t.Mb(70,"ion-label"),t.Mb(71,"b"),t.ic(72,"Eliminar"),t.Lb(),t.Lb(),t.Lb(),t.Lb(),t.Lb(),t.Lb(),t.hc(73,r,16,4,"ion-item",15),t.Lb()}if(2&i){const i=t.Wb();t.zb(32),t.jc(i.sucursal.sucursal[0].razon_social_sucursal),t.zb(3),t.jc(i.sucursal.sucursal[0].telefono_sucursal),t.zb(3),t.jc(i.sucursal.sucursal[0].email_sucursal),t.zb(4),t.bc("href",i.sucursal.sucursal[0].codigo_qr,t.fc),t.zb(1),t.bc("src",i.sucursal.sucursal[0].codigo_qr,t.fc),t.zb(30),t.bc("ngForOf",i.workstations)}}function d(i,o){if(1&i&&(t.Mb(0,"ion-slide"),t.Mb(1,"ion-card"),t.Kb(2,"img",24),t.Lb(),t.Lb()),2&i){const i=o.$implicit;t.zb(2),t.cc("src",i.url_imagen_plano,t.fc)}}function h(i,o){if(1&i){const i=t.Nb();t.Mb(0,"div",20),t.Mb(1,"ion-item",2),t.Mb(2,"ion-label"),t.Mb(3,"b"),t.ic(4,"Planos de la sucursal"),t.Lb(),t.Lb(),t.Mb(5,"ion-icon",21),t.Ub("click",(function(){return t.ec(i),t.Wb().agregar_plano()})),t.Lb(),t.Lb(),t.Mb(6,"ion-slides",22),t.hc(7,d,3,1,"ion-slide",23),t.Lb(),t.Lb()}if(2&i){const i=t.Wb();t.zb(7),t.bc("ngForOf",i.sucursal.planos)}}let m=(()=>{class i{constructor(i,o,n,s,e){this.navParams=i,this.api_sucursales=o,this.modalController=n,this.imageCompress=s,this.loadingController=e,this.id_sucursal=this.navParams.get("id_sucursal"),this.imagen=[]}ngOnInit(){this.actualizar_informacion()}altaWorkstation(){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:e.a,cssClass:"modal-chiquito",componentProps:{id_sucursal:this.id_sucursal}});return i.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield i.present()}))}borrar_equipo(i){this.api_sucursales.borrar_equipo(i).subscribe(i=>{console.log(i),this.actualizar_informacion()})}actualizar_informacion(){this.api_sucursales.informacion_sucursal(this.id_sucursal).subscribe(i=>{this.sucursal=i,this.sucursal=this.sucursal.result}),this.api_sucursales.listado_workstations(this.id_sucursal).subscribe(i=>{console.log(i),this.workstations=i,this.workstations=this.workstations.result,console.log(this.workstations)})}agregar_plano(){this.imageCompress.uploadFile().then(({image:i,orientation:o})=>{console.warn("Size in bytes was:",this.imageCompress.byteCount(i)),this.imageCompress.compressFile(i,o,50,50).then(i=>{console.log(i),this.imagen[0]={url:i},console.log("rodri1",this.imagen[0]),console.log("rodri2",this.sucursal.sucursal[0].id_sucursal),this.subirPlano(this.imagen)})})}subirPlano(i){return Object(s.a)(this,void 0,void 0,(function*(){this.loading=yield this.loadingController.create({message:"Por favor espere."}),yield this.loading.present(),this.imagen.length>0?(this.object={id_sucursal:this.sucursal.sucursal[0].id_sucursal,imagen:this.imagen[0].url},console.log(this.object),this.api_sucursales.subir_planos(this.object).subscribe(i=>{console.log(i),this.actualizar_informacion(),this.loading.dismiss()},i=>{this.loading.dismiss(),console.log("Error al subir el plano ",i),alert("El plano no se subio")})):(this.loading.dismiss(),console.log("No se ha seleccionado ningun plano"))}))}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(c.E),t.Jb(a.a),t.Jb(c.C),t.Jb(l.a),t.Jb(c.B))},i.\u0275cmp=t.Db({type:i,selectors:[["app-ver-sucursal"]],decls:3,vars:2,consts:[[4,"ngIf"],["style","margin-top: 10px;",4,"ngIf"],["lines","none",2,"text-align","center"],["lines","full"],["size","3"],["size","2"],["size","1"],["size","2",2,"margin-top","10px"],[2,"width","50px","margin-top","0px"],["download","",3,"href"],[3,"src"],[2,"margin-top","5px"],["lines","none",2,"text-align","right"],[3,"click"],["size","7"],["lines","full","class","equipos",4,"ngFor","ngForOf"],["lines","full",1,"equipos"],["size","7",2,"margin-top","15px"],["size","2",2,"margin-top","15px"],["name","trash-outline","color","danger",2,"margin-top","15px",3,"click"],[2,"margin-top","10px"],["slot","end","name","add-circle-outline","color","primary",3,"click"],["pager","true",2,"background-color","secondary"],[4,"ngFor","ngForOf"],[1,"planos",3,"src"]],template:function(i,o){1&i&&(t.Mb(0,"ion-content"),t.hc(1,u,74,6,"div",0),t.hc(2,h,8,1,"div",1),t.Lb()),2&i&&(t.zb(1),t.bc("ngIf",o.sucursal),t.zb(1),t.bc("ngIf",o.sucursal))},directives:[c.g,b.j,c.m,c.n,c.i,c.p,c.f,c.e,c.c,b.i,c.k,c.t,c.s],styles:[".planos[_ngcontent-%COMP%]{width:50%;height:50%}.equipos[_ngcontent-%COMP%]{height:65px}"]}),i})()},lENo:function(i,o,n){"use strict";n.d(o,"a",(function(){return p}));var s=n("mrSG"),e=n("OAWW"),t=n("fXoL"),c=n("TEn/"),a=n("jCJ1"),l=n("ofXK");function b(i,o){1&i&&(t.Mb(0,"div",3),t.Kb(1,"ion-spinner"),t.Lb())}function r(i,o){if(1&i&&(t.Mb(0,"div"),t.Mb(1,"ion-item",4),t.Mb(2,"ion-label"),t.Mb(3,"b"),t.ic(4,"Fecha de concluida la visita:"),t.Lb(),t.ic(5),t.Lb(),t.Lb(),t.Lb()),2&i){const i=t.Wb(2);t.zb(5),t.kc(" ",i.visita.visitas.horario_salida,"")}}function u(i,o){if(1&i&&(t.Mb(0,"div"),t.Mb(1,"ion-item"),t.Mb(2,"ion-label"),t.Mb(3,"b"),t.ic(4,"Fecha estimada de la visita:"),t.Lb(),t.ic(5),t.Xb(6,"date"),t.Lb(),t.Lb(),t.Lb()),2&i){const i=t.Wb(2);t.zb(5),t.kc(" ",t.Yb(6,1,i.visita.visitas.fecha_visita,"dd/MM/yyyy hh:mm"),"")}}function d(i,o){if(1&i&&(t.Mb(0,"div",6),t.Kb(1,"ion-icon",7),t.ic(2),t.Lb()),2&i){const i=o.$implicit;t.zb(2),t.kc(" ",i.nombre_servicio," ")}}function h(i,o){if(1&i){const i=t.Nb();t.Mb(0,"div"),t.Mb(1,"ion-button",8),t.Ub("click",(function(){return t.ec(i),t.Wb(3).generar_pdf()})),t.ic(2,"Generar PDF"),t.Lb(),t.Lb()}}function m(i,o){if(1&i){const i=t.Nb();t.Mb(0,"div"),t.Mb(1,"ion-button",9),t.Ub("click",(function(){return t.ec(i),t.Wb(3).ver_pdf()})),t.ic(2,"Ver PDF"),t.Lb(),t.Lb()}}function g(i,o){if(1&i&&(t.Mb(0,"div"),t.hc(1,h,3,0,"div",1),t.hc(2,m,3,0,"div",1),t.Lb()),2&i){const i=t.Wb(2);t.zb(1),t.bc("ngIf",!i.pdf_generado),t.zb(1),t.bc("ngIf",i.pdf_generado)}}function M(i,o){if(1&i){const i=t.Nb();t.Mb(0,"div"),t.Mb(1,"ion-button",8),t.Ub("click",(function(){return t.ec(i),t.Wb(2).modificar_visita()})),t.ic(2,"Modificar visita"),t.Lb(),t.Lb()}}function f(i,o){if(1&i&&(t.Mb(0,"div"),t.Mb(1,"ion-item",4),t.Mb(2,"ion-label"),t.Mb(3,"b"),t.ic(4,"T\xe9cnico a cargo de la visita:"),t.Lb(),t.ic(5),t.Lb(),t.Lb(),t.hc(6,r,6,1,"div",1),t.hc(7,u,7,4,"div",1),t.Mb(8,"ion-item",4),t.Mb(9,"ion-label"),t.Mb(10,"b"),t.ic(11,"Cliente:"),t.Lb(),t.ic(12),t.Lb(),t.Lb(),t.Mb(13,"ion-item",4),t.Mb(14,"ion-label"),t.Mb(15,"b"),t.ic(16,"Sucursal:"),t.Lb(),t.ic(17),t.Lb(),t.Lb(),t.Mb(18,"ion-item",4),t.Mb(19,"ion-label"),t.Mb(20,"b"),t.ic(21,"Servicios ofrecidos:"),t.Lb(),t.hc(22,d,3,1,"div",5),t.Lb(),t.Lb(),t.hc(23,g,3,2,"div",1),t.hc(24,M,3,0,"div",1),t.Lb()),2&i){const i=t.Wb();t.zb(5),t.lc(" ",i.visita.visitas.nombre_tecnico," ",i.visita.visitas.apellido_tecnico,""),t.zb(1),t.bc("ngIf","NULL"!=i.visita.visitas.horario_salida),t.zb(1),t.bc("ngIf","NULL"==i.visita.visitas.horario_salida),t.zb(5),t.kc(" ",i.visita.visitas.razon_social_cliente,""),t.zb(5),t.kc(" ",i.visita.visitas.razon_social_sucursal,""),t.zb(5),t.bc("ngForOf",i.visita.servicios),t.zb(1),t.bc("ngIf","NULL"!=i.visita.visitas.horario_salida),t.zb(1),t.bc("ngIf","NULL"==i.visita.visitas.horario_salida)}}let p=(()=>{class i{constructor(i,o,n){this.navParams=i,this.api_visitas=o,this.modalController=n,this.id_visita=this.navParams.get("id_visita"),this.pdf_generado=!1}ngOnInit(){this.actualizar_informacion()}generar_pdf(){console.log(this.id_visita),this.api_visitas.crear_pdf({id_visita:this.id_visita}).subscribe(i=>{console.log(i),this.pdf_generado=!0},i=>{console.log(i)})}ver_pdf(){this.api_visitas.ver_pdf(this.id_visita).subscribe(i=>{this.url=i,console.log(this.url.url),window.open(this.url.url,"_blank").focus()},i=>{console.log(i)})}actualizar_informacion(){this.api_visitas.informacion_visita(this.id_visita).subscribe(i=>{this.visita=i,this.visita=this.visita.result,console.log(this.visita)})}modificar_visita(){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:e.a,cssClass:"my-custom-class",componentProps:{id_visita:this.id_visita}});return i.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield i.present()}))}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(c.E),t.Jb(a.a),t.Jb(c.C))},i.\u0275cmp=t.Db({type:i,selectors:[["app-ver-visita"]],decls:5,vars:2,consts:[["style","text-align: center;",4,"ngIf"],[4,"ngIf"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[2,"text-align","center"],["lines","full"],["style","margin-left:10px; margin-top: 10px",4,"ngFor","ngForOf"],[2,"margin-left","10px","margin-top","10px"],["name","document-outline","color","primary"],["expand","full",3,"click"],["expand","full","color","success",3,"click"]],template:function(i,o){1&i&&(t.Mb(0,"ion-content"),t.hc(1,b,2,0,"div",0),t.hc(2,f,25,9,"div",1),t.Mb(3,"div"),t.Kb(4,"img",2),t.Lb(),t.Lb()),2&i&&(t.zb(1),t.bc("ngIf",!o.visita),t.zb(1),t.bc("ngIf",o.visita))},directives:[c.g,l.j,c.u,c.m,c.n,l.i,c.k,c.c],pipes:[l.d],styles:[""]}),i})()},mca5:function(i,o,n){"use strict";n.r(o),n.d(o,"VerClientePageModule",(function(){return v}));var s=n("ofXK"),e=n("3Pt+"),t=n("TEn/"),c=n("tyNb"),a=n("mrSG"),l=n("wfI0"),b=n("cZ9Q"),r=n("lENo"),u=n("1mX4"),d=n("fXoL"),h=n("jCJ1");function m(i,o){if(1&i&&(d.Mb(0,"ion-item",8),d.Mb(1,"ion-col",3),d.Mb(2,"ion-label"),d.ic(3),d.Lb(),d.Lb(),d.Mb(4,"ion-col",3),d.Mb(5,"ion-label"),d.ic(6),d.Lb(),d.Lb(),d.Mb(7,"ion-col",3),d.Mb(8,"ion-label"),d.ic(9),d.Lb(),d.Lb(),d.Mb(10,"ion-col",3),d.Mb(11,"ion-label"),d.ic(12),d.Lb(),d.Lb(),d.Lb()),2&i){const i=d.Wb(2);d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].razon_social_cliente," "),d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].telefono," "),d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].email," "),d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].direccion," ")}}function g(i,o){if(1&i){const i=d.Nb();d.Mb(0,"div"),d.Mb(1,"ion-item",8),d.Mb(2,"ion-col",3),d.ic(3),d.Lb(),d.Mb(4,"ion-col",3),d.ic(5),d.Lb(),d.Mb(6,"ion-col",3),d.ic(7),d.Lb(),d.Mb(8,"ion-col",9),d.ic(9),d.Lb(),d.Mb(10,"ion-col",12),d.Mb(11,"ion-icon",13),d.Ub("click",(function(){d.ec(i);const n=o.$implicit;return d.Wb(2).modificar_sucursal(n.id_sucursal)})),d.Lb(),d.Mb(12,"ion-icon",14),d.Ub("click",(function(){d.ec(i);const n=o.$implicit;return d.Wb(2).baja_sucursal(n.id_sucursal)})),d.Lb(),d.Mb(13,"ion-icon",15),d.Ub("click",(function(){d.ec(i);const n=o.$implicit;return d.Wb(2).verSucursal(n.id_sucursal)})),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){const i=o.$implicit;d.zb(3),d.jc(i.razon_social_sucursal),d.zb(2),d.jc(i.telefono_sucursal),d.zb(2),d.jc(i.email_sucursal),d.zb(2),d.kc(" ",i.direccion_sucursal," ")}}function M(i,o){if(1&i){const i=d.Nb();d.Mb(0,"div"),d.Mb(1,"ion-item",8),d.Mb(2,"ion-col",11),d.ic(3),d.Xb(4,"date"),d.Lb(),d.Mb(5,"ion-col",11),d.ic(6),d.Lb(),d.Mb(7,"ion-col",3),d.ic(8),d.Lb(),d.Mb(9,"ion-col",12),d.Mb(10,"ion-icon",15),d.Ub("click",(function(){d.ec(i);const n=o.$implicit;return d.Wb(2).verVisita(n.id_visita)})),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){const i=o.$implicit;d.zb(3),d.jc(d.Yb(4,3,i.fecha_visita,"dd/MM/yyyy hh:mm")),d.zb(3),d.jc(i.razon_social_sucursal),d.zb(2),d.jc(i.estado_visita)}}function f(i,o){if(1&i){const i=d.Nb();d.Mb(0,"ion-content"),d.Mb(1,"div",1),d.Mb(2,"ion-item",2),d.Mb(3,"ion-grid"),d.Mb(4,"ion-row"),d.Mb(5,"ion-col",3),d.Mb(6,"ion-label"),d.Mb(7,"b"),d.ic(8,"Razon social"),d.Lb(),d.Lb(),d.Lb(),d.Mb(9,"ion-col",3),d.Mb(10,"ion-label"),d.Mb(11,"b"),d.ic(12,"Telefono"),d.Lb(),d.Lb(),d.Lb(),d.Mb(13,"ion-col",3),d.Mb(14,"ion-label"),d.Mb(15,"b"),d.ic(16,"Email"),d.Lb(),d.Lb(),d.Lb(),d.Mb(17,"ion-col",3),d.Mb(18,"ion-label"),d.Mb(19,"b"),d.ic(20,"Direccion"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.hc(21,m,13,4,"ion-item",4),d.Lb(),d.Mb(22,"ion-grid"),d.Mb(23,"ion-row"),d.Mb(24,"ion-col"),d.Mb(25,"ion-item",5),d.Mb(26,"ion-label",6),d.Mb(27,"b"),d.ic(28,"Sucursales"),d.Lb(),d.Lb(),d.Mb(29,"ion-button",7),d.Ub("click",(function(){return d.ec(i),d.Wb().altaSucursal()})),d.ic(30,"Agregar sucursal"),d.Lb(),d.Lb(),d.Mb(31,"ion-item",8),d.Mb(32,"ion-col",3),d.ic(33,"Razon social sucursal"),d.Lb(),d.Mb(34,"ion-col",3),d.ic(35,"Telefono sucursal"),d.Lb(),d.Mb(36,"ion-col",3),d.ic(37,"Email sucursal"),d.Lb(),d.Mb(38,"ion-col",9),d.ic(39,"Direccion sucursal"),d.Lb(),d.Lb(),d.hc(40,g,14,4,"div",10),d.Lb(),d.Mb(41,"ion-col"),d.Mb(42,"ion-item",5),d.Mb(43,"ion-label",6),d.Mb(44,"b"),d.ic(45,"Visitas"),d.Lb(),d.Lb(),d.Lb(),d.Mb(46,"ion-item",8),d.Mb(47,"ion-col",11),d.ic(48,"Fecha de la visita"),d.Lb(),d.Mb(49,"ion-col",11),d.ic(50,"Sucursal"),d.Lb(),d.Mb(51,"ion-col",11),d.ic(52,"Estado"),d.Lb(),d.Lb(),d.hc(53,M,11,6,"div",10),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){const i=d.Wb();d.zb(21),d.bc("ngIf",i.cliente),d.zb(19),d.bc("ngForOf",i.cliente.sucursales.datosSucursal),d.zb(13),d.bc("ngForOf",i.cliente.sucursales.visitas)}}const p=[{path:"",component:(()=>{class i{constructor(i,o,n,s){this.activatedRoute=i,this.api_clientes=o,this.modalController=n,this.alertController=s}ngOnInit(){this.actualizar_informacion()}altaSucursal(){return Object(a.a)(this,void 0,void 0,(function*(){let i=this.activatedRoute.snapshot.paramMap.get("id_cliente");const o=yield this.modalController.create({component:l.a,cssClass:"my-custom-class",componentProps:{id_cliente:i}});return yield o.present()}))}verSucursal(i){return Object(a.a)(this,void 0,void 0,(function*(){this.activatedRoute.snapshot.paramMap.get("id_cliente");const o=yield this.modalController.create({component:b.a,cssClass:"modal_grande",componentProps:{id_sucursal:i}});return yield o.present()}))}verVisita(i){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:r.a,cssClass:"my-custom-class",componentProps:{id_visita:i}});return yield o.present()}))}baja_sucursal(i){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Seguro que desea eliminar la sucursal?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.eliminar_sucursal(i),this.actualizar_informacion()}}]});yield o.present()}))}eliminar_sucursal(i){this.api_clientes.eliminar_sucursal(i).subscribe(i=>{},i=>{console.log(i)})}actualizar_informacion(){let i=this.activatedRoute.snapshot.paramMap.get("id_cliente");this.api_clientes.informacion_cliente(i).subscribe(i=>{this.cliente=i,this.cliente=this.cliente.result})}modificar_sucursal(i){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:u.a,cssClass:"my-custom-class",componentProps:{id_sucursal:i}});return o.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield o.present()}))}}return i.\u0275fac=function(o){return new(o||i)(d.Jb(c.a),d.Jb(h.a),d.Jb(t.C),d.Jb(t.a))},i.\u0275cmp=d.Db({type:i,selectors:[["app-ver-cliente"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"informacion_cliente"],["lines","full",1,"titulos"],["size","3"],["lines","full",4,"ngIf"],["lines","none"],[2,"text-align","center"],[3,"click"],["lines","full"],["size","2"],[4,"ngFor","ngForOf"],["size","4"],["size","1"],["name","create-outline",2,"margin-right","5px",3,"click"],["name","trash-outline","color","danger",2,"margin-right","5px",3,"click"],["color","primary","name","enter-outline",3,"click"]],template:function(i,o){1&i&&d.hc(0,f,54,3,"ion-content",0),2&i&&d.bc("ngIf",o.cliente)},directives:[s.j,t.g,t.m,t.i,t.p,t.f,t.n,t.c,s.i,t.k],pipes:[s.d],styles:[".informacion_cliente[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:10px}"]}),i})()},{path:"alta-sucursal",loadChildren:()=>n.e(18).then(n.bind(null,"pY+/")).then(i=>i.AltaSucursalPageModule)},{path:"ver-sucursal",loadChildren:()=>n.e(22).then(n.bind(null,"l4Rn")).then(i=>i.VerSucursalPageModule)},{path:"ver-visita",loadChildren:()=>n.e(23).then(n.bind(null,"R0jV")).then(i=>i.VerVisitaPageModule)},{path:"modificar-sucursal",loadChildren:()=>n.e(19).then(n.bind(null,"+l8E")).then(i=>i.ModificarSucursalPageModule)},{path:"modificar-visita",loadChildren:()=>n.e(20).then(n.bind(null,"6Ypc")).then(i=>i.ModificarVisitaPageModule)}];let L=(()=>{class i{}return i.\u0275mod=d.Hb({type:i}),i.\u0275inj=d.Gb({factory:function(o){return new(o||i)},imports:[[c.h.forChild(p)],c.h]}),i})();var _=n("X9o6");let v=(()=>{class i{}return i.\u0275mod=d.Hb({type:i}),i.\u0275inj=d.Gb({factory:function(o){return new(o||i)},providers:[_.a],imports:[[s.b,e.a,t.A,L]]}),i})()},wfI0:function(i,o,n){"use strict";n.d(o,"a",(function(){return a}));var s=n("fXoL"),e=n("TEn/"),t=n("jCJ1"),c=n("3Pt+");let a=(()=>{class i{constructor(i,o,n){this.navParams=i,this.api=o,this.modalCtrl=n,this.id_cliente=this.navParams.get("id_cliente")}ngOnInit(){}cargar_sucursal(){this.api.alta_sucursal({id_cliente:this.id_cliente,razon_social_sucursal:this.razon_social,direccion_sucursal:this.direccion,telefono_sucursal:this.telefono,email_sucursal:this.email}).subscribe(i=>{console.log(i),location.reload()})}cancelar(){this.modalCtrl.dismiss({dismissed:!0})}}return i.\u0275fac=function(o){return new(o||i)(s.Jb(e.E),s.Jb(t.a),s.Jb(e.C))},i.\u0275cmp=s.Db({type:i,selectors:[["app-alta-sucursal"]],decls:24,vars:4,consts:[["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],[2,"width","100%","text-align","center","margin-top","15px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"]],template:function(i,o){1&i&&(s.Mb(0,"ion-content"),s.Mb(1,"ion-item",0),s.Mb(2,"ion-label",1),s.ic(3," Razon social: "),s.Lb(),s.Mb(4,"ion-input",2),s.Ub("ngModelChange",(function(i){return o.razon_social=i})),s.Lb(),s.Lb(),s.Mb(5,"ion-item",0),s.Mb(6,"ion-label",1),s.ic(7," Telefono: "),s.Lb(),s.Mb(8,"ion-input",2),s.Ub("ngModelChange",(function(i){return o.telefono=i})),s.Lb(),s.Lb(),s.Mb(9,"ion-item",0),s.Mb(10,"ion-label",1),s.ic(11," Email: "),s.Lb(),s.Mb(12,"ion-input",2),s.Ub("ngModelChange",(function(i){return o.email=i})),s.Lb(),s.Lb(),s.Mb(13,"ion-item",0),s.Mb(14,"ion-label",1),s.ic(15," Direccion: "),s.Lb(),s.Mb(16,"ion-input",2),s.Ub("ngModelChange",(function(i){return o.direccion=i})),s.Lb(),s.Lb(),s.Mb(17,"div",3),s.Mb(18,"ion-button",4),s.Ub("click",(function(){return o.cancelar()})),s.ic(19,"Cancelar"),s.Lb(),s.Mb(20,"ion-button",4),s.Ub("click",(function(){return o.cargar_sucursal()})),s.ic(21,"Cargar"),s.Lb(),s.Lb(),s.Mb(22,"div",5),s.Kb(23,"img",6),s.Lb(),s.Lb()),2&i&&(s.zb(4),s.bc("ngModel",o.razon_social),s.zb(4),s.bc("ngModel",o.telefono),s.zb(4),s.bc("ngModel",o.email),s.zb(4),s.bc("ngModel",o.direccion))},directives:[e.g,e.m,e.n,e.l,e.J,c.d,c.e,e.c],styles:[""]}),i})()}}]);