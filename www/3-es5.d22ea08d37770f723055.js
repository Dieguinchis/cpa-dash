function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,i,n){return i&&_defineProperties(e.prototype,i),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ksL3:function(e,i,n){"use strict";n.r(i),n.d(i,"AdministrarClientesPageModule",(function(){return M}));var t=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),l=n("tyNb"),r=n("mrSG"),a=n("mhZR"),b=n("fXoL"),s=n("jCJ1");function u(e,i){if(1&e){var n=b.Nb();b.Mb(0,"div"),b.Mb(1,"ion-item",7),b.Mb(2,"ion-col",3),b.Mb(3,"ion-label"),b.ic(4),b.Lb(),b.Lb(),b.Mb(5,"ion-col",4),b.Mb(6,"ion-label"),b.ic(7),b.Lb(),b.Lb(),b.Mb(8,"ion-col",3),b.Mb(9,"ion-label"),b.ic(10),b.Lb(),b.Lb(),b.Mb(11,"ion-col",3),b.Mb(12,"ion-label"),b.ic(13),b.Lb(),b.Lb(),b.Mb(14,"ion-col",8),b.Mb(15,"ion-icon",9),b.Ub("click",(function(){b.ec(n);var e=i.$implicit;return b.Wb(2).modificar_cliente(e.id_cliente)})),b.Lb(),b.Mb(16,"ion-icon",10),b.Ub("click",(function(){b.ec(n);var e=i.$implicit;return b.Wb(2).baja_cliente(e.id_cliente)})),b.Lb(),b.Kb(17,"ion-icon",11),b.Lb(),b.Lb(),b.Lb()}if(2&e){var t=i.$implicit;b.zb(4),b.kc(" ",t.razon_social_cliente," "),b.zb(3),b.kc(" ",t.telefono," "),b.zb(3),b.kc(" ",t.email," "),b.zb(3),b.kc(" ",t.direccion," "),b.zb(4),b.bc("routerLink","/menu-principal/ver-cliente/"+t.id_cliente)}}function f(e,i){if(1&e&&(b.Mb(0,"div"),b.hc(1,u,18,5,"div",6),b.Lb()),2&e){var n=b.Wb();b.zb(1),b.bc("ngForOf",n.clientes)}}var m,d,g,h=[{path:"",component:(m=function(){function e(i,n,t){_classCallCheck(this,e),this.api_clientes=i,this.alertController=n,this.modalController=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.actualizar_informacion()}},{key:"baja_cliente",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,t=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({header:"Seguro que desea eliminar el cliente?",buttons:[{text:"No",handler:function(){}},{text:"Si",handler:function(){t.eliminar_cliente(e)}}]});case 2:return n=i.sent,i.next=5,n.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"eliminar_cliente",value:function(e){var i=this;this.api_clientes.eliminar_cliente(e).subscribe((function(e){i.actualizar_informacion()}))}},{key:"actualizar_informacion",value:function(){var e=this;this.api_clientes.listado_clientes().subscribe((function(i){e.clientes=i,e.clientes=e.clientes.result}))}},{key:"modificar_cliente",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var n,t=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:a.a,componentProps:{id_cliente:e}});case 2:return(n=i.sent).onDidDismiss().then((function(e){t.actualizar_informacion()})),i.next=6,n.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}}]),e}(),m.\u0275fac=function(e){return new(e||m)(b.Jb(s.a),b.Jb(c.a),b.Jb(c.C))},m.\u0275cmp=b.Db({type:m,selectors:[["app-administrar-clientes"]],decls:25,vars:1,consts:[["lines","none"],[2,"text-align","center"],["lines","full",1,"titulos"],["size","3"],["size","2"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","full"],["size","1"],["name","create-outline",2,"margin-right","15px",3,"click"],["name","trash-outline","color","danger",2,"margin-right","15px",3,"click"],["color","primary","name","enter-outline",3,"routerLink"]],template:function(e,i){1&e&&(b.Mb(0,"ion-content"),b.Mb(1,"ion-item",0),b.Mb(2,"ion-label",1),b.Mb(3,"b"),b.ic(4,"Clientes"),b.Lb(),b.Lb(),b.Lb(),b.Mb(5,"ion-item",2),b.Mb(6,"ion-grid"),b.Mb(7,"ion-row"),b.Mb(8,"ion-col",3),b.Mb(9,"ion-label"),b.Mb(10,"b"),b.ic(11,"Razon social"),b.Lb(),b.Lb(),b.Lb(),b.Mb(12,"ion-col",4),b.Mb(13,"ion-label"),b.Mb(14,"b"),b.ic(15,"Telefono"),b.Lb(),b.Lb(),b.Lb(),b.Mb(16,"ion-col",3),b.Mb(17,"ion-label"),b.Mb(18,"b"),b.ic(19,"Email"),b.Lb(),b.Lb(),b.Lb(),b.Mb(20,"ion-col",3),b.Mb(21,"ion-label"),b.Mb(22,"b"),b.ic(23,"Direccion"),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.hc(24,f,2,1,"div",5),b.Lb()),2&e&&(b.zb(24),b.bc("ngIf",i.clientes))},directives:[c.g,c.m,c.n,c.i,c.p,c.f,t.j,t.i,c.k,c.H,l.g],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),m)},{path:"modificar-cliente",loadChildren:function(){return n.e(17).then(n.bind(null,"jEl+")).then((function(e){return e.ModificarClientePageModule}))}}],p=((g=function e(){_classCallCheck(this,e)}).\u0275mod=b.Hb({type:g}),g.\u0275inj=b.Gb({factory:function(e){return new(e||g)},imports:[[l.h.forChild(h)],l.h]}),g),M=((d=function e(){_classCallCheck(this,e)}).\u0275mod=b.Hb({type:d}),d.\u0275inj=b.Gb({factory:function(e){return new(e||d)},imports:[[t.b,o.a,c.A,p]]}),d)},mhZR:function(e,i,n){"use strict";n.d(i,"a",(function(){return f}));var t=n("fXoL"),o=n("jCJ1"),c=n("TEn/"),l=n("X9o6"),r=n("ofXK"),a=n("3Pt+");function b(e,i){if(1&e&&t.Kb(0,"img",12),2&e){var n=t.Wb(2);t.bc("src",n.cliente.clienteDatos[0].logo_cliente,t.fc)}}function s(e,i){if(1&e){var n=t.Nb();t.Mb(0,"ion-button",9),t.Ub("click",(function(){return t.ec(n),t.Wb(2).agregarLogo()})),t.ic(1," Seleccionar Logo "),t.Lb()}}function u(e,i){if(1&e){var n=t.Nb();t.Mb(0,"ion-content"),t.Mb(1,"ion-item",2),t.Mb(2,"ion-label",3),t.ic(3," Razon social: "),t.Lb(),t.Mb(4,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(n),t.Wb().razon_social=e})),t.Lb(),t.Lb(),t.Mb(5,"ion-item",2),t.Mb(6,"ion-label",3),t.ic(7," Telefono: "),t.Lb(),t.Mb(8,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(n),t.Wb().telefono=e})),t.Lb(),t.Lb(),t.Mb(9,"ion-item",2),t.Mb(10,"ion-label",3),t.ic(11," Email: "),t.Lb(),t.Mb(12,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(n),t.Wb().email=e})),t.Lb(),t.Lb(),t.Mb(13,"ion-item",2),t.Mb(14,"ion-label",3),t.ic(15," Direccion: "),t.Lb(),t.Mb(16,"ion-input",4),t.Ub("ngModelChange",(function(e){return t.ec(n),t.Wb().direccion=e})),t.Lb(),t.Lb(),t.Mb(17,"ion-item",2),t.hc(18,b,1,1,"img",5),t.hc(19,s,2,0,"ion-button",6),t.Kb(20,"img",7),t.Lb(),t.Mb(21,"div",8),t.Mb(22,"ion-button",9),t.Ub("click",(function(){return t.ec(n),t.Wb().modificar_cliente()})),t.ic(23,"Modificar"),t.Lb(),t.Lb(),t.Mb(24,"div",10),t.Kb(25,"img",11),t.Lb(),t.Lb()}if(2&e){var o=t.Wb();t.zb(4),t.bc("ngModel",o.razon_social),t.zb(4),t.bc("ngModel",o.telefono),t.zb(4),t.bc("ngModel",o.email),t.zb(4),t.bc("ngModel",o.direccion),t.zb(2),t.bc("ngIf",o.cliente.clienteDatos[0].logo_cliente),t.zb(1),t.bc("ngIf",!o.logo),t.zb(1),t.bc("src",o.logo,t.fc)}}var f=function(){var e=function(){function e(i,n,t,o){_classCallCheck(this,e),this.api_clientes=i,this.navParams=n,this.modalCtrl=t,this.imageCompress=o,this.id_cliente=this.navParams.get("id_cliente")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.api_clientes.informacion_cliente(this.id_cliente).subscribe((function(i){e.cliente=i,e.cliente=e.cliente.result,e.razon_social=e.cliente.clienteDatos[0].razon_social_cliente,e.email=e.cliente.clienteDatos[0].email,e.telefono=e.cliente.clienteDatos[0].telefono,e.direccion=e.cliente.clienteDatos[0].direccion,console.log(e.cliente)}))}},{key:"modificar_cliente",value:function(){var e=this;this.objeto={id_cliente:this.id_cliente,razon_social_cliente:this.razon_social,direccion:this.direccion,telefono:this.telefono,email:this.email},console.log(this.objeto),this.api_clientes.modificar_cliente(this.objeto).subscribe((function(i){e.logo?e.api_clientes.subir_logo_cliente({id_cliente:e.id_cliente,logo:e.logo}).subscribe((function(i){e.modalCtrl.dismiss({dismissed:!0})})):e.modalCtrl.dismiss({dismissed:!0})}),(function(e){console.log(e)}))}},{key:"agregarLogo",value:function(){var e=this;this.imageCompress.uploadFile().then((function(i){var n=i.image,t=i.orientation;console.warn("Size in bytes was:",e.imageCompress.byteCount(n)),e.imageCompress.compressFile(n,t,50,50).then((function(i){console.log(i),e.logo=i}))}))}}]),e}();return e.\u0275fac=function(i){return new(i||e)(t.Jb(o.a),t.Jb(c.E),t.Jb(c.C),t.Jb(l.a))},e.\u0275cmp=t.Db({type:e,selectors:[["app-modificar-cliente"]],decls:5,vars:1,consts:[["color","primary",2,"text-align","center"],[4,"ngIf"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],["alt","",3,"src",4,"ngIf"],[3,"click",4,"ngIf"],["alt","",2,"width","50%","margin-left","25%","padding","5px",3,"src"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],["alt","",3,"src"]],template:function(e,i){1&e&&(t.Mb(0,"ion-header"),t.Mb(1,"ion-toolbar",0),t.Mb(2,"ion-title"),t.ic(3,"Modificar cliente"),t.Lb(),t.Lb(),t.Lb(),t.hc(4,u,26,7,"ion-content",1)),2&e&&(t.zb(4),t.bc("ngIf",i.cliente))},directives:[c.j,c.z,c.y,r.j,c.g,c.m,c.n,c.l,c.J,a.d,a.e,c.c],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),e}()}}]);