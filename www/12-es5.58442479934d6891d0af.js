function _createForOfIteratorHelper(i,e){var o;if("undefined"==typeof Symbol||null==i[Symbol.iterator]){if(Array.isArray(i)||(o=_unsupportedIterableToArray(i))||e&&i&&"number"==typeof i.length){o&&(i=o);var n=0,t=function(){};return{s:t,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(i){throw i},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,a=!1;return{s:function(){o=i[Symbol.iterator]()},n:function(){var i=o.next();return c=i.done,i},e:function(i){a=!0,r=i},f:function(){try{c||null==o.return||o.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(i,e){if(i){if("string"==typeof i)return _arrayLikeToArray(i,e);var o=Object.prototype.toString.call(i).slice(8,-1);return"Object"===o&&i.constructor&&(o=i.constructor.name),"Map"===o||"Set"===o?Array.from(i):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(i,e):void 0}}function _arrayLikeToArray(i,e){(null==e||e>i.length)&&(e=i.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=i[o];return n}function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function _createClass(i,e,o){return e&&_defineProperties(i.prototype,e),o&&_defineProperties(i,o),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1mX4":function(i,e,o){"use strict";o.d(e,"a",(function(){return l}));var n=o("fXoL"),t=o("TEn/"),r=o("jCJ1"),c=o("ofXK"),a=o("3Pt+");function s(i,e){if(1&i){var o=n.Nb();n.Mb(0,"ion-content"),n.Mb(1,"ion-item",2),n.Mb(2,"ion-label",3),n.ic(3," Razon social: "),n.Lb(),n.Mb(4,"ion-input",4),n.Ub("ngModelChange",(function(i){return n.ec(o),n.Wb().razon_social=i})),n.Lb(),n.Lb(),n.Mb(5,"ion-item",2),n.Mb(6,"ion-label",3),n.ic(7," Telefono: (solo numeros) "),n.Lb(),n.Mb(8,"ion-input",4),n.Ub("ngModelChange",(function(i){return n.ec(o),n.Wb().telefono=i})),n.Lb(),n.Lb(),n.Mb(9,"ion-item",2),n.Mb(10,"ion-label",3),n.ic(11," Email: "),n.Lb(),n.Mb(12,"ion-input",4),n.Ub("ngModelChange",(function(i){return n.ec(o),n.Wb().email=i})),n.Lb(),n.Lb(),n.Mb(13,"ion-item",2),n.Mb(14,"ion-label",3),n.ic(15," Direccion: "),n.Lb(),n.Mb(16,"ion-input",4),n.Ub("ngModelChange",(function(i){return n.ec(o),n.Wb().direccion=i})),n.Lb(),n.Lb(),n.Mb(17,"div",5),n.Mb(18,"ion-button",6),n.Ub("click",(function(){return n.ec(o),n.Wb().modificar_sucursal()})),n.ic(19,"Modificar"),n.Lb(),n.Lb(),n.Mb(20,"div",7),n.Kb(21,"img",8),n.Lb(),n.Lb()}if(2&i){var t=n.Wb();n.zb(4),n.bc("ngModel",t.razon_social),n.zb(4),n.bc("ngModel",t.telefono),n.zb(4),n.bc("ngModel",t.email),n.zb(4),n.bc("ngModel",t.direccion)}}var l=function(){var i=function(){function i(e,o,n){_classCallCheck(this,i),this.navParams=e,this.api=o,this.modalCtrl=n,this.id_sucursal=this.navParams.get("id_sucursal")}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.api.ver_sucursal(this.id_sucursal).subscribe((function(e){console.log(e),i.sucursal=e,i.sucursal=i.sucursal.result,i.razon_social=i.sucursal.sucursal[0].razon_social_sucursal,i.email=i.sucursal.sucursal[0].email_sucursal,i.telefono=i.sucursal.sucursal[0].telefono_sucursal,i.direccion=i.sucursal.sucursal[0].direccion_sucursal,i.id_cliente=i.sucursal.sucursal[0].id_cliente}),(function(i){console.log(i)}))}},{key:"modificar_sucursal",value:function(){var i=this;this.objeto={id_cliente:this.id_cliente,id_sucursal:this.id_sucursal,razon_social_sucursal:this.razon_social,direccion_sucursal:this.direccion,telefono_sucursal:this.telefono,email_sucursal:this.email},console.log(this.objeto),this.api.modificar_sucursal(this.objeto).subscribe((function(e){console.log(e),i.modalCtrl.dismiss({dismissed:!0})}),(function(i){console.log(i)}))}}]),i}();return i.\u0275fac=function(e){return new(e||i)(n.Jb(t.D),n.Jb(r.a),n.Jb(t.B))},i.\u0275cmp=n.Db({type:i,selectors:[["app-modificar-sucursal"]],decls:5,vars:1,consts:[["color","primary",2,"text-align","center"],[4,"ngIf"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"]],template:function(i,e){1&i&&(n.Mb(0,"ion-header"),n.Mb(1,"ion-toolbar",0),n.Mb(2,"ion-title"),n.ic(3,"Modificar sucursal"),n.Lb(),n.Lb(),n.Lb(),n.hc(4,s,22,4,"ion-content",1)),2&i&&(n.zb(4),n.bc("ngIf",e.sucursal))},directives:[t.k,t.y,t.x,c.j,t.g,t.n,t.o,t.m,t.I,a.d,a.e,t.c],styles:[""]}),i}()},OAWW:function(i,e,o){"use strict";o.d(e,"a",(function(){return M}));var n=o("mrSG"),t=o("wd/R"),r=o("fXoL"),c=o("89nv"),a=o("u//c"),s=o("jCJ1"),l=o("TEn/"),u=o("3Pt+"),b=o("ofXK");function d(i,e){if(1&i&&(r.Mb(0,"ion-select-option",13),r.ic(1),r.Lb()),2&i){var o=e.$implicit;r.cc("value",o.id_servicio),r.zb(1),r.jc(o.nombre_servicio)}}function p(i,e){if(1&i&&(r.Mb(0,"ion-select-option",13),r.ic(1),r.Lb()),2&i){var o=e.$implicit;r.cc("value",o.id_tecnico),r.zb(1),r.lc("",o.nombre_tecnico," ",o.apellido_tecnico,"")}}function f(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-label",16),r.ic(2),r.Lb(),r.Mb(3,"ion-item",17),r.Mb(4,"ion-label",4),r.ic(5,"Seleccionar t\xe9cnico a cargo"),r.Lb(),r.Mb(6,"ion-select",18),r.Ub("ngModelChange",(function(i){return r.ec(o),e.$implicit.tecnico=i})),r.hc(7,p,2,3,"ion-select-option",6),r.Lb(),r.Lb(),r.Lb()}if(2&i){var n=e.$implicit,t=r.Wb(2);r.zb(2),r.jc(n.nombre_equipo),r.zb(4),r.bc("ngModel",n.tecnico),r.zb(1),r.bc("ngForOf",t.listado_tecnicos)}}function h(i,e){if(1&i&&(r.Mb(0,"div",14),r.Mb(1,"h2",14),r.ic(2),r.Lb(),r.hc(3,f,8,3,"div",15),r.Lb()),2&i){var o=e.$implicit;r.zb(2),r.jc(o.nombre_servicio),r.zb(1),r.bc("ngForOf",o.equipos)}}function v(i,e){if(1&i&&(r.Mb(0,"div"),r.Mb(1,"ion-label",16),r.ic(2),r.Lb(),r.Lb()),2&i){var o=e.$implicit;r.zb(2),r.lc("",o.nombre_equipo,": ",o.nombre_servicio,"")}}function m(i,e){if(1&i&&(r.Mb(0,"ion-select-option",13),r.ic(1),r.Lb()),2&i){var o=e.$implicit;r.cc("value",o.id_tecnico),r.zb(1),r.lc("",o.nombre_tecnico," ",o.apellido_tecnico,"")}}function g(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div",14),r.Mb(1,"h2",14),r.ic(2),r.Lb(),r.hc(3,v,3,2,"div",15),r.Mb(4,"ion-item",17),r.Mb(5,"ion-label",4),r.ic(6,"Seleccionar t\xe9cnico a cargo"),r.Lb(),r.Mb(7,"ion-select",18),r.Ub("ngModelChange",(function(i){return r.ec(o),e.$implicit.tecnico=i})),r.hc(8,m,2,3,"ion-select-option",6),r.Lb(),r.Lb(),r.Lb()}if(2&i){var n=e.$implicit,t=r.Wb(2);r.zb(2),r.jc(n.nombre_equipo_grupo),r.zb(1),r.bc("ngForOf",n.equipos),r.zb(4),r.bc("ngModel",n.tecnico),r.zb(1),r.bc("ngForOf",t.listado_tecnicos)}}function _(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,g,9,4,"div",7),r.Lb()),2&i){var o=r.Wb();r.zb(1),r.bc("ngForOf",o.grupoWorkStationElegidos)}}var M=function(){var i=function(){function i(e,o,n,t,r,c){_classCallCheck(this,i),this.api=e,this.api_tecnicos=o,this.api_clientes=n,this.navParams=t,this.ModalController=r,this.api_visitas=c,this.serviciosConEquipos=[],this.serviciosElegidos=[],this.serviciosParaEnviar=[],this.grupoWorkStation=[],this.grupoWorkStationElegidos=[],this.show=!1,this.id_visita=this.navParams.get("id_visita"),this.servicios_elegidosAux=[],this.id_cliente_elegido=null,this.sucursal_elegida=null,this.dayNames=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],this.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}return _createClass(i,[{key:"ngOnInit",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.api.mostrar_servicios().subscribe((function(i){e.listado_servicios=i,e.listado_servicios=e.listado_servicios.result,console.log(e.listado_servicios,"servicios"),e.actualizar_informacion().then((function(i){console.warn(e.sucursal_elegida),e.api.listado_equipos(e.sucursal_elegida).subscribe((function(i){e.equipos=i.result,console.log(e.equipos,"equipos");var o,n=_createForOfIteratorHelper(e.listado_servicios);try{for(n.s();!(o=n.n()).done;){var t=o.value;t.equipos=[];var r,c=_createForOfIteratorHelper(e.equipos);try{for(c.s();!(r=c.n()).done;){var a=r.value;a.id_servicio==t.id_servicio&&t.equipos.push(a)}}catch(s){c.e(s)}finally{c.f()}t.equipos.length<1&&t.equipos.push({id_equipo:0,id_servicio:t.id_servicio,nombre_equipo:"Servicio principal"})}}catch(s){n.e(s)}finally{n.f()}console.log(e.listado_servicios,"servicios completos")}))}))}));case 2:this.api_tecnicos.listado_tecnicos().subscribe((function(i){e.listado_tecnicos=i,e.listado_tecnicos=e.listado_tecnicos.result,console.log(e.listado_tecnicos)}),(function(i){console.log(i)})),this.fecha_actual=t().format();case 4:case"end":return i.stop()}}),i,this)})))}},{key:"actualizar_informacion",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.api_clientes.informacion_visita(this.id_visita).then((function(i){return e.visita=i,e.visita=e.visita.result,e.id_cliente_elegido=e.visita.visitas.id_cliente,e.sucursal_elegida=e.visita.visitas.id_sucursal,e.sucursalesCliente(e.id_cliente_elegido),e.visita.visitas.id_sucursal}));case 2:case"end":return i.stop()}}),i,this)})))}},{key:"sucursalesCliente",value:function(i){var e=this;this.api.informacion_cliente(i).subscribe((function(o){e.listado_sucursales_cliente=o,console.log(o),e.listado_sucursales_cliente=e.listado_sucursales_cliente.result.sucursales.datosSucursal,e.id_cliente_elegido=i,e.selectSucursal(),console.log(e.listado_sucursales_cliente)}))}},{key:"selectSucursal",value:function(){var i=this;this.api.listado_grupoWorkstations(this.sucursal_elegida).subscribe((function(e){var o=0,n=[],t=0,r=!0;e.result.forEach((function(i){i.id_equipo_grupo==o?n[t].equipos.push({id_equipo:i.id_equipo,id_servicio:i.id_servicio,id_sucursal:i.id_sucursal,nombre_equipo:i.nombre_equipo,codigo_qr_equipo:i.codigo_qr_equipo,estado_servicio:i.estado_servicio,nombre_servicio:i.nombre_servicio,qr:i.qr}):(r||t++,o=i.id_equipo_grupo,n.push({nombre_equipo_grupo:i.nombre_equipo_grupo,id_equipo_grupo:i.id_equipo_grupo,equipos:[]}),n[t].equipos.push({id_equipo:i.id_equipo,id_servicio:i.id_servicio,id_sucursal:i.id_sucursal,nombre_equipo:i.nombre_equipo,codigo_qr_equipo:i.codigo_qr_equipo,estado_servicio:i.estado_servicio,nombre_servicio:i.nombre_servicio,qr:i.qr}),r=!1)})),i.grupoWorkStation=n}))}},{key:"programarVisita",value:function(){var i,e=_createForOfIteratorHelper(this.serviciosElegidos);try{for(e.s();!(i=e.n()).done;){var o,n=i.value,t=_createForOfIteratorHelper(n.equipos);try{for(t.s();!(o=t.n()).done;){var r=o.value;this.serviciosParaEnviar.push({id_servicio:n.id_servicio,id_tecnico:r.tecnico,id_equipo:r.id_equipo})}}catch(d){t.e(d)}finally{t.f()}}}catch(d){e.e(d)}finally{e.f()}var c,a=_createForOfIteratorHelper(this.grupoWorkStationElegidos);try{for(a.s();!(c=a.n()).done;){var s,l=c.value,u=_createForOfIteratorHelper(l.equipos);try{for(u.s();!(s=u.n()).done;){var b=s.value;this.serviciosParaEnviar.push({id_servicio:b.id_servicio,id_tecnico:l.tecnico,id_equipo:b.id_equipo})}}catch(d){u.e(d)}finally{u.f()}}}catch(d){a.e(d)}finally{a.f()}console.log(this.serviciosParaEnviar),this.api_visitas.modificar_visita({id_cliente:this.id_cliente_elegido,id_sucursal:this.sucursal_elegida,servicios:this.serviciosParaEnviar,fecha_visita:this.fecha_elegida,id:this.visita.visitas.id_visita}).subscribe((function(i){console.log(i),location.reload()}))}},{key:"serviciosElegidosChange",value:function(){var i=this;this.serviciosElegidos=[];var e,o=_createForOfIteratorHelper(this.servicios_elegidosAux);try{for(o.s();!(e=o.n()).done;){var n,t=e.value,r=_createForOfIteratorHelper(this.listado_servicios);try{for(r.s();!(n=r.n()).done;){var c=n.value;c.id_servicio==t&&0==c.qr&&this.serviciosElegidos.push(c)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){o.e(u)}finally{o.f()}var a=[{nombre_equipo_grupo:null,id_equipo_grupo:null,tecnico:null,equipos:[]}],s=0,l=!0;console.log(this.servicios_elegidosAux),this.grupoWorkStation.forEach((function(e){e.equipos.forEach((function(o){var n=o.id_servicio.toString();i.servicios_elegidosAux.includes(n)&&(i.checkExist(a,e.nombre_equipo_grupo)||null==a[0].nombre_equipo_grupo?l?(l=!1,a=[{nombre_equipo_grupo:e.nombre_equipo_grupo,id_equipo_grupo:e.id_equipo_grupo,tecnico:null,equipos:[o]}]):(console.log("1"),s+=1,l=!1,a.push({nombre_equipo_grupo:e.nombre_equipo_grupo,id_equipo_grupo:e.id_equipo_grupo,tecnico:null,equipos:[o]})):(console.log("3"),a[s].equipos.push(o)))}))})),this.grupoWorkStationElegidos=a,this.show=!0,null==this.grupoWorkStationElegidos[0].nombre_equipo_grupo&&(this.show=!1),console.log("Servicio elegidos: ",a)}},{key:"checkExist",value:function(i,e){return null==i.find((function(i){return i.nombre_equipo_grupo==e}))}},{key:"close",value:function(){this.ModalController.dismiss()}}]),i}();return i.\u0275fac=function(e){return new(e||i)(r.Jb(c.a),r.Jb(a.a),r.Jb(s.a),r.Jb(l.D),r.Jb(l.B),r.Jb(c.a))},i.\u0275cmp=r.Db({type:i,selectors:[["app-modificar-visita"]],decls:24,vars:12,consts:[["color","primary"],["slot","end"],[3,"click"],["name","close-outline"],["fixed","",2,"text-align","center"],["multiple","true",3,"disabled","ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngFor","ngForOf"],[4,"ngIf"],["displayFormat","DDDD D MMMM YYYY HH:mm","max","2022",3,"ngModel","doneText","cancelText","monthNames","dayNames","min","value","ngModelChange"],[2,"width","100%","text-align","center"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[3,"value"],[2,"text-align","center"],[4,"ngFor","ngForOf"],["fixed","",2,"text-align","center","color","var(--ion-color-secondary)","font-weight","bold"],[2,"margin-top","10px"],[3,"ngModel","ngModelChange"]],template:function(i,e){1&i&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar",0),r.Mb(2,"ion-title"),r.ic(3,"Modificar Visita"),r.Lb(),r.Mb(4,"ion-buttons",1),r.Mb(5,"ion-button",2),r.Ub("click",(function(){return e.close()})),r.Kb(6,"ion-icon",3),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(7,"ion-content"),r.Mb(8,"ion-item"),r.Mb(9,"ion-label",4),r.ic(10,"Seleccionar servicios a ofrecer"),r.Lb(),r.Mb(11,"ion-select",5),r.Ub("ngModelChange",(function(i){return e.servicios_elegidosAux=i}))("ionChange",(function(){return e.serviciosElegidosChange()})),r.hc(12,d,2,2,"ion-select-option",6),r.Lb(),r.Lb(),r.hc(13,h,4,2,"div",7),r.hc(14,_,2,1,"div",8),r.Mb(15,"ion-item"),r.Mb(16,"ion-label",4),r.ic(17,"Elegir una fecha"),r.Lb(),r.Mb(18,"ion-datetime",9),r.Ub("ngModelChange",(function(i){return e.fecha_elegida=i})),r.Lb(),r.Lb(),r.Mb(19,"div",10),r.Mb(20,"ion-button",2),r.Ub("click",(function(){return e.programarVisita()})),r.ic(21,"Modificar"),r.Lb(),r.Lb(),r.Mb(22,"div",11),r.Kb(23,"img",12),r.Lb(),r.Lb()),2&i&&(r.zb(11),r.bc("disabled",null==e.sucursal_elegida)("ngModel",e.servicios_elegidosAux),r.zb(1),r.bc("ngForOf",e.listado_servicios),r.zb(1),r.bc("ngForOf",e.serviciosElegidos),r.zb(1),r.bc("ngIf",e.show),r.zb(4),r.cc("min",e.fecha_actual),r.cc("value",e.fecha_actual),r.bc("ngModel",e.fecha_elegida)("doneText","Listo")("cancelText","Cancelar")("monthNames",e.monthNames)("dayNames",e.dayNames))},directives:[l.k,l.y,l.x,l.d,l.c,l.l,l.g,l.n,l.o,l.r,l.H,u.d,u.e,b.i,b.j,l.h,l.s],styles:[""]}),i}()},aaHe:function(i,e,o){"use strict";o.d(e,"a",(function(){return b}));var n=o("mrSG"),t=o("fXoL"),r=o("+1S5"),c=o("TEn/"),a=o("3Pt+"),s=o("ofXK");function l(i,e){if(1&i&&(t.Mb(0,"div"),t.Mb(1,"ion-select-option",6),t.ic(2),t.Lb(),t.Lb()),2&i){var o=t.Wb().$implicit;t.zb(1),t.cc("value",o.id_servicio),t.zb(1),t.jc(o.nombre_servicio)}}function u(i,e){if(1&i&&(t.Mb(0,"div"),t.hc(1,l,3,2,"div",5),t.Lb()),2&i){var o=e.$implicit;t.zb(1),t.bc("ngIf",1==o.qr)}}var b=function(){var i=function(){function i(e,o,n,t){_classCallCheck(this,i),this.api_servicios=e,this.navParams=o,this.modalCtrl=n,this.alertController=t,this.id_sucursal=this.navParams.get("id_sucursal"),this.id_equipo_grupo=this.navParams.get("id_equipo_grupo")}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;console.log(this.id_sucursal),this.api_servicios.mostrar_servicios().subscribe((function(e){i.servicios=e,i.servicios=i.servicios.result,console.log(i.servicios)}))}},{key:"alta_workstation",value:function(){var i=this;this.id_servicio?(this.object={nombre_equipos:this.nombre_workstation,id_servicio:this.id_servicio,id_sucursal:this.id_sucursal,id_equipo_grupo:this.id_equipo_grupo},this.api_servicios.alta_workstation(this.object).subscribe((function(e){console.log(e),i.modalCtrl.dismiss({dismissed:!0})}))):this.presentAlert()}},{key:"presentAlert",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({message:"Para crear la workstation debes seleccionar el servicio que cumple",buttons:["OK"]});case 2:return e=i.sent,i.next=5,e.present();case 5:case"end":return i.stop()}}),i,this)})))}}]),i}();return i.\u0275fac=function(e){return new(e||i)(t.Jb(r.a),t.Jb(c.D),t.Jb(c.B),t.Jb(c.a))},i.\u0275cmp=t.Db({type:i,selectors:[["app-alta-workstation"]],decls:13,vars:3,consts:[["lines","full"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["expand","full",3,"click"],[4,"ngIf"],[3,"value"]],template:function(i,e){1&i&&(t.Mb(0,"ion-content"),t.Mb(1,"ion-item",0),t.Mb(2,"ion-label"),t.ic(3,"Nombre del workstation: "),t.Lb(),t.Mb(4,"ion-input",1),t.Ub("ngModelChange",(function(i){return e.nombre_workstation=i})),t.Lb(),t.Lb(),t.Mb(5,"ion-item",0),t.Mb(6,"ion-label"),t.ic(7,"Servicio que cumple"),t.Lb(),t.Mb(8,"ion-select",1),t.Ub("ngModelChange",(function(i){return e.id_servicio=i})),t.hc(9,u,2,1,"div",2),t.Lb(),t.Lb(),t.Mb(10,"div",3),t.Mb(11,"ion-button",4),t.Ub("click",(function(){return e.alta_workstation()})),t.ic(12,"Dar de alta"),t.Lb(),t.Lb(),t.Lb()),2&i&&(t.zb(4),t.bc("ngModel",e.nombre_workstation),t.zb(4),t.bc("ngModel",e.id_servicio),t.zb(1),t.bc("ngForOf",e.servicios))},directives:[c.g,c.n,c.o,c.m,c.I,a.d,a.e,c.r,c.H,s.i,c.c,s.j,c.s],styles:["ion-content[_ngcontent-%COMP%]{--background:#dfdfdf;border:2px solid #000}"]}),i}()},cZ9Q:function(i,e,o){"use strict";o.d(e,"a",(function(){return w}));var n=o("mrSG"),t=o("aaHe"),r=o("fXoL"),c=o("TEn/"),a=o("jCJ1"),s=o("X9o6"),l=o("+1S5"),u=o("ofXK");function b(i,e){if(1&i){var o=r.Nb();r.Mb(0,"ion-icon",27),r.Ub("click",(function(){return r.ec(o),r.Wb(2).deleteImprimirQrSucursal()})),r.Lb()}if(2&i){var n=r.Wb(2);r.bc("title","Eliminar QR de la lista ("+n.showDeleteQrSucursal.count+")")}}function d(i,e){1&i&&(r.Mb(0,"div"),r.Mb(1,"ion-item"),r.Mb(2,"ion-label",28),r.ic(3,"No se encontraron WorkStation"),r.Lb(),r.Lb(),r.Lb())}function p(i,e){1&i&&(r.Mb(0,"div"),r.Mb(1,"ion-item"),r.Mb(2,"ion-label",28),r.ic(3,"No se encontraron equipos"),r.Lb(),r.Lb(),r.Lb())}function f(i,e){if(1&i){var o=r.Nb();r.Mb(0,"ion-icon",27),r.Ub("click",(function(){r.ec(o);var i=r.Wb(2),e=i.$implicit,n=i.index,t=r.Wb(2).index;return r.Wb(3).deleteImprimirQr(e,n,t)})),r.Lb()}if(2&i){var n=r.Wb(2).index,t=r.Wb(2).index,c=r.Wb(3);r.bc("title","Eliminar QR de la lista ("+c.showDeleteQr[t][n].count+")")}}function h(i,e){if(1&i){var o=r.Nb();r.Mb(0,"ion-row",41),r.Mb(1,"ion-col",42),r.Mb(2,"ion-label"),r.ic(3),r.Lb(),r.Lb(),r.Mb(4,"ion-col",43),r.Mb(5,"ion-label"),r.ic(6),r.Lb(),r.Lb(),r.Mb(7,"ion-col",9),r.Mb(8,"ion-card",12),r.Mb(9,"div"),r.Mb(10,"a",13),r.Kb(11,"img",14),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(12,"ion-col",37),r.Mb(13,"ion-icon",16),r.Ub("click",(function(){r.ec(o);var i=r.Wb(),e=i.$implicit,n=i.index,t=r.Wb(2).index;return r.Wb(3).addmprimirQr(e,n,t)})),r.Lb(),r.hc(14,f,1,1,"ion-icon",17),r.Lb(),r.Mb(15,"ion-col",38),r.Mb(16,"ion-icon",32),r.Ub("click",(function(){r.ec(o);var i=r.Wb().$implicit;return r.Wb(5).borrar_equipo(i.id_equipo)})),r.Lb(),r.Lb(),r.Lb()}if(2&i){var n=r.Wb(),t=n.$implicit,c=n.index,a=r.Wb(2).index,s=r.Wb(3);r.zb(3),r.jc(t.nombre_equipo),r.zb(3),r.jc(t.nombre_servicio),r.zb(4),r.bc("href",t.codigo_qr_equipo,r.fc),r.zb(1),r.bc("src",t.codigo_qr_equipo,r.fc),r.zb(3),r.bc("ngIf",s.showDeleteQr[a][c].show)}}function v(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,h,17,5,"ion-row",40),r.Lb()),2&i){var o=e.$implicit;r.zb(1),r.bc("ngIf",null!=o.nombre_equipo)}}function m(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,v,2,1,"div",39),r.Lb()),2&i){var o=r.Wb().$implicit;r.zb(1),r.bc("ngForOf",o.equipos)}}function g(i,e){if(1&i){var o=r.Nb();r.Mb(0,"ion-item",7),r.Mb(1,"ion-grid"),r.Mb(2,"ion-row"),r.Mb(3,"ion-col",30),r.ic(4),r.Lb(),r.Mb(5,"ion-col",31),r.Mb(6,"ion-icon",32),r.Ub("click",(function(){r.ec(o);var i=e.$implicit,n=e.index;return r.Wb(3).borrar_equipo_grupo(i.id_equipo_grupo,n)})),r.Lb(),r.Lb(),r.Mb(7,"ion-col",33),r.Mb(8,"ion-item",34),r.Mb(9,"ion-icon",35),r.Ub("click",(function(){r.ec(o);var i=e.$implicit;return r.Wb(3).imprimirQrThisWorkstation(i)})),r.Lb(),r.Mb(10,"ion-button",26),r.Ub("click",(function(){r.ec(o);var i=e.$implicit;return r.Wb(3).altaWorkstation(i.id_equipo_grupo)})),r.ic(11,"Agregar workstation"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(12,"ion-item",7),r.Mb(13,"ion-grid"),r.Mb(14,"ion-row"),r.Mb(15,"ion-col",20),r.Mb(16,"ion-label"),r.Mb(17,"b"),r.ic(18,"Workstation"),r.Lb(),r.Lb(),r.Lb(),r.Mb(19,"ion-col",36),r.Mb(20,"ion-label"),r.Mb(21,"b"),r.ic(22,"Servicio"),r.Lb(),r.Lb(),r.Lb(),r.Mb(23,"ion-col",9),r.Mb(24,"ion-label"),r.Mb(25,"b"),r.ic(26,"Codigo QR"),r.Lb(),r.Lb(),r.Lb(),r.Mb(27,"ion-col",37),r.Kb(28,"ion-label"),r.Lb(),r.Mb(29,"ion-col",38),r.Mb(30,"ion-label"),r.Mb(31,"b"),r.ic(32,"Eliminar"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.hc(33,p,4,0,"div",0),r.hc(34,m,2,1,"div",0),r.Lb(),r.Lb()}if(2&i){var n=e.$implicit;r.zb(4),r.jc(n.nombre_equipo_grupo),r.zb(29),r.bc("ngIf",0==n.equipos.length||0==n.length),r.zb(1),r.bc("ngIf",n.equipos.length>0)}}function _(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,g,35,3,"ion-item",29),r.Lb()),2&i){var o=r.Wb(2);r.zb(1),r.bc("ngForOf",o.grupoWorkStation)}}function M(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-row",2),r.Mb(2,"ion-col",3),r.Mb(3,"b",4),r.ic(4,"Informacion de la sucursal"),r.Lb(),r.Lb(),r.Mb(5,"ion-col",5),r.Mb(6,"ion-icon",6),r.Ub("click",(function(){return r.ec(o),r.Wb().imprimirAllQrSucursal()})),r.Lb(),r.Lb(),r.Lb(),r.Mb(7,"ion-item",7),r.Mb(8,"ion-grid"),r.Mb(9,"ion-row"),r.Mb(10,"ion-col",8),r.Mb(11,"ion-label"),r.Mb(12,"b"),r.ic(13,"Sucursal"),r.Lb(),r.Lb(),r.Lb(),r.Mb(14,"ion-col",9),r.Mb(15,"ion-label"),r.Mb(16,"b"),r.ic(17,"Telefono"),r.Lb(),r.Lb(),r.Lb(),r.Mb(18,"ion-col",8),r.Mb(19,"ion-label"),r.Mb(20,"b"),r.ic(21,"Mail"),r.Lb(),r.Lb(),r.Lb(),r.Mb(22,"ion-col",9),r.Mb(23,"ion-label"),r.Mb(24,"b"),r.ic(25,"Codigo QR"),r.Lb(),r.Lb(),r.Lb(),r.Mb(26,"ion-col",9),r.Mb(27,"ion-label"),r.Mb(28,"b"),r.ic(29,"Imprimir"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(30,"ion-item",7),r.Mb(31,"ion-grid"),r.Mb(32,"ion-row"),r.Mb(33,"ion-col",10),r.Mb(34,"ion-label"),r.ic(35),r.Lb(),r.Lb(),r.Mb(36,"ion-col",11),r.Mb(37,"ion-label"),r.ic(38),r.Lb(),r.Lb(),r.Mb(39,"ion-col",10),r.Mb(40,"ion-label"),r.ic(41),r.Lb(),r.Lb(),r.Mb(42,"ion-col",9),r.Mb(43,"ion-card",12),r.Mb(44,"div"),r.Mb(45,"a",13),r.Kb(46,"img",14),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(47,"ion-col",15),r.Mb(48,"ion-icon",16),r.Ub("click",(function(){return r.ec(o),r.Wb().addImprimirQrSucursal()})),r.Lb(),r.hc(49,b,1,1,"ion-icon",17),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Kb(50,"div",18),r.Mb(51,"ion-row",19),r.Mb(52,"ion-col",20),r.Mb(53,"ion-item",21),r.Mb(54,"ion-label",22),r.Mb(55,"b"),r.ic(56,"Workstations/equipos"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(57,"ion-col",23),r.Mb(58,"ion-item",24),r.Kb(59,"ion-label"),r.Mb(60,"ion-icon",25),r.Ub("click",(function(){return r.ec(o),r.Wb().imprimirQrAllWorkstations()})),r.Lb(),r.Mb(61,"ion-button",26),r.Ub("click",(function(){return r.ec(o),r.Wb().alertAltaGrupoWorkstation()})),r.ic(62,"Agregar grupo de workstations"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.hc(63,d,4,0,"div",0),r.hc(64,_,2,1,"div",0),r.Lb()}if(2&i){var n=r.Wb();r.zb(35),r.jc(n.sucursal.sucursal[0].razon_social_sucursal),r.zb(3),r.jc(n.sucursal.sucursal[0].telefono_sucursal),r.zb(3),r.jc(n.sucursal.sucursal[0].email_sucursal),r.zb(4),r.bc("href",n.sucursal.sucursal[0].codigo_qr,r.fc),r.zb(1),r.bc("src",n.sucursal.sucursal[0].codigo_qr,r.fc),r.zb(3),r.bc("ngIf",n.showDeleteQrSucursal.show),r.zb(14),r.bc("ngIf",null==n.grupoWorkStation),r.zb(1),r.bc("ngIf",null!=n.grupoWorkStation)}}function L(i,e){if(1&i){var o=r.Nb();r.Mb(0,"ion-item",48),r.Mb(1,"ion-icon",49),r.Ub("click",(function(){r.ec(o);var i=r.Wb().$implicit;return r.Wb(2).openPdf(i.url_imagen_plano)})),r.Lb(),r.Mb(2,"ion-label",26),r.Ub("click",(function(){r.ec(o);var i=r.Wb().$implicit;return r.Wb(2).openPdf(i.url_imagen_plano)})),r.ic(3),r.Lb(),r.Mb(4,"ion-icon",50),r.Ub("click",(function(){r.ec(o);var i=r.Wb().$implicit;return r.Wb(2).alert_eliminar_plano(i.id_plano)})),r.Lb(),r.Lb()}if(2&i){var n=r.Wb().$implicit;r.zb(3),r.jc(n.name)}}function k(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,L,5,1,"ion-item",47),r.Lb()),2&i){var o=r.Wb(2);r.zb(1),r.bc("ngIf",o.sucursal.planos.length>0)}}function y(i,e){1&i&&(r.Mb(0,"ion-item",48),r.Mb(1,"ion-label"),r.ic(2,"No hay planos cargados"),r.Lb(),r.Lb())}function q(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div",44),r.Mb(1,"ion-item",21),r.Mb(2,"ion-label"),r.Mb(3,"b"),r.ic(4,"Planos de la sucursal"),r.Lb(),r.Lb(),r.Mb(5,"input",45),r.Ub("change",(function(i){return r.ec(o),r.Wb().showFile(i.target.files)})),r.Lb(),r.Mb(6,"ion-icon",46),r.Ub("click",(function(){return r.ec(o),r.Wb().agregar_plano()})),r.Lb(),r.Lb(),r.hc(7,k,2,1,"div",39),r.hc(8,y,3,0,"ion-item",47),r.Lb()}if(2&i){var n=r.Wb();r.zb(5),r.bc("disabled",n.disabled),r.zb(2),r.bc("ngForOf",n.sucursal.planos),r.zb(1),r.bc("ngIf",0==n.sucursal.planos.length)}}function z(i,e){if(1&i){var o=r.Nb();r.Mb(0,"ion-footer"),r.Mb(1,"ion-toolbar",51),r.Mb(2,"ion-title"),r.ic(3),r.Lb(),r.Mb(4,"ion-buttons",52),r.Mb(5,"ion-button",53),r.Ub("click",(function(){return r.ec(o),r.Wb().printSelect()})),r.ic(6,"Imprimir"),r.Lb(),r.Mb(7,"ion-button",54),r.Ub("click",(function(){return r.ec(o),r.Wb().deletePrintSelect()})),r.ic(8,"Cancelar"),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&i){var n=r.Wb();r.zb(3),r.kc("QR'S Seleccionados (",n.qrsToPrint.length,")")}}var w=function(){var i=function(){function i(e,o,n,t,r,c,a){_classCallCheck(this,i),this.navParams=e,this.api_sucursales=o,this.modalController=n,this.imageCompress=t,this.loadingController=r,this.api_servicios=c,this.alertController=a,this.id_sucursal=this.navParams.get("id_sucursal"),this.imagen=[],this.disabled=!1,this.fileNames=[],this.filesToUpload=[],this.qrsToPrint=[],this.showDeleteQrSucursal={show:!1,count:0},this.showDeleteQr=[]}return _createClass(i,[{key:"ngOnInit",value:function(){this.actualizar_informacion(!1)}},{key:"altaWorkstation",value:function(i){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:t.a,cssClass:"modal-chiquito",componentProps:{id_sucursal:this.id_sucursal,id_equipo_grupo:i}});case 2:return(o=e.sent).onDidDismiss().then((function(i){n.actualizar_informacion(!1)})),e.next=6,o.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"altaGrupoWorkstation",value:function(i){var e=this;this.api_servicios.alta_Grupo_workstation({nombre_equipo_grupo:i,id_sucursal:this.id_sucursal}).subscribe((function(i){e.actualizar_informacion(!1)}))}},{key:"alertAltaGrupoWorkstation",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e,o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({header:"Crear Grupo de Workstation",inputs:[{name:"nombre",type:"text",placeholder:"nombre"}],buttons:[{text:"Cancelar",handler:function(){}},{text:"Crear",handler:function(i){o.altaGrupoWorkstation(i.nombre)}}]});case 2:return e=i.sent,i.next=5,e.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"borrar_equipo",value:function(i){var e=this;this.api_sucursales.borrar_equipo(i).subscribe((function(i){e.actualizar_informacion(!1)}))}},{key:"borrar_equipo_grupo",value:function(i,e){var o=this;this.api_sucursales.eliminar_Grupo_workstation(i).subscribe((function(i){o.grupoWorkStation.splice(e,1)}))}},{key:"actualizar_informacion",value:function(i){var e=this;this.api_sucursales.informacion_sucursal(this.id_sucursal).subscribe((function(o){e.sucursal=o,e.sucursal=e.sucursal.result;for(var n=0;n<e.sucursal.planos.length;n++)Object.defineProperty(e.sucursal.planos[n],"name",{value:e.sucursal.planos[n].url_imagen_plano.slice(27)});console.log("sucursal: ",e.sucursal),i&&e.loadingController.dismiss()})),this.api_sucursales.listado_grupoWorkstations(this.id_sucursal).subscribe((function(i){console.log("Grupo1",i.result);var o=0,n=[],t=0,r=!0;if(null!=i.result){i.result.forEach((function(i){i.id_equipo_grupo==o?(e.showDeleteQr[t].push({show:!1,count:0}),n[t].equipos.push({id_equipo:i.id_equipo,id_servicio:i.id_servicio,id_sucursal:i.id_sucursal,nombre_equipo:i.nombre_equipo,codigo_qr_equipo:i.codigo_qr_equipo,estado_servicio:i.estado_servicio,nombre_servicio:i.nombre_servicio})):(r||t++,o=i.id_equipo_grupo,n.push({nombre_equipo_grupo:i.nombre_equipo_grupo,id_equipo_grupo:i.id_equipo_grupo,equipos:[]}),e.showDeleteQr.push([]),n[t].equipos.push({id_equipo:i.id_equipo,id_servicio:i.id_servicio,id_sucursal:i.id_sucursal,nombre_equipo:i.nombre_equipo,codigo_qr_equipo:i.codigo_qr_equipo,estado_servicio:i.estado_servicio,nombre_servicio:i.nombre_servicio}),e.showDeleteQr[t].push({show:!1,count:0}),r=!1)})),console.log(e.showDeleteQr),e.grupoWorkStation=n;var c,a=_createForOfIteratorHelper(e.grupoWorkStation);try{for(a.s();!(c=a.n()).done;){c.value.equipos.sort((function(i,e){return i.nombre_equipo>e.nombre_equipo?1:i.nombre_equipo<e.nombre_equipo?-1:0}))}}catch(s){a.e(s)}finally{a.f()}}}))}},{key:"openPdf",value:function(i){window.open(i)}},{key:"agregar_plano",value:function(){document.getElementById("inputUploadFile").click()}},{key:"showFile",value:function(i){if(i.length>0){for(var e in i){var o=i[e].name,n=this.filesToUpload.filter((function(i){return i.name==o}));0==n.length?this.filesToUpload.push(i[e]):alert("Ya existe: "+o)}this.filesToUpload.splice(-2,2),this.uploadFile(this.filesToUpload),this.filesToUpload=[],o=null,n=null}}},{key:"uploadFile",value:function(i){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Subiendo Archivos"});case 2:for(e.sent.present(),this.disabled=!0,o=0;o<i.length;o++)(n=new FormData).append("file",i[o],i[o].name),n.append("id_sucursal",this.sucursal.sucursal[0].id_sucursal),this.api_sucursales.upload("/planos/crear",n).then((function(i){console.log(i),t.sucursal.planos=[],t.actualizar_informacion(!0)})).catch((function(i){t.loadingController.dismiss(),console.log("Error al subir el plano ",i),alert("El plano no se subio")}));this.disabled=!1;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"eliminar_plano",value:function(i){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i),e.next=3,this.loadingController.create({message:"Eliminado plano, Por favor espere."});case 3:return this.loading=e.sent,e.next=6,this.loading.present();case 6:this.api_sucursales.eliminar_plano(i).subscribe((function(i){o.api_sucursales.informacion_sucursal(o.id_sucursal).subscribe((function(i){o.sucursal=i,o.sucursal=o.sucursal.result;for(var e=0;e<o.sucursal.planos.length;e++)Object.defineProperty(o.sucursal.planos[e],"name",{value:o.sucursal.planos[e].url_imagen_plano.slice(27)});console.log("sucursal: ",o.sucursal),o.loadingController.dismiss()}))}),(function(i){o.loading.dismiss(),console.log("Error al borrar el plano ",i),o.loadingController.dismiss(),alert("Ocurrio un error")}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"alert_eliminar_plano",value:function(i){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Seguro que desea eliminar el plano?",buttons:[{text:"No",handler:function(){}},{text:"Si",handler:function(){n.eliminar_plano(i)}}]});case 2:return o=e.sent,e.next=5,o.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"Imprimir",value:function(){this.api_servicios.getZpl({base:this.sucursal.sucursal[0].codigo_qr}).toPromise().then((function(i){console.log(i.codigo);var e=window.open("","PRINT","height=400,width=600");e.document.write("<html><head><title>"+document.title+"</title>"),e.document.write("</head><body >"),e.document.write("<h3>"+i.codigo+"</h3>"),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print()}))}},{key:"imprimirQrAllWorkstations",value:function(){var i=[];this.grupoWorkStation.forEach((function(e){e.equipos.forEach((function(e){i.push(e.codigo_qr_equipo)}))})),console.log(i),this.imprimir(i)}},{key:"imprimirQrThisWorkstation",value:function(i){var e=[];i.equipos.forEach((function(i){e.push(i.codigo_qr_equipo)})),console.log(e),this.imprimir(e)}},{key:"addmprimirQr",value:function(i,e,o){this.qrsToPrint.push(i.codigo_qr_equipo),this.showDeleteQr[o][e].show=!0,this.showDeleteQr[o][e].count++}},{key:"deleteImprimirQr",value:function(i,e,o){var n=this.qrsToPrint.indexOf(i.codigo_qr_equipo);-1!=n&&(this.qrsToPrint.splice(n,1),this.showDeleteQr[o][e].count--),-1==(n=this.qrsToPrint.indexOf(i.codigo_qr_equipo))&&(this.showDeleteQr[o][e].show=!1)}},{key:"addImprimirQrSucursal",value:function(){this.qrsToPrint.push(this.sucursal.sucursal[0].codigo_qr),this.showDeleteQrSucursal.show=!0,this.showDeleteQrSucursal.count++}},{key:"deleteImprimirQrSucursal",value:function(){var i=this.qrsToPrint.indexOf(this.sucursal.sucursal[0].codigo_qr);-1!=i&&(this.qrsToPrint.splice(i,1),this.showDeleteQrSucursal.count--),-1==(i=this.qrsToPrint.indexOf(this.sucursal.sucursal[0].codigo_qr))&&(this.showDeleteQrSucursal.show=!1)}},{key:"imprimirAllQrSucursal",value:function(){var i=[];i.push(this.sucursal.sucursal[0].codigo_qr),this.grupoWorkStation.forEach((function(e){e.equipos.forEach((function(e){i.push(e.codigo_qr_equipo)}))})),this.imprimir(i)}},{key:"printSelect",value:function(){this.imprimir(this.qrsToPrint)}},{key:"deletePrintSelect",value:function(){this.showDeleteQrSucursal.count=0,this.showDeleteQrSucursal.show=!1,this.showDeleteQr.forEach((function(i){i.forEach((function(i){i.show=!1,i.count=0}))})),this.qrsToPrint=[]}},{key:"imprimir",value:function(i){var e=window.open("","PRINT","width=21,5cm");e.document.write("<html><head><title>"+document.title+"</title>"),e.document.write("</head><body>");for(var o=0;o<i.length;o++)e.document.write('<img style="margin: 0.2cm ;padding-left: 0.52cm;padding-top: 0;padding-bottom: 0.52cm; padding-right: 0.52cm; height: 5cm; width: 5cm; border-style: solid; border-width: 1px; border-color: rgb(97, 97, 97);" src="'+i[o]+'">');e.document.write("</body></html>"),e.document.close(),e.focus(),e.print()}}]),i}();return i.\u0275fac=function(e){return new(e||i)(r.Jb(c.D),r.Jb(a.a),r.Jb(c.B),r.Jb(s.a),r.Jb(c.A),r.Jb(l.a),r.Jb(c.a))},i.\u0275cmp=r.Db({type:i,selectors:[["app-ver-sucursal"]],decls:4,vars:3,consts:[[4,"ngIf"],["style","margin-top: 10px;",4,"ngIf"],[2,"text-align","center","background-color","white","padding","1%"],["size","10"],[2,"margin-top","15px"],["size","2",2,"font-size","24px !important"],["color","primary","title","Imprimir Toda la informacion de la sucursal","name","print-outline",3,"click"],["lines","full"],["size","3"],["size","2"],["size","3",2,"margin-top","10px"],["size","2",2,"margin-top","10px"],[2,"width","50px","margin-top","0px"],["download","",3,"href"],[3,"src"],["size","1",2,"font-size","24px !important"],["color","primary","title","Seleccionar ESTE QR para Imprimir","name","print-outline",2,"margin-top","15px",3,"click"],["style","margin-top:15px; color: red !important;","name","print-outline",3,"title","click",4,"ngIf"],[2,"margin-top","5px"],[2,"background-color","white"],["size","5"],["lines","none",2,"text-align","center"],[2,"font-size","100% !important"],["size","7"],["lines","none",2,"text-align","right"],["color","primary","title","Imprimir los QR'S de TODAS las Workstations/equipos","name","print-outline",3,"click"],[3,"click"],["name","print-outline",2,"margin-top","15px","color","red !important",3,"title","click"],[2,"width","100%","text-align","center"],["lines","full",4,"ngFor","ngForOf"],["size","5.5",1,"grupoequipo"],["size","0.5"],["name","trash-outline","color","danger",2,"margin-top","15px",3,"click"],["size","6"],["lines","none",2,"text-align","left"],["color","primary","title","Imprimir los QR'S de ESTA Workstation/equipo","name","print-outline",3,"click"],["size","2.5"],["size","1"],["size","1.5"],[4,"ngFor","ngForOf"],["class","equipos",4,"ngIf"],[1,"equipos"],["size","5",2,"margin-top","15px"],["size","2.5",2,"margin-top","15px"],[2,"margin-top","10px"],["id","inputUploadFile","accept",".pdf","title"," ","type","file","name","",2,"visibility","hidden",3,"disabled","change"],["slot","end","name","add-circle-outline","color","primary",3,"click"],["button","",4,"ngIf"],["button",""],["name","eye","slot","start",3,"click"],["slot","end","name","trash-outline",2,"color","red",3,"click"],["color","primary"],["slot","end"],[1,"printButton",3,"click"],[1,"printButtonCancel",3,"click"]],template:function(i,e){1&i&&(r.Mb(0,"ion-content"),r.hc(1,M,65,8,"div",0),r.hc(2,q,9,3,"div",1),r.Lb(),r.hc(3,z,9,1,"ion-footer",0)),2&i&&(r.zb(1),r.bc("ngIf",e.sucursal),r.zb(1),r.bc("ngIf",e.sucursal),r.zb(1),r.bc("ngIf",e.qrsToPrint.length>0))},directives:[c.g,u.j,c.q,c.f,c.l,c.n,c.j,c.o,c.e,c.c,u.i,c.i,c.y,c.x,c.d],styles:[".planos[_ngcontent-%COMP%]{width:98%;height:98%;padding:5%}.equipos[_ngcontent-%COMP%]{height:65px;margin-left:3%}.grupoequipo[_ngcontent-%COMP%]{align-items:center;align-self:center;align-content:center;vertical-align:center}ion-label[_ngcontent-%COMP%]{font-size:80%!important}.cardPlanos[_ngcontent-%COMP%]{width:100%!important;height:100%!important}ion-slides[_ngcontent-%COMP%]{--bullet-background:#000;height:100%}.deletePlano[_ngcontent-%COMP%]{--background:rgba(56,129,255,0);--background-activated:rgba(56,129,255,0);--background-activated-opacity:1;--background-focused:rgba(56,129,255,0);--background-focused-opacity:1;--background-hover:rgba(56,129,255,0);--background-hover-opacity:1;--border-color:rgba(56,129,255,0);--border-radius:8px;--border-style:solid;--border-width:8px;--box-shadow:10px 10px;--color:rgba(56,129,255,0);--color-activated:rgba(56,129,255,0);--color-focused:rgba(56,129,255,0);--color-hover:rgba(56,129,255,0);--opacity:1;--padding-bottom:4px;--padding-end:4px;--padding-start:4px;--padding-top:4px;--ripple-color:rgba(56,129,255,0);--transition:background-color 15ms linear}.printButton[_ngcontent-%COMP%]{--background-activated:rgba(56,129,255,0.48)!important;--background-activated-opacity:1;--background-focused:rgba(56,129,255,0.48)!important;--background-focused-opacity:1;--background-hover:rgba(56,129,255,0.48)!important;--background-hover-opacity:1;--border-color:#3880ff}.printButton[_ngcontent-%COMP%], .printButtonCancel[_ngcontent-%COMP%]{--border-radius:8px;--border-style:solid;--border-width:1px;--opacity:1;--ripple-color:#1e1e1e;--transition:background-color 15ms linear}.printButtonCancel[_ngcontent-%COMP%]{--background:rgba(255,8,0,0.76)!important;--background-activated:#ff0800!important;--background-activated-opacity:1;--background-focused:#ff0800!important;--background-focused-opacity:1;--background-hover:#ff0800!important;--background-hover-opacity:1;--border-color:#ff0800}"]}),i}()},lENo:function(i,e,o){"use strict";o.d(e,"a",(function(){return _}));var n=o("mrSG"),t=o("OAWW"),r=o("fXoL"),c=o("TEn/"),a=o("jCJ1"),s=o("ofXK");function l(i,e){1&i&&(r.Mb(0,"div",7),r.Kb(1,"ion-spinner"),r.Lb())}function u(i,e){if(1&i&&(r.Mb(0,"div"),r.Mb(1,"ion-item",8),r.Mb(2,"ion-label"),r.Mb(3,"b"),r.ic(4,"Fecha de concluida la visita:"),r.Lb(),r.ic(5),r.Lb(),r.Lb(),r.Lb()),2&i){var o=r.Wb(2);r.zb(5),r.kc(" ",o.visita.visitas.horario_salida,"")}}function b(i,e){if(1&i&&(r.Mb(0,"div"),r.Mb(1,"ion-item"),r.Mb(2,"ion-label"),r.Mb(3,"b"),r.ic(4,"Fecha estimada de la visita:"),r.Lb(),r.ic(5),r.Xb(6,"date"),r.Lb(),r.Lb(),r.Lb()),2&i){var o=r.Wb(2);r.zb(5),r.kc(" ",r.Yb(6,1,o.visita.visitas.fecha_visita,"dd/MM/yyyy hh:mm"),"")}}function d(i,e){if(1&i&&(r.Mb(0,"div",10),r.Kb(1,"ion-icon",11),r.ic(2),r.Lb()),2&i){var o=e.$implicit;r.zb(2),r.kc(" ",o," ")}}function p(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-button",12),r.Ub("click",(function(){return r.ec(o),r.Wb(3).generar_pdf()})),r.ic(2,"Generar PDF"),r.Lb(),r.Lb()}}function f(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-button",13),r.Ub("click",(function(){return r.ec(o),r.Wb(3).ver_pdf()})),r.ic(2,"Ver PDF"),r.Lb(),r.Lb()}}function h(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-button",12),r.Ub("click",(function(){return r.ec(o),r.Wb(3).generar_pdf()})),r.ic(2,"Volver a generar PDF"),r.Lb(),r.Lb()}}function v(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,p,3,0,"div",5),r.hc(2,f,3,0,"div",5),r.hc(3,h,3,0,"div",5),r.Lb()),2&i){var o=r.Wb(2);r.zb(1),r.bc("ngIf",!o.pdf_generado&&0==o.visita.visitas.pdfGenerado),r.zb(1),r.bc("ngIf",o.pdf_generado||1==o.visita.visitas.pdfGenerado),r.zb(1),r.bc("ngIf",o.pdf_generado||1==o.visita.visitas.pdfGenerado)}}function m(i,e){if(1&i){var o=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-button",12),r.Ub("click",(function(){return r.ec(o),r.Wb(2).modificar_visita()})),r.ic(2,"Modificar visita"),r.Lb(),r.Lb()}}function g(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,u,6,1,"div",5),r.hc(2,b,7,4,"div",5),r.Mb(3,"ion-item",8),r.Mb(4,"ion-label"),r.Mb(5,"b"),r.ic(6,"Cliente:"),r.Lb(),r.ic(7),r.Lb(),r.Lb(),r.Mb(8,"ion-item",8),r.Mb(9,"ion-label"),r.Mb(10,"b"),r.ic(11,"Sucursal:"),r.Lb(),r.ic(12),r.Lb(),r.Lb(),r.Mb(13,"ion-item",8),r.Mb(14,"ion-label"),r.Mb(15,"b"),r.ic(16,"Servicios ofrecidos:"),r.Lb(),r.hc(17,d,3,1,"div",9),r.Lb(),r.Lb(),r.hc(18,v,4,3,"div",5),r.hc(19,m,3,0,"div",5),r.Lb()),2&i){var o=r.Wb();r.zb(1),r.bc("ngIf","NULL"!=o.visita.visitas.horario_salida),r.zb(1),r.bc("ngIf","NULL"==o.visita.visitas.horario_salida),r.zb(5),r.kc(" ",o.visita.visitas.razon_social_cliente,""),r.zb(5),r.kc(" ",o.visita.visitas.razon_social_sucursal,""),r.zb(5),r.bc("ngForOf",o.visita.servicios2),r.zb(1),r.bc("ngIf","NULL"!=o.visita.visitas.horario_salida),r.zb(1),r.bc("ngIf","NULL"==o.visita.visitas.horario_salida)}}var _=function(){var i=function(){function i(e,o,n,t){_classCallCheck(this,i),this.navParams=e,this.api_visitas=o,this.modalController=n,this.loadingController=t,this.id_visita=this.navParams.get("id_visita"),this.pdf_generado=!1}return _createClass(i,[{key:"ngOnInit",value:function(){this.actualizar_informacion()}},{key:"generar_pdf",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e,o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.loadingController.create({message:"Generando PDF"});case 2:(e=i.sent).present(),console.log(this.id_visita),this.api_visitas.crear_pdf({id_visita:this.id_visita}).subscribe((function(i){console.log(i),o.pdf_generado=!0,e.dismiss()}),(function(i){console.log(i),e.dismiss()}));case 4:case"end":return i.stop()}}),i,this)})))}},{key:"ver_pdf",value:function(){var i=this;this.api_visitas.ver_pdf(this.id_visita).subscribe((function(e){i.url=e,console.log(i.url.url),window.open(i.url.url,"_blank").focus()}),(function(i){console.log(i)}))}},{key:"close",value:function(){this.modalController.dismiss()}},{key:"actualizar_informacion",value:function(){var i=this;this.api_visitas.informacion_visita(this.id_visita).then((function(e){i.visita=e,i.visita=i.visita.result,i.visita.servicios2=[];var o,n=_createForOfIteratorHelper(i.visita.servicios);try{for(n.s();!(o=n.n()).done;){var t=o.value;i.visita.servicios2.includes(t.nombre_servicio)||i.visita.servicios2.push(t.nombre_servicio)}}catch(r){n.e(r)}finally{n.f()}}))}},{key:"modificar_visita",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e,o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:t.a,cssClass:"my-custom-class",componentProps:{id_visita:this.id_visita}});case 2:return(e=i.sent).onDidDismiss().then((function(i){o.actualizar_informacion()})),i.next=6,e.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}}]),i}();return i.\u0275fac=function(e){return new(e||i)(r.Jb(c.D),r.Jb(a.a),r.Jb(c.B),r.Jb(c.A))},i.\u0275cmp=r.Db({type:i,selectors:[["app-ver-visita"]],decls:12,vars:2,consts:[["color","primary",2,"text-align","center"],["slot","end"],[3,"click"],["name","close-outline"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[2,"text-align","center"],["lines","full"],["style","margin-left:10px; margin-top: 10px",4,"ngFor","ngForOf"],[2,"margin-left","10px","margin-top","10px"],["name","document-outline","color","primary"],["expand","full",3,"click"],["expand","full","color","success",3,"click"]],template:function(i,e){1&i&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar",0),r.Mb(2,"ion-title"),r.ic(3,"visita"),r.Lb(),r.Mb(4,"ion-buttons",1),r.Mb(5,"ion-button",2),r.Ub("click",(function(){return e.close()})),r.Kb(6,"ion-icon",3),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(7,"ion-content"),r.hc(8,l,2,0,"div",4),r.hc(9,g,20,7,"div",5),r.Mb(10,"div"),r.Kb(11,"img",6),r.Lb(),r.Lb()),2&i&&(r.zb(8),r.bc("ngIf",!e.visita),r.zb(1),r.bc("ngIf",e.visita))},directives:[c.k,c.y,c.x,c.d,c.c,c.l,c.g,s.j,c.t,c.n,c.o,s.i],pipes:[s.d],styles:[""]}),i}()},mca5:function(i,e,o){"use strict";o.r(e),o.d(e,"VerClientePageModule",(function(){return q}));var n=o("ofXK"),t=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),a=o("mrSG"),s=o("wfI0"),l=o("cZ9Q"),u=o("lENo"),b=o("1mX4"),d=o("fXoL"),p=o("jCJ1");function f(i,e){if(1&i&&(d.Mb(0,"ion-item",8),d.Mb(1,"ion-col",3),d.Mb(2,"ion-label"),d.ic(3),d.Lb(),d.Lb(),d.Mb(4,"ion-col",3),d.Mb(5,"ion-label"),d.ic(6),d.Lb(),d.Lb(),d.Mb(7,"ion-col",3),d.Mb(8,"ion-label"),d.ic(9),d.Lb(),d.Lb(),d.Mb(10,"ion-col",3),d.Mb(11,"ion-label"),d.ic(12),d.Lb(),d.Lb(),d.Lb()),2&i){var o=d.Wb(2);d.zb(3),d.kc(" ",o.cliente.clienteDatos[0].razon_social_cliente," "),d.zb(3),d.kc(" ",o.cliente.clienteDatos[0].telefono," "),d.zb(3),d.kc(" ",o.cliente.clienteDatos[0].email," "),d.zb(3),d.kc(" ",o.cliente.clienteDatos[0].direccion," ")}}function h(i,e){if(1&i){var o=d.Nb();d.Mb(0,"div"),d.Mb(1,"ion-item",8),d.Mb(2,"ion-col",3),d.ic(3),d.Lb(),d.Mb(4,"ion-col",3),d.ic(5),d.Lb(),d.Mb(6,"ion-col",3),d.ic(7),d.Lb(),d.Mb(8,"ion-col",9),d.ic(9),d.Lb(),d.Mb(10,"ion-col",12),d.Mb(11,"ion-icon",13),d.Ub("click",(function(){d.ec(o);var i=e.$implicit;return d.Wb(2).modificar_sucursal(i.id_sucursal)})),d.Lb(),d.Mb(12,"ion-icon",14),d.Ub("click",(function(){d.ec(o);var i=e.$implicit;return d.Wb(2).baja_sucursal(i.id_sucursal)})),d.Lb(),d.Mb(13,"ion-icon",15),d.Ub("click",(function(){d.ec(o);var i=e.$implicit;return d.Wb(2).verSucursal(i.id_sucursal)})),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){var n=e.$implicit;d.zb(3),d.jc(n.razon_social_sucursal),d.zb(2),d.jc(n.telefono_sucursal),d.zb(2),d.jc(n.email_sucursal),d.zb(2),d.kc(" ",n.direccion_sucursal," ")}}function v(i,e){if(1&i){var o=d.Nb();d.Mb(0,"div"),d.Mb(1,"ion-item",8),d.Mb(2,"ion-col",11),d.ic(3),d.Xb(4,"date"),d.Lb(),d.Mb(5,"ion-col",11),d.ic(6),d.Lb(),d.Mb(7,"ion-col",3),d.ic(8),d.Lb(),d.Mb(9,"ion-col",12),d.Mb(10,"ion-icon",15),d.Ub("click",(function(){d.ec(o);var i=e.$implicit;return d.Wb(2).verVisita(i.id_visita)})),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){var n=e.$implicit;d.zb(3),d.jc(d.Yb(4,3,n.fecha_visita,"dd/MM/yyyy hh:mm")),d.zb(3),d.jc(n.razon_social_sucursal),d.zb(2),d.jc(n.estado_visitas)}}function m(i,e){if(1&i){var o=d.Nb();d.Mb(0,"ion-content"),d.Mb(1,"div",1),d.Mb(2,"ion-item",2),d.Mb(3,"ion-grid"),d.Mb(4,"ion-row"),d.Mb(5,"ion-col",3),d.Mb(6,"ion-label"),d.Mb(7,"b"),d.ic(8,"Razon social"),d.Lb(),d.Lb(),d.Lb(),d.Mb(9,"ion-col",3),d.Mb(10,"ion-label"),d.Mb(11,"b"),d.ic(12,"Telefono"),d.Lb(),d.Lb(),d.Lb(),d.Mb(13,"ion-col",3),d.Mb(14,"ion-label"),d.Mb(15,"b"),d.ic(16,"Email"),d.Lb(),d.Lb(),d.Lb(),d.Mb(17,"ion-col",3),d.Mb(18,"ion-label"),d.Mb(19,"b"),d.ic(20,"Direccion"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.hc(21,f,13,4,"ion-item",4),d.Lb(),d.Mb(22,"ion-grid"),d.Mb(23,"ion-row"),d.Mb(24,"ion-col"),d.Mb(25,"ion-item",5),d.Mb(26,"ion-label",6),d.Mb(27,"b"),d.ic(28,"Sucursales"),d.Lb(),d.Lb(),d.Mb(29,"ion-button",7),d.Ub("click",(function(){return d.ec(o),d.Wb().altaSucursal()})),d.ic(30,"Agregar sucursal"),d.Lb(),d.Lb(),d.Mb(31,"ion-item",8),d.Mb(32,"ion-col",3),d.ic(33,"Razon social sucursal"),d.Lb(),d.Mb(34,"ion-col",3),d.ic(35,"Telefono sucursal"),d.Lb(),d.Mb(36,"ion-col",3),d.ic(37,"Email sucursal"),d.Lb(),d.Mb(38,"ion-col",9),d.ic(39,"Direccion sucursal"),d.Lb(),d.Lb(),d.hc(40,h,14,4,"div",10),d.Lb(),d.Mb(41,"ion-col"),d.Mb(42,"ion-item",5),d.Mb(43,"ion-label",6),d.Mb(44,"b"),d.ic(45,"Visitas"),d.Lb(),d.Lb(),d.Lb(),d.Mb(46,"ion-item",8),d.Mb(47,"ion-col",11),d.ic(48,"Fecha de la visita"),d.Lb(),d.Mb(49,"ion-col",11),d.ic(50,"Sucursal"),d.Lb(),d.Mb(51,"ion-col",11),d.ic(52,"Estado"),d.Lb(),d.Lb(),d.hc(53,v,11,6,"div",10),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){var n=d.Wb();d.zb(21),d.bc("ngIf",n.cliente),d.zb(19),d.bc("ngForOf",n.cliente.sucursales.datosSucursal),d.zb(13),d.bc("ngForOf",n.cliente.sucursales.visitas)}}var g,_,M,L=[{path:"",component:(g=function(){function i(e,o,n,t){_classCallCheck(this,i),this.activatedRoute=e,this.api_clientes=o,this.modalController=n,this.alertController=t}return _createClass(i,[{key:"ngOnInit",value:function(){this.actualizar_informacion()}},{key:"altaSucursal",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.activatedRoute.snapshot.paramMap.get("id_cliente"),i.next=3,this.modalController.create({component:s.a,cssClass:"my-custom-class",componentProps:{id_cliente:e}});case 3:return o=i.sent,i.next=6,o.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"verSucursal",value:function(i){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.activatedRoute.snapshot.paramMap.get("id_cliente"),e.next=3,this.modalController.create({component:l.a,cssClass:"modal_grande",componentProps:{id_sucursal:i}});case 3:return o=e.sent,e.next=6,o.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"verVisita",value:function(i){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:u.a,cssClass:"my-custom-class",componentProps:{id_visita:i}});case 2:return o=e.sent,e.next=5,o.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"baja_sucursal",value:function(i){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Seguro que desea eliminar la sucursal?",buttons:[{text:"No",handler:function(){}},{text:"Si",handler:function(){n.eliminar_sucursal(i)}}]});case 2:return o=e.sent,e.next=5,o.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"eliminar_sucursal",value:function(i){this.api_clientes.eliminar_sucursal(i).subscribe((function(i){location.reload()}),(function(i){console.log(i)}))}},{key:"actualizar_informacion",value:function(){var i=this,e=this.activatedRoute.snapshot.paramMap.get("id_cliente");this.api_clientes.informacion_cliente(e).subscribe((function(e){i.cliente=e,i.cliente=i.cliente.result}))}},{key:"modificar_sucursal",value:function(i){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:b.a,cssClass:"my-custom-class",componentProps:{id_sucursal:i}});case 2:return(o=e.sent).onDidDismiss().then((function(i){n.actualizar_informacion()})),e.next=6,o.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}}]),i}(),g.\u0275fac=function(i){return new(i||g)(d.Jb(c.a),d.Jb(p.a),d.Jb(r.B),d.Jb(r.a))},g.\u0275cmp=d.Db({type:g,selectors:[["app-ver-cliente"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"informacion_cliente"],["lines","full",1,"titulos"],["size","3"],["lines","full",4,"ngIf"],["lines","none"],[2,"text-align","center"],[3,"click"],["lines","full"],["size","2"],[4,"ngFor","ngForOf"],["size","4"],["size","1"],["name","create-outline",2,"margin-right","5px",3,"click"],["name","trash-outline","color","danger",2,"margin-right","5px",3,"click"],["color","primary","name","enter-outline",3,"click"]],template:function(i,e){1&i&&d.hc(0,m,54,3,"ion-content",0),2&i&&d.bc("ngIf",e.cliente)},directives:[n.j,r.g,r.n,r.j,r.q,r.f,r.o,r.c,n.i,r.l],pipes:[n.d],styles:[".informacion_cliente[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:10px}"]}),g)},{path:"alta-sucursal",loadChildren:function(){return o.e(18).then(o.bind(null,"pY+/")).then((function(i){return i.AltaSucursalPageModule}))}},{path:"ver-sucursal",loadChildren:function(){return o.e(22).then(o.bind(null,"l4Rn")).then((function(i){return i.VerSucursalPageModule}))}},{path:"ver-visita",loadChildren:function(){return o.e(23).then(o.bind(null,"R0jV")).then((function(i){return i.VerVisitaPageModule}))}},{path:"modificar-sucursal",loadChildren:function(){return o.e(19).then(o.bind(null,"+l8E")).then((function(i){return i.ModificarSucursalPageModule}))}},{path:"modificar-visita",loadChildren:function(){return o.e(20).then(o.bind(null,"6Ypc")).then((function(i){return i.ModificarVisitaPageModule}))}}],k=((_=function i(){_classCallCheck(this,i)}).\u0275mod=d.Hb({type:_}),_.\u0275inj=d.Gb({factory:function(i){return new(i||_)},imports:[[c.h.forChild(L)],c.h]}),_),y=o("X9o6"),q=((M=function i(){_classCallCheck(this,i)}).\u0275mod=d.Hb({type:M}),M.\u0275inj=d.Gb({factory:function(i){return new(i||M)},providers:[y.a],imports:[[n.b,t.a,r.z,k]]}),M)},wfI0:function(i,e,o){"use strict";o.d(e,"a",(function(){return a}));var n=o("fXoL"),t=o("TEn/"),r=o("jCJ1"),c=o("3Pt+"),a=function(){var i=function(){function i(e,o,n){_classCallCheck(this,i),this.navParams=e,this.api=o,this.modalCtrl=n,this.id_cliente=this.navParams.get("id_cliente")}return _createClass(i,[{key:"ngOnInit",value:function(){}},{key:"cargar_sucursal",value:function(){this.direccion&&this.razon_social?this.api.alta_sucursal({id_cliente:this.id_cliente,razon_social_sucursal:this.razon_social,direccion_sucursal:this.direccion,telefono_sucursal:this.telefono,email_sucursal:this.email}).subscribe((function(i){console.log(i),location.reload()})):alert("Los campos direccion y razon social son obligatorios")}},{key:"cancelar",value:function(){this.modalCtrl.dismiss({dismissed:!0})}}]),i}();return i.\u0275fac=function(e){return new(e||i)(n.Jb(t.D),n.Jb(r.a),n.Jb(t.B))},i.\u0275cmp=n.Db({type:i,selectors:[["app-alta-sucursal"]],decls:24,vars:4,consts:[["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],[2,"width","100%","text-align","center","margin-top","15px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"]],template:function(i,e){1&i&&(n.Mb(0,"ion-content"),n.Mb(1,"ion-item",0),n.Mb(2,"ion-label",1),n.ic(3," *Razon social: "),n.Lb(),n.Mb(4,"ion-input",2),n.Ub("ngModelChange",(function(i){return e.razon_social=i})),n.Lb(),n.Lb(),n.Mb(5,"ion-item",0),n.Mb(6,"ion-label",1),n.ic(7," Telefono: "),n.Lb(),n.Mb(8,"ion-input",2),n.Ub("ngModelChange",(function(i){return e.telefono=i})),n.Lb(),n.Lb(),n.Mb(9,"ion-item",0),n.Mb(10,"ion-label",1),n.ic(11," Email: "),n.Lb(),n.Mb(12,"ion-input",2),n.Ub("ngModelChange",(function(i){return e.email=i})),n.Lb(),n.Lb(),n.Mb(13,"ion-item",0),n.Mb(14,"ion-label",1),n.ic(15," *Direccion: "),n.Lb(),n.Mb(16,"ion-input",2),n.Ub("ngModelChange",(function(i){return e.direccion=i})),n.Lb(),n.Lb(),n.Mb(17,"div",3),n.Mb(18,"ion-button",4),n.Ub("click",(function(){return e.cancelar()})),n.ic(19,"Cancelar"),n.Lb(),n.Mb(20,"ion-button",4),n.Ub("click",(function(){return e.cargar_sucursal()})),n.ic(21,"Cargar"),n.Lb(),n.Lb(),n.Mb(22,"div",5),n.Kb(23,"img",6),n.Lb(),n.Lb()),2&i&&(n.zb(4),n.bc("ngModel",e.razon_social),n.zb(4),n.bc("ngModel",e.telefono),n.zb(4),n.bc("ngModel",e.email),n.zb(4),n.bc("ngModel",e.direccion))},directives:[t.g,t.n,t.o,t.m,t.I,c.d,c.e,t.c],styles:[""]}),i}()}}]);