function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,i,n){return i&&_defineProperties(e.prototype,i),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"2HF3":function(e,i,n){"use strict";n.r(i),n.d(i,"ProgramarVisitaPageModule",(function(){return v}));var o=n("ofXK"),c=n("3Pt+"),t=n("TEn/"),s=n("tyNb"),a=n("wd/R"),l=n("fXoL"),r=n("89nv"),u=n("u//c");function b(e,i){if(1&e&&(l.Mb(0,"ion-select-option",11),l.ic(1),l.Lb()),2&e){var n=i.$implicit;l.cc("value",n.id_cliente),l.zb(1),l.jc(n.razon_social_cliente)}}function d(e,i){if(1&e&&(l.Mb(0,"ion-select-option",11),l.ic(1),l.Lb()),2&e){var n=i.$implicit;l.cc("value",n.id_sucursal),l.zb(1),l.jc(n.razon_social_sucursal)}}function g(e,i){if(1&e&&(l.Mb(0,"ion-select-option",11),l.ic(1),l.Lb()),2&e){var n=i.$implicit;l.cc("value",n.id_servicio),l.zb(1),l.jc(n.nombre_servicio)}}function _(e,i){if(1&e&&(l.Mb(0,"ion-select-option",11),l.ic(1),l.Lb()),2&e){var n=i.$implicit;l.cc("value",n.id_tecnico),l.zb(1),l.lc("",n.nombre_tecnico," ",n.apellido_tecnico,"")}}var f,m,h,p=[{path:"",component:(f=function(){function e(i,n){_classCallCheck(this,e),this.api=i,this.api_tecnicos=n,this.dayNames=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],this.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.api.listado_clientes().subscribe((function(i){e.listado_clientes=i,e.listado_clientes=e.listado_clientes.result,console.log(e.listado_clientes)})),this.api.mostrar_servicios().subscribe((function(i){e.listado_servicios=i,e.listado_servicios=e.listado_servicios.result,console.log(e.listado_servicios)})),this.api_tecnicos.listado_tecnicos().subscribe((function(i){e.listado_tecnicos=i,e.listado_tecnicos=e.listado_tecnicos.result,console.log(e.listado_tecnicos)}),(function(e){console.log(e)})),this.fecha_actual=a().format()}},{key:"sucursalesCliente",value:function(e){var i=this;this.api.informacion_cliente(e).subscribe((function(n){i.listado_sucursales_cliente=n,i.listado_sucursales_cliente=i.listado_sucursales_cliente.result.sucursales.datosSucursal,i.sucursal_elegida=null,i.id_cliente_elegido=e,console.log(i.listado_sucursales_cliente)}))}},{key:"programarVisita",value:function(){console.log(this.servicios_elegidos),this.api.crear_visita({id_cliente:this.id_cliente_elegido,id_tecnico:this.tecnico_elegido,id_sucursal:this.sucursal_elegida,servicios:this.servicios_elegidos,fecha_visita:this.fecha_elegida}).subscribe((function(e){console.log(e),location.reload()}))}}]),e}(),f.\u0275fac=function(e){return new(e||f)(l.Jb(r.a),l.Jb(u.a))},f.\u0275cmp=l.Db({type:f,selectors:[["app-programar-visita"]],decls:30,vars:14,consts:[[2,"margin-top","15px"],["fixed","",2,"text-align","center"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["multiple","true",3,"ngModel","ngModelChange"],["displayFormat","DDDD D MMMM YYYY HH:mm","max","2022",3,"ngModel","doneText","cancelText","monthNames","dayNames","min","value","ngModelChange"],[2,"width","100%","text-align","center"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[3,"value"]],template:function(e,i){1&e&&(l.Mb(0,"ion-content"),l.Mb(1,"ion-item",0),l.Mb(2,"ion-label",1),l.ic(3,"Seleccionar un cliente"),l.Lb(),l.Mb(4,"ion-select",2),l.Ub("ionChange",(function(e){return i.sucursalesCliente(e.target.value)})),l.hc(5,b,2,2,"ion-select-option",3),l.Lb(),l.Lb(),l.Mb(6,"ion-item"),l.Mb(7,"ion-label",1),l.ic(8,"Seleccionar una sucursal"),l.Lb(),l.Mb(9,"ion-select",4),l.Ub("ngModelChange",(function(e){return i.sucursal_elegida=e})),l.hc(10,d,2,2,"ion-select-option",3),l.Lb(),l.Lb(),l.Mb(11,"ion-item"),l.Mb(12,"ion-label",1),l.ic(13,"Seleccionar servicios a ofrecer"),l.Lb(),l.Mb(14,"ion-select",5),l.Ub("ngModelChange",(function(e){return i.servicios_elegidos=e})),l.hc(15,g,2,2,"ion-select-option",3),l.Lb(),l.Lb(),l.Mb(16,"ion-item"),l.Mb(17,"ion-label",1),l.ic(18,"Seleccionar t\xe9cnico a cargo"),l.Lb(),l.Mb(19,"ion-select",4),l.Ub("ngModelChange",(function(e){return i.tecnico_elegido=e})),l.hc(20,_,2,3,"ion-select-option",3),l.Lb(),l.Lb(),l.Mb(21,"ion-item"),l.Mb(22,"ion-label",1),l.ic(23,"Elegir una fecha"),l.Lb(),l.Mb(24,"ion-datetime",6),l.Ub("ngModelChange",(function(e){return i.fecha_elegida=e})),l.Lb(),l.Lb(),l.Mb(25,"div",7),l.Mb(26,"ion-button",8),l.Ub("click",(function(){return i.programarVisita()})),l.ic(27,"Agendar"),l.Lb(),l.Lb(),l.Mb(28,"div",9),l.Kb(29,"img",10),l.Lb(),l.Lb()),2&e&&(l.zb(5),l.bc("ngForOf",i.listado_clientes),l.zb(4),l.bc("ngModel",i.sucursal_elegida),l.zb(1),l.bc("ngForOf",i.listado_sucursales_cliente),l.zb(4),l.bc("ngModel",i.servicios_elegidos),l.zb(1),l.bc("ngForOf",i.listado_servicios),l.zb(4),l.bc("ngModel",i.tecnico_elegido),l.zb(1),l.bc("ngForOf",i.listado_tecnicos),l.zb(4),l.cc("min",i.fecha_actual),l.cc("value",i.fecha_actual),l.bc("ngModel",i.fecha_elegida)("doneText","Listo")("cancelText","Cancelar")("monthNames",i.monthNames)("dayNames",i.dayNames))},directives:[t.g,t.m,t.n,t.q,t.I,o.i,c.d,c.e,t.h,t.c,t.r],styles:["ion-item[_ngcontent-%COMP%]{width:30%;margin-left:35%;margin-bottom:10px}.imagen_empresa[_ngcontent-%COMP%]{width:50%;margin-left:25%}"]}),f)}],M=((h=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:h}),h.\u0275inj=l.Gb({factory:function(e){return new(e||h)},imports:[[s.h.forChild(p)],s.h]}),h),v=((m=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:m}),m.\u0275inj=l.Gb({factory:function(e){return new(e||m)},imports:[[o.b,c.a,t.A,M]]}),m)}}]);