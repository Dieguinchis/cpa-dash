(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ksL3:function(i,e,n){"use strict";n.r(e),n.d(e,"AdministrarClientesPageModule",(function(){return g}));var t=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),l=n("tyNb"),s=n("mrSG"),b=n("mhZR"),r=n("fXoL"),a=n("jCJ1");function d(i,e){if(1&i){const i=r.Nb();r.Mb(0,"div"),r.Mb(1,"ion-item",7),r.Mb(2,"ion-col",3),r.Mb(3,"ion-label"),r.ic(4),r.Lb(),r.Lb(),r.Mb(5,"ion-col",4),r.Mb(6,"ion-label"),r.ic(7),r.Lb(),r.Lb(),r.Mb(8,"ion-col",3),r.Mb(9,"ion-label"),r.ic(10),r.Lb(),r.Lb(),r.Mb(11,"ion-col",3),r.Mb(12,"ion-label"),r.ic(13),r.Lb(),r.Lb(),r.Mb(14,"ion-col",8),r.Mb(15,"ion-icon",9),r.Ub("click",(function(){r.ec(i);const n=e.$implicit;return r.Wb(2).modificar_cliente(n.id_cliente)})),r.Lb(),r.Mb(16,"ion-icon",10),r.Ub("click",(function(){r.ec(i);const n=e.$implicit;return r.Wb(2).baja_cliente(n.id_cliente)})),r.Lb(),r.Kb(17,"ion-icon",11),r.Lb(),r.Lb(),r.Lb()}if(2&i){const i=e.$implicit;r.zb(4),r.kc(" ",i.razon_social_cliente," "),r.zb(3),r.kc(" ",i.telefono," "),r.zb(3),r.kc(" ",i.email," "),r.zb(3),r.kc(" ",i.direccion," "),r.zb(4),r.bc("routerLink","/menu-principal/ver-cliente/"+i.id_cliente)}}function u(i,e){if(1&i&&(r.Mb(0,"div"),r.hc(1,d,18,5,"div",6),r.Lb()),2&i){const i=r.Wb();r.zb(1),r.bc("ngForOf",i.clientes)}}const h=[{path:"",component:(()=>{class i{constructor(i,e,n){this.api_clientes=i,this.alertController=e,this.modalController=n}ngOnInit(){this.actualizar_informacion()}baja_cliente(i){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Seguro que desea eliminar el cliente?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.eliminar_cliente(i)}}]});yield e.present()}))}eliminar_cliente(i){this.api_clientes.eliminar_cliente(i).subscribe(i=>{this.actualizar_informacion()})}actualizar_informacion(){this.api_clientes.listado_clientes().subscribe(i=>{this.clientes=i,this.clientes=this.clientes.result})}modificar_cliente(i){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:b.a,componentProps:{id_cliente:i}});return e.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield e.present()}))}}return i.\u0275fac=function(e){return new(e||i)(r.Jb(a.a),r.Jb(c.a),r.Jb(c.C))},i.\u0275cmp=r.Db({type:i,selectors:[["app-administrar-clientes"]],decls:25,vars:1,consts:[["lines","none"],[2,"text-align","center"],["lines","full",1,"titulos"],["size","3"],["size","2"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","full"],["size","1"],["name","create-outline",2,"margin-right","15px",3,"click"],["name","trash-outline","color","danger",2,"margin-right","15px",3,"click"],["color","primary","name","enter-outline",3,"routerLink"]],template:function(i,e){1&i&&(r.Mb(0,"ion-content"),r.Mb(1,"ion-item",0),r.Mb(2,"ion-label",1),r.Mb(3,"b"),r.ic(4,"Clientes"),r.Lb(),r.Lb(),r.Lb(),r.Mb(5,"ion-item",2),r.Mb(6,"ion-grid"),r.Mb(7,"ion-row"),r.Mb(8,"ion-col",3),r.Mb(9,"ion-label"),r.Mb(10,"b"),r.ic(11,"Razon social"),r.Lb(),r.Lb(),r.Lb(),r.Mb(12,"ion-col",4),r.Mb(13,"ion-label"),r.Mb(14,"b"),r.ic(15,"Telefono"),r.Lb(),r.Lb(),r.Lb(),r.Mb(16,"ion-col",3),r.Mb(17,"ion-label"),r.Mb(18,"b"),r.ic(19,"Email"),r.Lb(),r.Lb(),r.Lb(),r.Mb(20,"ion-col",3),r.Mb(21,"ion-label"),r.Mb(22,"b"),r.ic(23,"Direccion"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.hc(24,u,2,1,"div",5),r.Lb()),2&i&&(r.zb(24),r.bc("ngIf",e.clientes))},directives:[c.g,c.m,c.n,c.i,c.p,c.f,t.j,t.i,c.k,c.H,l.g],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),i})()},{path:"modificar-cliente",loadChildren:()=>n.e(17).then(n.bind(null,"jEl+")).then(i=>i.ModificarClientePageModule)}];let m=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(e){return new(e||i)},imports:[[l.h.forChild(h)],l.h]}),i})(),g=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(e){return new(e||i)},imports:[[t.b,o.a,c.A,m]]}),i})()},mhZR:function(i,e,n){"use strict";n.d(e,"a",(function(){return h}));var t=n("mrSG"),o=n("fXoL"),c=n("TEn/"),l=n("jCJ1"),s=n("X9o6"),b=n("ofXK"),r=n("3Pt+");function a(i,e){if(1&i){const i=o.Nb();o.Mb(0,"ion-icon",12),o.Ub("click",(function(){return o.ec(i),o.Wb(2).deleteLogo()})),o.Lb()}}function d(i,e){if(1&i){const i=o.Nb();o.Mb(0,"ion-button",9),o.Ub("click",(function(){return o.ec(i),o.Wb(2).agregarLogo()})),o.ic(1,"Seleccionar Logo"),o.Lb()}}function u(i,e){if(1&i){const i=o.Nb();o.Mb(0,"ion-content"),o.Mb(1,"ion-item",2),o.Mb(2,"ion-label",3),o.ic(3," Razon social: "),o.Lb(),o.Mb(4,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().razon_social=e})),o.Lb(),o.Lb(),o.Mb(5,"ion-item",2),o.Mb(6,"ion-label",3),o.ic(7," Telefono: (solo numeros) "),o.Lb(),o.Mb(8,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().telefono=e})),o.Lb(),o.Lb(),o.Mb(9,"ion-item",2),o.Mb(10,"ion-label",3),o.ic(11," Email: "),o.Lb(),o.Mb(12,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().email=e})),o.Lb(),o.Lb(),o.Mb(13,"ion-item",2),o.Mb(14,"ion-label",3),o.ic(15," Direccion: "),o.Lb(),o.Mb(16,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().direccion=e})),o.Lb(),o.Lb(),o.Mb(17,"ion-item",2),o.Kb(18,"img",5),o.hc(19,a,1,0,"ion-icon",6),o.hc(20,d,2,0,"ion-button",7),o.Lb(),o.Mb(21,"div",8),o.Mb(22,"ion-button",9),o.Ub("click",(function(){return o.ec(i),o.Wb().modificar_cliente()})),o.ic(23,"Modificar"),o.Lb(),o.Lb(),o.Mb(24,"div",10),o.Kb(25,"img",11),o.Lb(),o.Lb()}if(2&i){const i=o.Wb();o.zb(4),o.bc("ngModel",i.razon_social),o.zb(4),o.bc("ngModel",i.telefono),o.zb(4),o.bc("ngModel",i.email),o.zb(4),o.bc("ngModel",i.direccion),o.zb(2),o.bc("src",i.logo,o.fc),o.zb(1),o.bc("ngIf",!(null==i.logo)),o.zb(1),o.bc("ngIf",null==i.logo)}}let h=(()=>{class i{constructor(i,e,n,t,o){this.loadingController=i,this.api_clientes=e,this.navParams=n,this.modalCtrl=t,this.imageCompress=o,this.id_cliente=this.navParams.get("id_cliente")}ngOnInit(){this.api_clientes.informacion_cliente(this.id_cliente).subscribe(i=>{this.cliente=i,this.cliente=this.cliente.result,this.razon_social=this.cliente.clienteDatos[0].razon_social_cliente,this.email=this.cliente.clienteDatos[0].email,this.telefono=this.cliente.clienteDatos[0].telefono,this.direccion=this.cliente.clienteDatos[0].direccion,this.logo=this.cliente.clienteDatos[0].logo_cliente,console.log(this.cliente)})}modificar_cliente(){this.objeto={id_cliente:this.id_cliente,razon_social_cliente:this.razon_social,direccion:this.direccion,telefono:this.telefono,email:this.email},console.log(this.objeto),this.api_clientes.modificar_cliente(this.objeto).subscribe(i=>{this.logo?this.api_clientes.subir_logo_cliente({id_cliente:this.id_cliente,logo:this.logo}).subscribe(i=>{this.modalCtrl.dismiss({dismissed:!0})}):this.modalCtrl.dismiss({dismissed:!0})},i=>{console.log(i)})}agregarLogo(){return Object(t.a)(this,void 0,void 0,(function*(){const i=yield this.loadingController.create({message:"Subiendo img"});yield i.present(),this.imageCompress.uploadFile().then(({image:i,orientation:e})=>{console.warn("Size in bytes was:",this.imageCompress.byteCount(i)),this.imageCompress.compressFile(i,e,50,50).then(i=>{console.log(i),this.logo=i,this.api_clientes.subir_logo_cliente({id_cliente:this.id_cliente,logo:this.logo}).subscribe(i=>{this.loadingController.dismiss()})})})}))}deleteLogo(){return Object(t.a)(this,void 0,void 0,(function*(){const i=yield this.loadingController.create({message:"Eliminando img"});yield i.present(),this.api_clientes.subir_logo_cliente({id_cliente:this.id_cliente,logo:null}).subscribe(i=>{this.ngOnInit(),this.loadingController.dismiss()})}))}}return i.\u0275fac=function(e){return new(e||i)(o.Jb(c.B),o.Jb(l.a),o.Jb(c.E),o.Jb(c.C),o.Jb(s.a))},i.\u0275cmp=o.Db({type:i,selectors:[["app-modificar-cliente"]],decls:5,vars:1,consts:[["color","primary",2,"text-align","center"],[4,"ngIf"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],["alt","",2,"width","50%","margin-left","25%","padding","5px",3,"src"],["name","trash-outline","color","danger","style","margin-top:15px",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],["name","trash-outline","color","danger",2,"margin-top","15px",3,"click"]],template:function(i,e){1&i&&(o.Mb(0,"ion-header"),o.Mb(1,"ion-toolbar",0),o.Mb(2,"ion-title"),o.ic(3,"Modificar cliente"),o.Lb(),o.Lb(),o.Lb(),o.hc(4,u,26,7,"ion-content",1)),2&i&&(o.zb(4),o.bc("ngIf",e.cliente))},directives:[c.j,c.z,c.y,b.j,c.g,c.m,c.n,c.l,c.J,r.d,r.e,c.c,c.k],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),i})()}}]);