(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1mX4":function(i,o,e){"use strict";e.d(o,"a",(function(){return l}));var t=e("fXoL"),n=e("TEn/"),s=e("jCJ1"),c=e("ofXK"),a=e("3Pt+");function r(i,o){if(1&i){const i=t.Nb();t.Mb(0,"ion-content"),t.Mb(1,"ion-item",2),t.Mb(2,"ion-label",3),t.ic(3," Razon social: "),t.Lb(),t.Mb(4,"ion-input",4),t.Ub("ngModelChange",(function(o){return t.ec(i),t.Wb().razon_social=o})),t.Lb(),t.Lb(),t.Mb(5,"ion-item",2),t.Mb(6,"ion-label",3),t.ic(7," Telefono: "),t.Lb(),t.Mb(8,"ion-input",4),t.Ub("ngModelChange",(function(o){return t.ec(i),t.Wb().telefono=o})),t.Lb(),t.Lb(),t.Mb(9,"ion-item",2),t.Mb(10,"ion-label",3),t.ic(11," Email: "),t.Lb(),t.Mb(12,"ion-input",4),t.Ub("ngModelChange",(function(o){return t.ec(i),t.Wb().email=o})),t.Lb(),t.Lb(),t.Mb(13,"ion-item",2),t.Mb(14,"ion-label",3),t.ic(15," Direccion: "),t.Lb(),t.Mb(16,"ion-input",4),t.Ub("ngModelChange",(function(o){return t.ec(i),t.Wb().direccion=o})),t.Lb(),t.Lb(),t.Mb(17,"div",5),t.Mb(18,"ion-button",6),t.Ub("click",(function(){return t.ec(i),t.Wb().modificar_sucursal()})),t.ic(19,"Modificar"),t.Lb(),t.Lb(),t.Mb(20,"div",7),t.Kb(21,"img",8),t.Lb(),t.Lb()}if(2&i){const i=t.Wb();t.zb(4),t.bc("ngModel",i.razon_social),t.zb(4),t.bc("ngModel",i.telefono),t.zb(4),t.bc("ngModel",i.email),t.zb(4),t.bc("ngModel",i.direccion)}}let l=(()=>{class i{constructor(i,o,e){this.navParams=i,this.api=o,this.modalCtrl=e,this.id_sucursal=this.navParams.get("id_sucursal")}ngOnInit(){this.api.ver_sucursal(this.id_sucursal).subscribe(i=>{console.log(i),this.sucursal=i,this.sucursal=this.sucursal.result,this.razon_social=this.sucursal.sucursal[0].razon_social_sucursal,this.email=this.sucursal.sucursal[0].email_sucursal,this.telefono=this.sucursal.sucursal[0].telefono_sucursal,this.direccion=this.sucursal.sucursal[0].direccion_sucursal,this.id_cliente=this.sucursal.sucursal[0].id_cliente},i=>{console.log(i)})}modificar_sucursal(){this.objeto={id_cliente:this.id_cliente,id_sucursal:this.id_sucursal,razon_social_sucursal:this.razon_social,direccion_sucursal:this.direccion,telefono_sucursal:this.telefono,email_sucursal:this.email},console.log(this.objeto),this.api.modificar_sucursal(this.objeto).subscribe(i=>{console.log(i),this.modalCtrl.dismiss({dismissed:!0})},i=>{console.log(i)})}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(n.E),t.Jb(s.a),t.Jb(n.C))},i.\u0275cmp=t.Db({type:i,selectors:[["app-modificar-sucursal"]],decls:5,vars:1,consts:[["color","primary",2,"text-align","center"],[4,"ngIf"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"]],template:function(i,o){1&i&&(t.Mb(0,"ion-header"),t.Mb(1,"ion-toolbar",0),t.Mb(2,"ion-title"),t.ic(3,"Modificar sucursal"),t.Lb(),t.Lb(),t.Lb(),t.hc(4,r,22,4,"ion-content",1)),2&i&&(t.zb(4),t.bc("ngIf",o.sucursal))},directives:[n.j,n.z,n.y,c.j,n.g,n.m,n.n,n.l,n.J,a.d,a.e,n.c],styles:[""]}),i})()},OAWW:function(i,o,e){"use strict";e.d(o,"a",(function(){return h}));var t=e("wd/R"),n=e("fXoL"),s=e("TEn/"),c=e("jCJ1"),a=e("89nv"),r=e("u//c"),l=e("3Pt+"),b=e("ofXK");function u(i,o){if(1&i&&(n.Mb(0,"ion-select-option",10),n.ic(1),n.Lb()),2&i){const i=o.$implicit;n.cc("value",i.id_servicio),n.zb(1),n.jc(i.nombre_servicio)}}function d(i,o){if(1&i&&(n.Mb(0,"ion-select-option",10),n.ic(1),n.Lb()),2&i){const i=o.$implicit;n.cc("value",i.id_tecnico),n.zb(1),n.lc("",i.nombre_tecnico," ",i.apellido_tecnico,"")}}let h=(()=>{class i{constructor(i,o,e,t,n){this.navParams=i,this.api_clientes=o,this.api_visitas=e,this.api_tecnicos=t,this.modalController=n,this.dayNames=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],this.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.id_visita=this.navParams.get("id_visita"),this.servicios_elegidos=[]}ngOnInit(){this.fecha_actual=t().format(),this.api_clientes.informacion_visita(this.id_visita).subscribe(i=>{console.log(i),this.visita=i,this.visita=this.visita.result,this.fecha_elegida=this.visita.visitas.fecha_visita,this.tecnico_elegido=this.visita.visitas.id_tecnico.toString();for(let o=0;o<this.visita.servicios.length;o++)this.servicios_elegidos.push(this.visita.servicios[o].id_servicio.toString())},i=>{console.log(i)}),this.api_visitas.mostrar_servicios().subscribe(i=>{this.listado_servicios=i,this.listado_servicios=this.listado_servicios.result,console.log(this.listado_servicios)}),this.api_tecnicos.listado_tecnicos().subscribe(i=>{this.listado_tecnicos=i,this.listado_tecnicos=this.listado_tecnicos.result,console.log(this.listado_tecnicos)},i=>{console.log(i)})}modificar_visita(){console.log(this.servicios_elegidos),this.api_visitas.modificar_visita({id_visita:this.id_visita,fecha_visita:this.fecha_elegida,id_tecnico:this.tecnico_elegido,servicios:this.servicios_elegidos}).subscribe(i=>{console.log(i),this.modalController.dismiss({dismissed:!0})},i=>{console.log(i)})}}return i.\u0275fac=function(o){return new(o||i)(n.Jb(s.E),n.Jb(c.a),n.Jb(a.a),n.Jb(r.a),n.Jb(s.C))},i.\u0275cmp=n.Db({type:i,selectors:[["app-modificar-visita"]],decls:24,vars:9,consts:[["color","primary",2,"text-align","center"],["fixed","",2,"text-align","center"],["multiple","true",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["displayFormat","DDDD D MMMM YYYY HH:mm","max","2022",3,"ngModel","monthNames","dayNames","min","value","ngModelChange"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[3,"value"]],template:function(i,o){1&i&&(n.Mb(0,"ion-header"),n.Mb(1,"ion-toolbar",0),n.Mb(2,"ion-title"),n.ic(3,"Modificar visita"),n.Lb(),n.Lb(),n.Lb(),n.Mb(4,"ion-content"),n.Mb(5,"ion-item"),n.Mb(6,"ion-label",1),n.ic(7,"Seleccionar servicios a ofrecer"),n.Lb(),n.Mb(8,"ion-select",2),n.Ub("ngModelChange",(function(i){return o.servicios_elegidos=i})),n.hc(9,u,2,2,"ion-select-option",3),n.Lb(),n.Lb(),n.Mb(10,"ion-item"),n.Mb(11,"ion-label",1),n.ic(12,"Seleccionar t\xe9cnico a cargo"),n.Lb(),n.Mb(13,"ion-select",4),n.Ub("ngModelChange",(function(i){return o.tecnico_elegido=i})),n.hc(14,d,2,3,"ion-select-option",3),n.Lb(),n.Lb(),n.Mb(15,"ion-item"),n.Mb(16,"ion-label",1),n.ic(17,"Elegir una fecha"),n.Lb(),n.Mb(18,"ion-datetime",5),n.Ub("ngModelChange",(function(i){return o.fecha_elegida=i})),n.Lb(),n.Lb(),n.Mb(19,"div",6),n.Mb(20,"ion-button",7),n.Ub("click",(function(){return o.modificar_visita()})),n.ic(21,"Modificar"),n.Lb(),n.Lb(),n.Mb(22,"div",8),n.Kb(23,"img",9),n.Lb(),n.Lb()),2&i&&(n.zb(8),n.bc("ngModel",o.servicios_elegidos),n.zb(1),n.bc("ngForOf",o.listado_servicios),n.zb(4),n.bc("ngModel",o.tecnico_elegido),n.zb(1),n.bc("ngForOf",o.listado_tecnicos),n.zb(4),n.cc("min",o.fecha_actual),n.cc("value",o.fecha_actual),n.bc("ngModel",o.fecha_elegida)("monthNames",o.monthNames)("dayNames",o.dayNames))},directives:[s.j,s.z,s.y,s.g,s.m,s.n,s.q,s.I,l.d,l.e,b.i,s.h,s.c,s.r],styles:[""]}),i})()},X9o6:function(i,o,e){"use strict";e.d(o,"a",(function(){return c}));var t=e("fXoL");const n=function(){var i={Up:1,Down:3,Right:6,Left:8,UpMirrored:2,DownMirrored:4,LeftMirrored:5,RightMirrored:7,NotJpeg:-1,NotDefined:-2};return i[i.Up]="Up",i[i.Down]="Down",i[i.Right]="Right",i[i.Left]="Left",i[i.UpMirrored]="UpMirrored",i[i.DownMirrored]="DownMirrored",i[i.LeftMirrored]="LeftMirrored",i[i.RightMirrored]="RightMirrored",i[i.NotJpeg]="NotJpeg",i[i.NotDefined]="NotDefined",i}();class s{static getOrientation(i,o){const e=new FileReader;try{e.onload=function(i){const t=new DataView(e.result);if(65496!==t.getUint16(0,!1))return o(-2);const n=t.byteLength;let s=2;for(;s<n;){const i=t.getUint16(s,!1);if(s+=2,65505===i){if(1165519206!==t.getUint32(s+=2,!1))return o(-1);const i=18761===t.getUint16(s+=6,!1);s+=t.getUint32(s+4,i);const e=t.getUint16(s,i);s+=2;for(let n=0;n<e;n++)if(274===t.getUint16(s+12*n,i))return o(t.getUint16(s+12*n+8,i))}else{if(65280!=(65280&i))break;s+=t.getUint16(s,!1)}}return o(-1)},e.readAsArrayBuffer(i)}catch(t){return o(0)}}static uploadFile(i){return new Promise((function(o,e){const t=i.createElement("input");i.setStyle(t,"display","none"),i.setProperty(t,"type","file"),i.setProperty(t,"accept","image/*"),i.listen(t,"click",i=>{i.target.value=null}),i.listen(t,"change",i=>{const t=i.target.files[0],n=new FileReader;n.onloadend=i=>{try{s.getOrientation(t,i=>{o({image:n.result,orientation:i})})}catch(i){e(i)}};try{n.readAsDataURL(t)}catch(c){console.warn("ngx-image-compress - probably no file have been selected: "+c),e("No file selected")}}),t.click()}))}static compress(i,o,e,t=50,s=50){return new Promise((function(c,a){s/=100,t/=100;const r=new Image;r.onload=function(){const a=e.createElement("canvas"),l=a.getContext("2d");let b,u;if(b=r.naturalWidth,u=r.naturalHeight,o===n.Right||o===n.Left){const i=b;b=u,u=i}a.width=b*t,a.height=u*t;const d=Math.PI/180;o===n.Up?l.drawImage(r,0,0,a.width,a.height):o===n.Right?(l.save(),l.rotate(90*d),l.translate(0,-a.width),l.drawImage(r,0,0,a.height,a.width),l.restore()):o===n.Left?(l.save(),l.rotate(-90*d),l.translate(-a.width,0),l.drawImage(r,0,0,a.height,a.width),l.restore()):o===n.Down?(l.save(),l.rotate(180*d),l.translate(-a.width,-a.height),l.drawImage(r,0,0,a.width,a.height),l.restore()):l.drawImage(r,0,0,a.width,a.height);const h=i.substr(5,i.split(";")[0].length-5),g=a.toDataURL(h,s);c(g)},r.src=i}))}static byteCount(i){return encodeURI(i).split(/%..|./).length-1}}let c=(()=>{class i{constructor(i){this.DOC_ORIENTATION=n,this.render=i.createRenderer(null,null)}byteCount(i){return s.byteCount(i)}uploadFile(){return s.uploadFile(this.render)}compressFile(i,o,e=50,t=50){return s.compress(i,o,this.render,e,t)}}return i.\u0275fac=function(o){return new(o||i)(t.Qb(t.E))},i.\u0275prov=t.Fb({token:i,factory:i.\u0275fac}),i})()},aaHe:function(i,o,e){"use strict";e.d(o,"a",(function(){return b}));var t=e("fXoL"),n=e("+1S5"),s=e("TEn/"),c=e("3Pt+"),a=e("ofXK");function r(i,o){if(1&i&&(t.Mb(0,"div"),t.Mb(1,"ion-select-option",6),t.ic(2),t.Lb(),t.Lb()),2&i){const i=t.Wb().$implicit;t.zb(1),t.cc("value",i.id_servicio),t.zb(1),t.jc(i.nombre_servicio)}}function l(i,o){if(1&i&&(t.Mb(0,"div"),t.hc(1,r,3,2,"div",5),t.Lb()),2&i){const i=o.$implicit;t.zb(1),t.bc("ngIf",1==i.qr)}}let b=(()=>{class i{constructor(i,o,e){this.api_servicios=i,this.navParams=o,this.modalCtrl=e,this.id_sucursal=this.navParams.get("id_sucursal")}ngOnInit(){console.log(this.id_sucursal),this.api_servicios.mostrar_servicios().subscribe(i=>{this.servicios=i,this.servicios=this.servicios.result,console.log(this.servicios)})}alta_workstation(){this.object={nombre_equipos:this.nombre_workstation,id_servicio:this.id_servicio,id_sucursal:this.id_sucursal},this.api_servicios.alta_workstation(this.object).subscribe(i=>{console.log(i),this.modalCtrl.dismiss({dismissed:!0})})}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(n.a),t.Jb(s.E),t.Jb(s.C))},i.\u0275cmp=t.Db({type:i,selectors:[["app-alta-workstation"]],decls:13,vars:3,consts:[["lines","full"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["expand","full",3,"click"],[4,"ngIf"],[3,"value"]],template:function(i,o){1&i&&(t.Mb(0,"ion-content"),t.Mb(1,"ion-item",0),t.Mb(2,"ion-label"),t.ic(3,"Nombre del workstation: "),t.Lb(),t.Mb(4,"ion-input",1),t.Ub("ngModelChange",(function(i){return o.nombre_workstation=i})),t.Lb(),t.Lb(),t.Mb(5,"ion-item",0),t.Mb(6,"ion-label"),t.ic(7,"Servicio que cumple"),t.Lb(),t.Mb(8,"ion-select",1),t.Ub("ngModelChange",(function(i){return o.id_servicio=i})),t.hc(9,l,2,1,"div",2),t.Lb(),t.Lb(),t.Mb(10,"div",3),t.Mb(11,"ion-button",4),t.Ub("click",(function(){return o.alta_workstation()})),t.ic(12,"Dar de alta"),t.Lb(),t.Lb(),t.Lb()),2&i&&(t.zb(4),t.bc("ngModel",o.nombre_workstation),t.zb(4),t.bc("ngModel",o.id_servicio),t.zb(1),t.bc("ngForOf",o.servicios))},directives:[s.g,s.m,s.n,s.l,s.J,c.d,c.e,s.q,s.I,a.i,s.c,a.j,s.r],styles:["ion-content[_ngcontent-%COMP%]{--background:#dfdfdf;border:2px solid #000}"]}),i})()},cZ9Q:function(i,o,e){"use strict";e.d(o,"a",(function(){return g}));var t=e("mrSG"),n=e("aaHe"),s=e("fXoL"),c=e("TEn/"),a=e("jCJ1"),r=e("X9o6"),l=e("ofXK");function b(i,o){if(1&i){const i=s.Nb();s.Mb(0,"ion-item",16),s.Mb(1,"ion-grid"),s.Mb(2,"ion-row"),s.Kb(3,"ion-col",4),s.Mb(4,"ion-col",17),s.Mb(5,"ion-label"),s.ic(6),s.Lb(),s.Lb(),s.Mb(7,"ion-col",17),s.Mb(8,"ion-label"),s.ic(9),s.Lb(),s.Lb(),s.Mb(10,"ion-col",5),s.Mb(11,"ion-card",8),s.Mb(12,"div"),s.Mb(13,"a",9),s.Kb(14,"img",10),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(15,"ion-col",6),s.Mb(16,"ion-icon",18),s.Ub("click",(function(){s.ec(i);const e=o.$implicit;return s.Wb(2).borrar_equipo(e.id_equipo)})),s.Lb(),s.Lb(),s.Kb(17,"ion-col",14),s.Lb(),s.Lb(),s.Lb()}if(2&i){const i=o.$implicit;s.zb(6),s.jc(i.nombre_equipo),s.zb(3),s.jc(i.nombre_servicio),s.zb(4),s.bc("href",i.codigo_qr_equipo,s.fc),s.zb(1),s.bc("src",i.codigo_qr_equipo,s.fc)}}function u(i,o){if(1&i){const i=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-item",2),s.Mb(2,"ion-label"),s.Mb(3,"b"),s.ic(4,"Informacion de la sucursal"),s.Lb(),s.Lb(),s.Lb(),s.Mb(5,"ion-item",3),s.Mb(6,"ion-grid"),s.Mb(7,"ion-row"),s.Kb(8,"ion-col",4),s.Mb(9,"ion-col",5),s.Mb(10,"ion-label"),s.Mb(11,"b"),s.ic(12,"Nombre de sucursal"),s.Lb(),s.Lb(),s.Lb(),s.Mb(13,"ion-col",5),s.Mb(14,"ion-label"),s.Mb(15,"b"),s.ic(16,"Telefono de sucursal"),s.Lb(),s.Lb(),s.Lb(),s.Mb(17,"ion-col",5),s.Mb(18,"ion-label"),s.Mb(19,"b"),s.ic(20,"Mail de sucursal"),s.Lb(),s.Lb(),s.Lb(),s.Mb(21,"ion-col",5),s.Mb(22,"ion-label"),s.Mb(23,"b"),s.ic(24,"Codigo QR"),s.Lb(),s.Lb(),s.Lb(),s.Kb(25,"ion-col",6),s.Lb(),s.Lb(),s.Lb(),s.Mb(26,"ion-item",3),s.Mb(27,"ion-grid"),s.Mb(28,"ion-row"),s.Kb(29,"ion-col",4),s.Mb(30,"ion-col",7),s.Mb(31,"ion-label"),s.ic(32),s.Lb(),s.Lb(),s.Mb(33,"ion-col",7),s.Mb(34,"ion-label"),s.ic(35),s.Lb(),s.Lb(),s.Mb(36,"ion-col",7),s.Mb(37,"ion-label"),s.ic(38),s.Lb(),s.Lb(),s.Mb(39,"ion-col",5),s.Mb(40,"ion-card",8),s.Mb(41,"div"),s.Mb(42,"a",9),s.Kb(43,"img",10),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Kb(44,"ion-col",6),s.Lb(),s.Lb(),s.Lb(),s.Kb(45,"div",11),s.Mb(46,"ion-item",2),s.Mb(47,"ion-label"),s.Mb(48,"b"),s.ic(49,"Workstations/equipos"),s.Lb(),s.Lb(),s.Lb(),s.Mb(50,"ion-item",12),s.Kb(51,"ion-label"),s.Mb(52,"ion-button",13),s.Ub("click",(function(){return s.ec(i),s.Wb().altaWorkstation()})),s.ic(53,"Agregar workstation"),s.Lb(),s.Lb(),s.Mb(54,"ion-item",3),s.Mb(55,"ion-grid"),s.Mb(56,"ion-row"),s.Kb(57,"ion-col",4),s.Mb(58,"ion-col",5),s.Mb(59,"ion-label"),s.Mb(60,"b"),s.ic(61,"Nombre del workstation"),s.Lb(),s.Lb(),s.Lb(),s.Mb(62,"ion-col",5),s.Mb(63,"ion-label"),s.Mb(64,"b"),s.ic(65,"Nombre del servicio"),s.Lb(),s.Lb(),s.Lb(),s.Mb(66,"ion-col",5),s.Mb(67,"ion-label"),s.Mb(68,"b"),s.ic(69,"Codigo QR"),s.Lb(),s.Lb(),s.Lb(),s.Kb(70,"ion-col",14),s.Lb(),s.Lb(),s.Lb(),s.hc(71,b,18,4,"ion-item",15),s.Lb()}if(2&i){const i=s.Wb();s.zb(32),s.jc(i.sucursal.sucursal[0].razon_social_sucursal),s.zb(3),s.jc(i.sucursal.sucursal[0].telefono_sucursal),s.zb(3),s.jc(i.sucursal.sucursal[0].email_sucursal),s.zb(4),s.bc("href",i.sucursal.sucursal[0].codigo_qr,s.fc),s.zb(1),s.bc("src",i.sucursal.sucursal[0].codigo_qr,s.fc),s.zb(28),s.bc("ngForOf",i.workstations)}}function d(i,o){if(1&i&&(s.Mb(0,"ion-slide"),s.Mb(1,"ion-card"),s.Kb(2,"img",23),s.Lb(),s.Lb()),2&i){const i=o.$implicit;s.zb(2),s.cc("src",i.url_imagen_plano,s.fc)}}function h(i,o){if(1&i){const i=s.Nb();s.Mb(0,"div",19),s.Mb(1,"ion-item",2),s.Mb(2,"ion-label"),s.Mb(3,"b"),s.ic(4,"Planos de la sucursal"),s.Lb(),s.Lb(),s.Mb(5,"ion-icon",20),s.Ub("click",(function(){return s.ec(i),s.Wb().agregar_plano()})),s.Lb(),s.Lb(),s.Mb(6,"ion-slides",21),s.hc(7,d,3,1,"ion-slide",22),s.Lb(),s.Lb()}if(2&i){const i=s.Wb();s.zb(7),s.bc("ngForOf",i.sucursal.planos)}}let g=(()=>{class i{constructor(i,o,e,t,n){this.navParams=i,this.api_sucursales=o,this.modalController=e,this.imageCompress=t,this.loadingController=n,this.id_sucursal=this.navParams.get("id_sucursal"),this.imagen=[]}ngOnInit(){this.actualizar_informacion()}altaWorkstation(){return Object(t.a)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:n.a,cssClass:"modal-chiquito",componentProps:{id_sucursal:this.id_sucursal}});return i.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield i.present()}))}borrar_equipo(i){this.api_sucursales.borrar_equipo(i).subscribe(i=>{console.log(i),this.actualizar_informacion()})}actualizar_informacion(){this.api_sucursales.informacion_sucursal(this.id_sucursal).subscribe(i=>{this.sucursal=i,this.sucursal=this.sucursal.result}),this.api_sucursales.listado_workstations(this.id_sucursal).subscribe(i=>{console.log(i),this.workstations=i,this.workstations=this.workstations.result,console.log(this.workstations)})}agregar_plano(){this.imageCompress.uploadFile().then(({image:i,orientation:o})=>{console.warn("Size in bytes was:",this.imageCompress.byteCount(i)),this.imageCompress.compressFile(i,o,50,50).then(i=>{console.log(i),this.imagen[0]={url:i},console.log("rodri1",this.imagen[0]),console.log("rodri2",this.sucursal.sucursal[0].id_sucursal),this.subirPlano(this.imagen)})})}subirPlano(i){return Object(t.a)(this,void 0,void 0,(function*(){this.loading=yield this.loadingController.create({message:"Por favor espere."}),yield this.loading.present(),this.imagen.length>0?(this.object={id_sucursal:this.sucursal.sucursal[0].id_sucursal,imagen:this.imagen[0].url},console.log(this.object),this.api_sucursales.subir_planos(this.object).subscribe(i=>{console.log(i),this.actualizar_informacion(),this.loading.dismiss()},i=>{this.loading.dismiss(),console.log("Error al subir el plano ",i),alert("El plano no se subio")})):(this.loading.dismiss(),console.log("No se ha seleccionado ningun plano"))}))}}return i.\u0275fac=function(o){return new(o||i)(s.Jb(c.E),s.Jb(a.a),s.Jb(c.C),s.Jb(r.a),s.Jb(c.B))},i.\u0275cmp=s.Db({type:i,selectors:[["app-ver-sucursal"]],decls:3,vars:2,consts:[[4,"ngIf"],["style","margin-top: 10px;",4,"ngIf"],["lines","none",2,"text-align","center"],["lines","full"],["size","3"],["size","2"],["size","1"],["size","2",2,"margin-top","10px"],[2,"width","50px","margin-top","0px"],["download","",3,"href"],[3,"src"],[2,"margin-top","5px"],["lines","none",2,"text-align","right"],[3,"click"],["size","4"],["lines","full","class","equipos",4,"ngFor","ngForOf"],["lines","full",1,"equipos"],["size","2",2,"margin-top","15px"],["name","trash-outline","color","danger",2,"margin-top","15px",3,"click"],[2,"margin-top","10px"],["slot","end","name","add-circle-outline","color","primary",3,"click"],["pager","true",2,"background-color","secondary"],[4,"ngFor","ngForOf"],[1,"planos",3,"src"]],template:function(i,o){1&i&&(s.Mb(0,"ion-content"),s.hc(1,u,72,6,"div",0),s.hc(2,h,8,1,"div",1),s.Lb()),2&i&&(s.zb(1),s.bc("ngIf",o.sucursal),s.zb(1),s.bc("ngIf",o.sucursal))},directives:[c.g,l.j,c.m,c.n,c.i,c.p,c.f,c.e,c.c,l.i,c.k,c.t,c.s],styles:[".planos[_ngcontent-%COMP%]{width:50%;height:50%}.equipos[_ngcontent-%COMP%]{height:65px}"]}),i})()},lENo:function(i,o,e){"use strict";e.d(o,"a",(function(){return p}));var t=e("mrSG"),n=e("OAWW"),s=e("fXoL"),c=e("TEn/"),a=e("jCJ1"),r=e("ofXK");function l(i,o){1&i&&(s.Mb(0,"div",3),s.Kb(1,"ion-spinner"),s.Lb())}function b(i,o){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-item",4),s.Mb(2,"ion-label"),s.Mb(3,"b"),s.ic(4,"Fecha de concluida la visita:"),s.Lb(),s.ic(5),s.Lb(),s.Lb(),s.Lb()),2&i){const i=s.Wb(2);s.zb(5),s.kc(" ",i.visita.visitas.horario_salida,"")}}function u(i,o){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-item"),s.Mb(2,"ion-label"),s.Mb(3,"b"),s.ic(4,"Fecha estimada de la visita:"),s.Lb(),s.ic(5),s.Xb(6,"date"),s.Lb(),s.Lb(),s.Lb()),2&i){const i=s.Wb(2);s.zb(5),s.kc(" ",s.Yb(6,1,i.visita.visitas.fecha_visita,"dd/MM/yyyy hh:mm"),"")}}function d(i,o){if(1&i&&(s.Mb(0,"div",6),s.Kb(1,"ion-icon",7),s.ic(2),s.Lb()),2&i){const i=o.$implicit;s.zb(2),s.kc(" ",i.nombre_servicio," ")}}function h(i,o){if(1&i){const i=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-button",8),s.Ub("click",(function(){return s.ec(i),s.Wb(3).generar_pdf()})),s.ic(2,"Generar PDF"),s.Lb(),s.Lb()}}function g(i,o){if(1&i){const i=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-button",9),s.Ub("click",(function(){return s.ec(i),s.Wb(3).ver_pdf()})),s.ic(2,"Ver PDF"),s.Lb(),s.Lb()}}function m(i,o){if(1&i&&(s.Mb(0,"div"),s.hc(1,h,3,0,"div",1),s.hc(2,g,3,0,"div",1),s.Lb()),2&i){const i=s.Wb(2);s.zb(1),s.bc("ngIf",!i.pdf_generado),s.zb(1),s.bc("ngIf",i.pdf_generado)}}function f(i,o){if(1&i){const i=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-button",8),s.Ub("click",(function(){return s.ec(i),s.Wb(2).modificar_visita()})),s.ic(2,"Modificar visita"),s.Lb(),s.Lb()}}function M(i,o){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-item",4),s.Mb(2,"ion-label"),s.Mb(3,"b"),s.ic(4,"T\xe9cnico a cargo de la visita:"),s.Lb(),s.ic(5),s.Lb(),s.Lb(),s.hc(6,b,6,1,"div",1),s.hc(7,u,7,4,"div",1),s.Mb(8,"ion-item",4),s.Mb(9,"ion-label"),s.Mb(10,"b"),s.ic(11,"Cliente:"),s.Lb(),s.ic(12),s.Lb(),s.Lb(),s.Mb(13,"ion-item",4),s.Mb(14,"ion-label"),s.Mb(15,"b"),s.ic(16,"Sucursal:"),s.Lb(),s.ic(17),s.Lb(),s.Lb(),s.Mb(18,"ion-item",4),s.Mb(19,"ion-label"),s.Mb(20,"b"),s.ic(21,"Servicios ofrecidos:"),s.Lb(),s.hc(22,d,3,1,"div",5),s.Lb(),s.Lb(),s.hc(23,m,3,2,"div",1),s.hc(24,f,3,0,"div",1),s.Lb()),2&i){const i=s.Wb();s.zb(5),s.lc(" ",i.visita.visitas.nombre_tecnico," ",i.visita.visitas.apellido_tecnico,""),s.zb(1),s.bc("ngIf","NULL"!=i.visita.visitas.horario_salida),s.zb(1),s.bc("ngIf","NULL"==i.visita.visitas.horario_salida),s.zb(5),s.kc(" ",i.visita.visitas.razon_social_cliente,""),s.zb(5),s.kc(" ",i.visita.visitas.razon_social_sucursal,""),s.zb(5),s.bc("ngForOf",i.visita.servicios),s.zb(1),s.bc("ngIf","NULL"!=i.visita.visitas.horario_salida),s.zb(1),s.bc("ngIf","NULL"==i.visita.visitas.horario_salida)}}let p=(()=>{class i{constructor(i,o,e){this.navParams=i,this.api_visitas=o,this.modalController=e,this.id_visita=this.navParams.get("id_visita"),this.pdf_generado=!1}ngOnInit(){this.actualizar_informacion()}generar_pdf(){console.log(this.id_visita),this.api_visitas.crear_pdf({id_visita:this.id_visita}).subscribe(i=>{console.log(i),this.pdf_generado=!0},i=>{console.log(i)})}ver_pdf(){this.api_visitas.ver_pdf(this.id_visita).subscribe(i=>{this.url=i,console.log(this.url.url),window.open(this.url.url,"_blank").focus()},i=>{console.log(i)})}actualizar_informacion(){this.api_visitas.informacion_visita(this.id_visita).subscribe(i=>{this.visita=i,this.visita=this.visita.result,console.log(this.visita)})}modificar_visita(){return Object(t.a)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:n.a,cssClass:"my-custom-class",componentProps:{id_visita:this.id_visita}});return i.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield i.present()}))}}return i.\u0275fac=function(o){return new(o||i)(s.Jb(c.E),s.Jb(a.a),s.Jb(c.C))},i.\u0275cmp=s.Db({type:i,selectors:[["app-ver-visita"]],decls:5,vars:2,consts:[["style","text-align: center;",4,"ngIf"],[4,"ngIf"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[2,"text-align","center"],["lines","full"],["style","margin-left:10px; margin-top: 10px",4,"ngFor","ngForOf"],[2,"margin-left","10px","margin-top","10px"],["name","document-outline","color","primary"],["expand","full",3,"click"],["expand","full","color","success",3,"click"]],template:function(i,o){1&i&&(s.Mb(0,"ion-content"),s.hc(1,l,2,0,"div",0),s.hc(2,M,25,9,"div",1),s.Mb(3,"div"),s.Kb(4,"img",2),s.Lb(),s.Lb()),2&i&&(s.zb(1),s.bc("ngIf",!o.visita),s.zb(1),s.bc("ngIf",o.visita))},directives:[c.g,r.j,c.u,c.m,c.n,r.i,c.k,c.c],pipes:[r.d],styles:[""]}),i})()},mca5:function(i,o,e){"use strict";e.r(o),e.d(o,"VerClientePageModule",(function(){return _}));var t=e("ofXK"),n=e("3Pt+"),s=e("TEn/"),c=e("tyNb"),a=e("mrSG"),r=e("wfI0"),l=e("cZ9Q"),b=e("lENo"),u=e("1mX4"),d=e("fXoL"),h=e("jCJ1");function g(i,o){if(1&i&&(d.Mb(0,"ion-item",8),d.Mb(1,"ion-col",3),d.Mb(2,"ion-label"),d.ic(3),d.Lb(),d.Lb(),d.Mb(4,"ion-col",3),d.Mb(5,"ion-label"),d.ic(6),d.Lb(),d.Lb(),d.Mb(7,"ion-col",3),d.Mb(8,"ion-label"),d.ic(9),d.Lb(),d.Lb(),d.Mb(10,"ion-col",3),d.Mb(11,"ion-label"),d.ic(12),d.Lb(),d.Lb(),d.Lb()),2&i){const i=d.Wb(2);d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].razon_social_cliente," "),d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].telefono," "),d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].email," "),d.zb(3),d.kc(" ",i.cliente.clienteDatos[0].direccion," ")}}function m(i,o){if(1&i){const i=d.Nb();d.Mb(0,"div"),d.Mb(1,"ion-item",8),d.Mb(2,"ion-col",3),d.ic(3),d.Lb(),d.Mb(4,"ion-col",3),d.ic(5),d.Lb(),d.Mb(6,"ion-col",3),d.ic(7),d.Lb(),d.Mb(8,"ion-col",9),d.ic(9),d.Lb(),d.Mb(10,"ion-col",12),d.Mb(11,"ion-icon",13),d.Ub("click",(function(){d.ec(i);const e=o.$implicit;return d.Wb(2).modificar_sucursal(e.id_sucursal)})),d.Lb(),d.Mb(12,"ion-icon",14),d.Ub("click",(function(){d.ec(i);const e=o.$implicit;return d.Wb(2).baja_sucursal(e.id_sucursal)})),d.Lb(),d.Mb(13,"ion-icon",15),d.Ub("click",(function(){d.ec(i);const e=o.$implicit;return d.Wb(2).verSucursal(e.id_sucursal)})),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){const i=o.$implicit;d.zb(3),d.jc(i.razon_social_sucursal),d.zb(2),d.jc(i.telefono_sucursal),d.zb(2),d.jc(i.email_sucursal),d.zb(2),d.kc(" ",i.direccion_sucursal," ")}}function f(i,o){if(1&i){const i=d.Nb();d.Mb(0,"div"),d.Mb(1,"ion-item",8),d.Mb(2,"ion-col",11),d.ic(3),d.Xb(4,"date"),d.Lb(),d.Mb(5,"ion-col",11),d.ic(6),d.Lb(),d.Mb(7,"ion-col",3),d.ic(8),d.Lb(),d.Mb(9,"ion-col",12),d.Mb(10,"ion-icon",15),d.Ub("click",(function(){d.ec(i);const e=o.$implicit;return d.Wb(2).verVisita(e.id_visita)})),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){const i=o.$implicit;d.zb(3),d.jc(d.Yb(4,3,i.fecha_visita,"dd/MM/yyyy hh:mm")),d.zb(3),d.jc(i.razon_social_sucursal),d.zb(2),d.jc(i.estado_visita)}}function M(i,o){if(1&i){const i=d.Nb();d.Mb(0,"ion-content"),d.Mb(1,"div",1),d.Mb(2,"ion-item",2),d.Mb(3,"ion-grid"),d.Mb(4,"ion-row"),d.Mb(5,"ion-col",3),d.Mb(6,"ion-label"),d.Mb(7,"b"),d.ic(8,"Razon social"),d.Lb(),d.Lb(),d.Lb(),d.Mb(9,"ion-col",3),d.Mb(10,"ion-label"),d.Mb(11,"b"),d.ic(12,"Telefono"),d.Lb(),d.Lb(),d.Lb(),d.Mb(13,"ion-col",3),d.Mb(14,"ion-label"),d.Mb(15,"b"),d.ic(16,"Email"),d.Lb(),d.Lb(),d.Lb(),d.Mb(17,"ion-col",3),d.Mb(18,"ion-label"),d.Mb(19,"b"),d.ic(20,"Direccion"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.hc(21,g,13,4,"ion-item",4),d.Lb(),d.Mb(22,"ion-grid"),d.Mb(23,"ion-row"),d.Mb(24,"ion-col"),d.Mb(25,"ion-item",5),d.Mb(26,"ion-label",6),d.Mb(27,"b"),d.ic(28,"Sucursales"),d.Lb(),d.Lb(),d.Mb(29,"ion-button",7),d.Ub("click",(function(){return d.ec(i),d.Wb().altaSucursal()})),d.ic(30,"Agregar sucursal"),d.Lb(),d.Lb(),d.Mb(31,"ion-item",8),d.Mb(32,"ion-col",3),d.ic(33,"Razon social sucursal"),d.Lb(),d.Mb(34,"ion-col",3),d.ic(35,"Telefono sucursal"),d.Lb(),d.Mb(36,"ion-col",3),d.ic(37,"Email sucursal"),d.Lb(),d.Mb(38,"ion-col",9),d.ic(39,"Direccion sucursal"),d.Lb(),d.Lb(),d.hc(40,m,14,4,"div",10),d.Lb(),d.Mb(41,"ion-col"),d.Mb(42,"ion-item",5),d.Mb(43,"ion-label",6),d.Mb(44,"b"),d.ic(45,"Visitas"),d.Lb(),d.Lb(),d.Lb(),d.Mb(46,"ion-item",8),d.Mb(47,"ion-col",11),d.ic(48,"Fecha de la visita"),d.Lb(),d.Mb(49,"ion-col",11),d.ic(50,"Sucursal"),d.Lb(),d.Mb(51,"ion-col",11),d.ic(52,"Estado"),d.Lb(),d.Lb(),d.hc(53,f,11,6,"div",10),d.Lb(),d.Lb(),d.Lb(),d.Lb()}if(2&i){const i=d.Wb();d.zb(21),d.bc("ngIf",i.cliente),d.zb(19),d.bc("ngForOf",i.cliente.sucursales.datosSucursal),d.zb(13),d.bc("ngForOf",i.cliente.sucursales.visitas)}}const p=[{path:"",component:(()=>{class i{constructor(i,o,e,t){this.activatedRoute=i,this.api_clientes=o,this.modalController=e,this.alertController=t}ngOnInit(){this.actualizar_informacion()}altaSucursal(){return Object(a.a)(this,void 0,void 0,(function*(){let i=this.activatedRoute.snapshot.paramMap.get("id_cliente");const o=yield this.modalController.create({component:r.a,cssClass:"my-custom-class",componentProps:{id_cliente:i}});return yield o.present()}))}verSucursal(i){return Object(a.a)(this,void 0,void 0,(function*(){this.activatedRoute.snapshot.paramMap.get("id_cliente");const o=yield this.modalController.create({component:l.a,cssClass:"modal_grande",componentProps:{id_sucursal:i}});return yield o.present()}))}verVisita(i){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:b.a,cssClass:"my-custom-class",componentProps:{id_visita:i}});return yield o.present()}))}baja_sucursal(i){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Seguro que desea eliminar la sucursal?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.eliminar_sucursal(i),this.actualizar_informacion()}}]});yield o.present()}))}eliminar_sucursal(i){this.api_clientes.eliminar_sucursal(i).subscribe(i=>{},i=>{console.log(i)})}actualizar_informacion(){let i=this.activatedRoute.snapshot.paramMap.get("id_cliente");this.api_clientes.informacion_cliente(i).subscribe(i=>{this.cliente=i,this.cliente=this.cliente.result})}modificar_sucursal(i){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:u.a,cssClass:"my-custom-class",componentProps:{id_sucursal:i}});return o.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield o.present()}))}}return i.\u0275fac=function(o){return new(o||i)(d.Jb(c.a),d.Jb(h.a),d.Jb(s.C),d.Jb(s.a))},i.\u0275cmp=d.Db({type:i,selectors:[["app-ver-cliente"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"informacion_cliente"],["lines","full",1,"titulos"],["size","3"],["lines","full",4,"ngIf"],["lines","none"],[2,"text-align","center"],[3,"click"],["lines","full"],["size","2"],[4,"ngFor","ngForOf"],["size","4"],["size","1"],["name","create-outline",2,"margin-right","5px",3,"click"],["name","trash-outline","color","danger",2,"margin-right","5px",3,"click"],["color","primary","name","enter-outline",3,"click"]],template:function(i,o){1&i&&d.hc(0,M,54,3,"ion-content",0),2&i&&d.bc("ngIf",o.cliente)},directives:[t.j,s.g,s.m,s.i,s.p,s.f,s.n,s.c,t.i,s.k],pipes:[t.d],styles:[".informacion_cliente[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:10px}"]}),i})()},{path:"alta-sucursal",loadChildren:()=>e.e(18).then(e.bind(null,"pY+/")).then(i=>i.AltaSucursalPageModule)},{path:"ver-sucursal",loadChildren:()=>e.e(22).then(e.bind(null,"l4Rn")).then(i=>i.VerSucursalPageModule)},{path:"ver-visita",loadChildren:()=>e.e(23).then(e.bind(null,"R0jV")).then(i=>i.VerVisitaPageModule)},{path:"modificar-sucursal",loadChildren:()=>e.e(19).then(e.bind(null,"+l8E")).then(i=>i.ModificarSucursalPageModule)},{path:"modificar-visita",loadChildren:()=>e.e(20).then(e.bind(null,"6Ypc")).then(i=>i.ModificarVisitaPageModule)}];let L=(()=>{class i{}return i.\u0275mod=d.Hb({type:i}),i.\u0275inj=d.Gb({factory:function(o){return new(o||i)},imports:[[c.h.forChild(p)],c.h]}),i})();var v=e("X9o6");let _=(()=>{class i{}return i.\u0275mod=d.Hb({type:i}),i.\u0275inj=d.Gb({factory:function(o){return new(o||i)},providers:[v.a],imports:[[t.b,n.a,s.A,L]]}),i})()},wfI0:function(i,o,e){"use strict";e.d(o,"a",(function(){return a}));var t=e("fXoL"),n=e("TEn/"),s=e("jCJ1"),c=e("3Pt+");let a=(()=>{class i{constructor(i,o,e){this.navParams=i,this.api=o,this.modalCtrl=e,this.id_cliente=this.navParams.get("id_cliente")}ngOnInit(){}cargar_sucursal(){this.api.alta_sucursal({id_cliente:this.id_cliente,razon_social_sucursal:this.razon_social,direccion_sucursal:this.direccion,telefono_sucursal:this.telefono,email_sucursal:this.email}).subscribe(i=>{console.log(i),location.reload()})}cancelar(){this.modalCtrl.dismiss({dismissed:!0})}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(n.E),t.Jb(s.a),t.Jb(n.C))},i.\u0275cmp=t.Db({type:i,selectors:[["app-alta-sucursal"]],decls:24,vars:4,consts:[["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],[2,"width","100%","text-align","center","margin-top","15px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"]],template:function(i,o){1&i&&(t.Mb(0,"ion-content"),t.Mb(1,"ion-item",0),t.Mb(2,"ion-label",1),t.ic(3," Razon social: "),t.Lb(),t.Mb(4,"ion-input",2),t.Ub("ngModelChange",(function(i){return o.razon_social=i})),t.Lb(),t.Lb(),t.Mb(5,"ion-item",0),t.Mb(6,"ion-label",1),t.ic(7," Telefono: "),t.Lb(),t.Mb(8,"ion-input",2),t.Ub("ngModelChange",(function(i){return o.telefono=i})),t.Lb(),t.Lb(),t.Mb(9,"ion-item",0),t.Mb(10,"ion-label",1),t.ic(11," Email: "),t.Lb(),t.Mb(12,"ion-input",2),t.Ub("ngModelChange",(function(i){return o.email=i})),t.Lb(),t.Lb(),t.Mb(13,"ion-item",0),t.Mb(14,"ion-label",1),t.ic(15," Direccion: "),t.Lb(),t.Mb(16,"ion-input",2),t.Ub("ngModelChange",(function(i){return o.direccion=i})),t.Lb(),t.Lb(),t.Mb(17,"div",3),t.Mb(18,"ion-button",4),t.Ub("click",(function(){return o.cancelar()})),t.ic(19,"Cancelar"),t.Lb(),t.Mb(20,"ion-button",4),t.Ub("click",(function(){return o.cargar_sucursal()})),t.ic(21,"Cargar"),t.Lb(),t.Lb(),t.Mb(22,"div",5),t.Kb(23,"img",6),t.Lb(),t.Lb()),2&i&&(t.zb(4),t.bc("ngModel",o.razon_social),t.zb(4),t.bc("ngModel",o.telefono),t.zb(4),t.bc("ngModel",o.email),t.zb(4),t.bc("ngModel",o.direccion))},directives:[n.g,n.m,n.n,n.l,n.J,c.d,c.e,n.c],styles:[""]}),i})()}}]);