(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+1S5":function(i,o,e){"use strict";e.d(o,"a",(function(){return r}));var t=e("tk/3"),n=e("octk"),c=e("fXoL");let r=(()=>{class i{constructor(i){this.http=i,this.apiDir="http://157.230.90.222:3001",this.requestOptions={headers:new t.c({"Content-Type":"application/json",version:n.a})}}crear_servicio(i){return console.log(i),this.http.post(this.apiDir+"/servicios/crear",i,this.requestOptions)}mostrar_servicios(){return this.http.get(this.apiDir+"/servicios",this.requestOptions)}getZpl(i){return this.http.post(this.apiDir+"/servicios/imprimir",i,this.requestOptions)}alta_producto(i){return this.http.post(this.apiDir+"/productos/crear",i,this.requestOptions)}alta_workstation(i){return this.http.post(this.apiDir+"/servicios/equipos/crear",i,this.requestOptions)}alta_Grupo_workstation(i){return this.http.post(this.apiDir+"/servicios/gruposEquipos/crear",i,this.requestOptions)}eliminar_Grupo_workstation(i){return console.log("delete2",i),this.http.post(this.apiDir+"/servicios/eliminarGrupoEquipos/"+i,null,this.requestOptions)}modificar_Grupo_workstation(i){return this.http.post(this.apiDir+"/servicios/gruposEquipos/crear",i,this.requestOptions)}ver_servicio(i){return this.http.get(this.apiDir+"/servicios/id/"+i,this.requestOptions)}baja_producto(i){return this.http.post(this.apiDir+"/productos/eliminar/"+i,null,this.requestOptions)}baja_servicio(i){return this.http.post(this.apiDir+"/servicios/eliminar/"+i,null,this.requestOptions)}update_servicio(i){return this.http.post(this.apiDir+"/servicios/update",i,this.requestOptions)}baja_opcion(i){return this.http.post(this.apiDir+"/servicios/opcion/delete/",{id:i},this.requestOptions)}ver_opciones_producto(i){return console.log(i),this.http.get(this.apiDir+"/servicios/producto/opciones/"+i,this.requestOptions)}producto_update(i){return console.log(i),this.http.post(this.apiDir+"/productos/actualizar",i,this.requestOptions)}getProductos(){return this.http.get(this.apiDir+"/productos/",this.requestOptions)}}return i.\u0275fac=function(o){return new(o||i)(c.Sb(t.a))},i.\u0275prov=c.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},"/+FQ":function(i,o,e){"use strict";e.d(o,"a",(function(){return h}));var t=e("fXoL"),n=e("+1S5"),c=e("TEn/"),r=e("3Pt+"),s=e("ofXK");function a(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div"),t.Ob(1,"ion-item",15),t.Ob(2,"ion-label"),t.kc(3," Seleccione tipo de campo "),t.Nb(),t.Ob(4,"ion-select",16),t.Wb("ngModelChange",(function(o){return t.gc(i),t.Yb().$implicit.tipoCampo=o})),t.Ob(5,"ion-select-option",18),t.kc(6,"Escritura"),t.Nb(),t.Ob(7,"ion-select-option",19),t.kc(8,"Seleccionable"),t.Nb(),t.Ob(9,"ion-select-option",20),t.kc(10,"Seleccion multiple"),t.Nb(),t.Nb(),t.Nb(),t.Nb()}if(2&i){const i=t.Yb().$implicit,o=t.Yb();t.zb(4),t.dc("disabled",0==o.servicio.modificable)("ngModel",i.tipoCampo)}}function l(i,o){if(1&i){const i=t.Pb();t.Ob(0,"ion-item",15),t.Ob(1,"ion-label"),t.kc(2,"Ingrese la opcion: "),t.Nb(),t.Ob(3,"ion-input",3),t.Wb("ngModelChange",(function(e){return t.gc(i),o.$implicit.name=e})),t.Nb(),t.Ob(4,"ion-icon",22),t.Wb("click",(function(){t.gc(i);const e=o.index,n=o.$implicit,c=t.Yb(2).index;return t.Yb().quitar_opcion_select(c,e,n.opcionId)})),t.Nb(),t.Nb()}if(2&i){const i=o.$implicit;t.zb(3),t.dc("ngModel",i.name)}}function b(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div"),t.jc(1,l,5,1,"ion-item",21),t.Ob(2,"ion-item",15),t.Ob(3,"ion-button",8),t.Wb("click",(function(){t.gc(i);const o=t.Yb().index;return t.Yb().agregar_opcion_select(o)})),t.kc(4," Agregar opcion "),t.Kb(5,"ion-icon",9),t.Nb(),t.Nb(),t.Nb()}if(2&i){const i=t.Yb().$implicit;t.zb(1),t.dc("ngForOf",i.opt)}}function p(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div",14),t.Ob(1,"ion-item",1),t.Ob(2,"ion-grid",14),t.Ob(3,"ion-row",14),t.Ob(4,"ion-item",15),t.Ob(5,"ion-col"),t.Ob(6,"ion-label"),t.kc(7,"Ingrese titulo del campo: "),t.Nb(),t.Nb(),t.Ob(8,"ion-col"),t.Ob(9,"ion-input",16),t.Wb("ngModelChange",(function(e){return t.gc(i),o.$implicit.nombreCampo=e})),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(10,"ion-row"),t.jc(11,a,11,2,"div",17),t.Nb(),t.jc(12,b,6,1,"div",17),t.Nb(),t.Nb(),t.Nb()}if(2&i){const i=o.$implicit,e=t.Yb();t.zb(9),t.dc("disabled","Tipo de producto"==i.nombreCampo||0==e.servicio.modificable)("ngModel",i.nombreCampo),t.zb(2),t.dc("ngIf","Tipo de producto"!=i.nombreCampo),t.zb(1),t.dc("ngIf","select"==i.tipoCampo||"multiple"==i.tipoCampo)}}function u(i,o){1&i&&(t.Ob(0,"ion-item",23),t.Ob(1,"p"),t.kc(2,"Al ser un servicio con un dise\xf1o predeterminado recuerde que si agrega nuevos campos no se veran automaticamente reflejados en el pdf"),t.Nb(),t.Nb())}function d(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div",24),t.Ob(1,"ion-button",8),t.Wb("click",(function(){return t.gc(i),t.Yb().modificar_servicio()})),t.kc(2,"Modificar"),t.Nb(),t.Nb()}}function m(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div",24),t.Ob(1,"ion-button",8),t.Wb("click",(function(){return t.gc(i),t.Yb().crear_servicio()})),t.kc(2,"Modificar"),t.Nb(),t.Nb()}}let h=(()=>{class i{constructor(i,o,e,t){this.api_servicios=i,this.navCtrl=o,this.navParams=e,this.modalController=t,this.formulario=[],this.servicio={},this.auxiliar=[],this.start=!1,this.id_servicio=this.navParams.get("id_servicio")}iniicar(){this.start=!0,this.servicio=[],this.campos=null,this.api_servicios.ver_servicio(this.id_servicio).subscribe(i=>{console.log("RESPUESTA:  ",i),this.servicio=i,this.servicio=this.servicio.result,this.servicio.requiereQR=this.servicio.requiereQR.toString(),this.servicio.tieneProducto=this.servicio.tieneProducto.toString();var o=[];this.servicio.formulario.forEach((i,e)=>{o.push({opt:[],id_campo:i.id_campo,tipoCampo:i.tipoCampo,nombreCampo:i.nombreCampo}),i.opciones.forEach(i=>{o[e].opt.push(i)})}),this.campos=o,console.log(this.servicio)},i=>{console.log(i)})}ngOnInit(){this.servicio={nombreDelServicio:"",requiereQR:0,formulario:this.servicio.formulario,producto:0},this.iniicar()}agregar_campo_formulario(){this.servicio.formulario.push({nombreCampo:"",tipoCampo:"",opciones:[]}),this.campos.push({opt:[],tipoCampo:"",nombreCampo:""})}agregar_opcion_select(i){this.servicio.formulario[i].opciones.push(""),this.campos[i].opt.push({name:null})}quitar_opcion_select(i,o,e){this.servicio.formulario[i].opciones.splice(o,1),this.campos[i].opt.splice(o,1),console.log(e),this.api_servicios.baja_opcion(e).subscribe(i=>{console.log(i)})}crear_servicio(){this.servicio.formulario=[],this.campos.forEach((i,o)=>{this.servicio.formulario.push({nombreCampo:i.nombreCampo,tipoCampo:i.tipoCampo,opciones:[]}),i.opt.forEach(i=>{this.servicio.formulario[o].opciones.push({opcion:i.name})})}),this.servicio.requiereQR=parseInt(this.servicio.requiereQR,10),this.servicio.producto=parseInt(this.servicio.tieneProducto,10),console.log(this.servicio),this.api_servicios.crear_servicio(this.servicio).subscribe(i=>{console.log(i),this.borrar(),location.reload()})}modificar_servicio(){this.servicio.formulario=[],this.campos.forEach((i,o)=>{this.servicio.formulario.push({nombreCampo:i.nombreCampo,tipoCampo:i.tipoCampo,id_campo:i.id_campo,opciones:[]}),i.opt.forEach(i=>{this.servicio.formulario[o].opciones.push(i)})}),this.servicio.requiereQR=parseInt(this.servicio.requiereQR,10),this.servicio.producto=parseInt(this.servicio.tieneProducto,10),this.api_servicios.update_servicio(this.servicio).subscribe(i=>{console.log(i),location.reload()})}producto_asociado(){1==this.servicio.tieneProducto&&1==this.servicio.modificable&&0==this.start&&"Tipo de producto"!=this.servicio.formulario[0].nombreCampo?(console.log("troll"),this.servicio.formulario.unshift({nombreCampo:"Tipo de producto",tipoCampo:"select",opciones:[]}),this.campos.unshift({nombreCampo:"Tipo de producto",tipoCampo:"select",opt:[]})):"Tipo de producto"==this.servicio.formulario[0].nombreCampo&&0==this.start?(this.servicio.formulario.splice(0,1),this.campos.splice(0,1)):this.start=!1}borrar(){this.api_servicios.baja_servicio(this.id_servicio).subscribe(i=>{console.log(i)})}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(n.a),t.Jb(c.H),t.Jb(c.I),t.Jb(c.G))},i.\u0275cmp=t.Db({type:i,selectors:[["app-modificar-servicio"]],decls:33,vars:8,consts:[["color","primary",2,"text-align","center"],["lines","full"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],["value","1"],["value","0"],[3,"disabled","ngModel","ngModelChange","ionChange"],["style","background-color: white;",4,"ngFor","ngForOf"],[3,"click"],["name","add-outline"],["disabled","","lines","full",4,"ngIf"],["style","text-align: center; margin-top: 20px;",4,"ngIf"],[2,"margin-top","15px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[2,"background-color","white"],["lines","none"],[3,"disabled","ngModel","ngModelChange"],[4,"ngIf"],["value","input"],["value","select"],["value","multiple"],["lines","none",4,"ngFor","ngForOf"],["name","trash-outline",3,"click"],["disabled","","lines","full"],[2,"text-align","center","margin-top","20px"]],template:function(i,o){1&i&&(t.Ob(0,"ion-header"),t.Ob(1,"ion-toolbar",0),t.Ob(2,"ion-title"),t.kc(3),t.Nb(),t.Nb(),t.Nb(),t.Ob(4,"ion-content"),t.Ob(5,"div"),t.Ob(6,"ion-item",1),t.Ob(7,"ion-label",2),t.kc(8,"\xbfRequiere QR?"),t.Nb(),t.Ob(9,"ion-select",3),t.Wb("ngModelChange",(function(i){return o.servicio.requiereQR=i})),t.Ob(10,"ion-select-option",4),t.kc(11,"Si"),t.Nb(),t.Ob(12,"ion-select-option",5),t.kc(13,"No"),t.Nb(),t.Nb(),t.Nb(),t.Ob(14,"ion-item",1),t.Ob(15,"ion-label",2),t.kc(16,"\xbfContiene productos?"),t.Nb(),t.Ob(17,"ion-select",6),t.Wb("ngModelChange",(function(i){return o.servicio.tieneProducto=i}))("ionChange",(function(){return o.producto_asociado()})),t.Ob(18,"ion-select-option",4),t.kc(19,"Si"),t.Nb(),t.Ob(20,"ion-select-option",5),t.kc(21,"No"),t.Nb(),t.Nb(),t.Nb(),t.jc(22,p,13,4,"div",7),t.Ob(23,"ion-item",1),t.Ob(24,"ion-label"),t.kc(25," Agregar campo "),t.Nb(),t.Ob(26,"ion-button",8),t.Wb("click",(function(){return o.agregar_campo_formulario()})),t.Kb(27,"ion-icon",9),t.Nb(),t.Nb(),t.jc(28,u,3,0,"ion-item",10),t.Nb(),t.jc(29,d,3,0,"div",11),t.jc(30,m,3,0,"div",11),t.Ob(31,"div",12),t.Kb(32,"img",13),t.Nb(),t.Nb()),2&i&&(t.zb(3),t.mc("Modiciar servicio: ",o.servicio.nombreDelServicio,""),t.zb(6),t.dc("ngModel",o.servicio.requiereQR),t.zb(8),t.dc("disabled",0==o.servicio.modificable)("ngModel",o.servicio.tieneProducto),t.zb(5),t.dc("ngForOf",o.campos),t.zb(6),t.dc("ngIf",0==o.servicio.modificable),t.zb(1),t.dc("ngIf",0==o.servicio.modificable),t.zb(1),t.dc("ngIf",1==o.servicio.modificable))},directives:[c.o,c.D,c.C,c.i,c.r,c.s,c.w,c.M,r.d,r.e,c.x,s.i,c.d,c.p,s.j,c.n,c.u,c.h,c.q,c.N],styles:[""]}),i})()},JFkf:function(i,o,e){"use strict";e.d(o,"a",(function(){return g}));var t=e("mrSG"),n=e("LYSU"),c=e("fXoL"),r=e("+1S5"),s=e("TEn/"),a=e("3Pt+"),l=e("ofXK");function b(i,o){if(1&i&&(c.Ob(0,"ion-select-option",3),c.kc(1),c.Nb()),2&i){const i=o.$implicit;c.dc("value",i.tipo_opcion),c.zb(1),c.lc(i.tipo_opcion)}}function p(i,o){if(1&i&&(c.Ob(0,"ion-select-option",3),c.kc(1),c.Nb()),2&i){const i=o.$implicit;c.dc("value",i.tipo_opcion),c.zb(1),c.lc(i.tipo_opcion)}}let u=(()=>{class i{constructor(i,o,e){this.apiServicios=i,this.navParams=o,this.modalController=e,this.opcionesCebo=[],this.opcionesPuesto=[],this.opcionPredeterminada=[],this.producto=o.get("producto"),i.ver_opciones_producto(this.producto.id_servicio).subscribe(i=>{var o;console.log(i),o=i.result;for(let e of o)56==e.id_campo?this.opcionesPuesto.push(e):this.opcionesCebo.push(e);this.producto.opcion_predeterminada&&(this.opcionPredeterminada[0]=this.producto.opcion_predeterminada.split(" - ")[0],this.opcionPredeterminada[1]=this.producto.opcion_predeterminada.split(" - ")[1]),console.log(this.opcionPredeterminada),console.log("PRODUCTO",this.producto),console.log("CEBO",this.opcionesCebo),console.log("PUESTO",this.opcionesPuesto)})}ngOnInit(){}guardar(){var i=this.opcionPredeterminada[0]+" - "+this.opcionPredeterminada[1];console.log(i),this.producto.opcion_predeterminada=i,this.apiServicios.producto_update(this.producto).subscribe(i=>{console.log(i),this.modalController.dismiss()})}modalDismiss(){this.modalController.dismiss()}}return i.\u0275fac=function(o){return new(o||i)(c.Jb(r.a),c.Jb(s.I),c.Jb(s.G))},i.\u0275cmp=c.Db({type:i,selectors:[["app-modificar-producto"]],decls:24,vars:6,consts:[["lines","full"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ion-text-center"],[1,"button",2,"width","50%",3,"click"]],template:function(i,o){1&i&&(c.Ob(0,"ion-content"),c.Ob(1,"ion-item",0),c.Ob(2,"ion-label"),c.kc(3," Estado del Puesto: "),c.Nb(),c.Ob(4,"ion-select",1),c.Wb("ngModelChange",(function(i){return o.opcionPredeterminada[0]=i})),c.jc(5,b,2,2,"ion-select-option",2),c.Ob(6,"ion-select-option",3),c.kc(7,"Sin Preselecci\xf3n"),c.Nb(),c.Nb(),c.Nb(),c.Ob(8,"ion-item",0),c.Ob(9,"ion-label"),c.kc(10," Estado del Cebo: "),c.Nb(),c.Ob(11,"ion-select",1),c.Wb("ngModelChange",(function(i){return o.opcionPredeterminada[1]=i})),c.jc(12,p,2,2,"ion-select-option",2),c.Ob(13,"ion-select-option",3),c.kc(14,"Sin Preselecci\xf3n"),c.Nb(),c.Nb(),c.Nb(),c.Ob(15,"ion-row"),c.Ob(16,"ion-col",4),c.Ob(17,"div"),c.Ob(18,"ion-button",5),c.Wb("click",(function(){return o.modalDismiss()})),c.kc(19,"Volver"),c.Nb(),c.Nb(),c.Nb(),c.Ob(20,"ion-col",4),c.Ob(21,"div"),c.Ob(22,"ion-button",5),c.Wb("click",(function(){return o.guardar()})),c.kc(23,"Guardar"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&i&&(c.zb(4),c.dc("ngModel",o.opcionPredeterminada[0]),c.zb(1),c.dc("ngForOf",o.opcionesPuesto),c.zb(1),c.dc("value",null),c.zb(5),c.dc("ngModel",o.opcionPredeterminada[1]),c.zb(1),c.dc("ngForOf",o.opcionesCebo),c.zb(1),c.dc("value",null))},directives:[s.i,s.r,s.s,s.w,s.M,a.d,a.e,l.i,s.x,s.u,s.h,s.d],styles:[""]}),i})();function d(i,o){if(1&i&&(c.Ob(0,"ion-title",3),c.kc(1),c.Nb()),2&i){const i=c.Yb();c.zb(1),c.lc(i.servicio.nombreDelServicio)}}function m(i,o){if(1&i){const i=c.Pb();c.Ob(0,"div"),c.Ob(1,"ion-item",10),c.Ob(2,"ion-col",7),c.Ob(3,"ion-label"),c.kc(4),c.Nb(),c.Nb(),c.Ob(5,"ion-col",7),c.Ob(6,"ion-label"),c.kc(7),c.Nb(),c.Nb(),c.Ob(8,"ion-col",7),c.Ob(9,"ion-label"),c.kc(10),c.Nb(),c.Nb(),c.Ob(11,"ion-col",8),c.Ob(12,"ion-label"),c.kc(13),c.Nb(),c.Nb(),c.Ob(14,"ion-col",11),c.Ob(15,"ion-icon",12),c.Wb("click",(function(){c.gc(i);const e=o.$implicit;return c.Yb(3).eliminar_producto(e.id_producto)})),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&i){const i=o.$implicit;c.zb(4),c.mc(" ",i.nombre_producto," "),c.zb(3),c.mc(" ",i.fecha_vencimiento," "),c.zb(3),c.mc(" ",i.lote," "),c.zb(3),c.mc(" ",i.tipo_producto," ")}}function h(i,o){if(1&i){const i=c.Pb();c.Ob(0,"div"),c.Ob(1,"ion-item",4),c.Ob(2,"ion-label",3),c.Ob(3,"b"),c.kc(4,"Productos"),c.Nb(),c.Nb(),c.Ob(5,"ion-button",5),c.Wb("click",(function(){c.gc(i);const o=c.Yb(2);return o.altaProducto(o.id_servicio)})),c.kc(6,"Agregar producto"),c.Nb(),c.Nb(),c.Ob(7,"ion-item",6),c.Ob(8,"ion-grid"),c.Ob(9,"ion-row"),c.Ob(10,"ion-col",7),c.Ob(11,"ion-label"),c.Ob(12,"b"),c.kc(13,"Nombre del producto"),c.Nb(),c.Nb(),c.Nb(),c.Ob(14,"ion-col",7),c.Ob(15,"ion-label"),c.Ob(16,"b"),c.kc(17,"Fecha de vencimiento"),c.Nb(),c.Nb(),c.Nb(),c.Ob(18,"ion-col",7),c.Ob(19,"ion-label"),c.Ob(20,"b"),c.kc(21,"Lote"),c.Nb(),c.Nb(),c.Nb(),c.Ob(22,"ion-col",8),c.Ob(23,"ion-label"),c.Ob(24,"b"),c.kc(25,"Tipo de producto"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.jc(26,m,16,4,"div",9),c.Nb()}if(2&i){const i=c.Yb(2);c.zb(26),c.dc("ngForOf",i.servicio.listaProductos)}}function v(i,o){if(1&i&&(c.Ob(0,"div"),c.jc(1,h,27,1,"div",2),c.Nb()),2&i){const i=c.Yb();c.zb(1),c.dc("ngIf",i.servicio.tieneProducto)}}let g=(()=>{class i{constructor(i,o,e,t){this.navParams=i,this.api_servicios=o,this.modalController=e,this.alertController=t,this.id_servicio=this.navParams.get("id_servicio")}ngOnInit(){this.actualizar_informacion()}actualizar_informacion(){this.api_servicios.ver_servicio(this.id_servicio).subscribe(i=>{this.servicio=i,this.servicio=this.servicio.result,console.log(this.servicio)},i=>{console.log(i)})}altaProducto(i){return Object(t.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:n.a,cssClass:"my-custom-class",componentProps:{id_servicio:i}});return o.onDidDismiss().then(i=>{this.actualizar_informacion()}),yield o.present()}))}baja_producto(i){this.api_servicios.baja_producto(i).subscribe(i=>{console.log(i),this.actualizar_informacion()},i=>{console.log(i)})}eliminar_producto(i){return Object(t.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Seguro que desea eliminar el producto?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.baja_producto(i)}}]});yield o.present()}))}modificarProducto(i){return Object(t.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:u,cssClass:"stack-modal",showBackdrop:!0,componentProps:{producto:i}});return yield o.present()}))}}return i.\u0275fac=function(o){return new(o||i)(c.Jb(s.I),c.Jb(r.a),c.Jb(s.G),c.Jb(s.a))},i.\u0275cmp=c.Db({type:i,selectors:[["app-ver-servicio"]],decls:5,vars:2,consts:[["color","primary"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["lines","none"],[3,"click"],["lines","full",1,"titulos"],["size","3"],["size","2"],[4,"ngFor","ngForOf"],["lines","full"],["size","1"],["name","trash-outline","color","danger",2,"margin-right","15px",3,"click"]],template:function(i,o){1&i&&(c.Ob(0,"ion-header"),c.Ob(1,"ion-toolbar",0),c.jc(2,d,2,1,"ion-title",1),c.Nb(),c.Nb(),c.Ob(3,"ion-content"),c.jc(4,v,2,1,"div",2),c.Nb()),2&i&&(c.zb(2),c.dc("ngIf",o.servicio),c.zb(2),c.dc("ngIf",o.servicio))},directives:[s.o,s.D,l.j,s.i,s.C,s.r,s.s,s.d,s.n,s.u,s.h,l.i,s.p],styles:[""]}),i})()},LYSU:function(i,o,e){"use strict";e.d(o,"a",(function(){return p}));var t=e("mrSG"),n=e("fXoL"),c=e("TEn/"),r=e("+1S5"),s=e("3Pt+"),a=e("ofXK");function l(i,o){if(1&i&&(n.Ob(0,"ion-select-option",14),n.kc(1),n.Nb()),2&i){const i=o.$implicit;n.dc("value",i),n.zb(1),n.lc(i.name)}}function b(i,o){if(1&i){const i=n.Pb();n.Ob(0,"ion-item",2),n.Ob(1,"ion-label",3),n.kc(2," Tipo de producto: "),n.Nb(),n.Ob(3,"ion-select",11),n.Wb("ngModelChange",(function(o){return n.gc(i),n.Yb().tipo_producto=o}))("ionChange",(function(){return n.gc(i),n.Yb().select_tipo_producto()})),n.jc(4,l,2,2,"ion-select-option",12),n.Ob(5,"ion-select-option",13),n.kc(6,"Nuevo tipo"),n.Nb(),n.Nb(),n.Nb()}if(2&i){const i=n.Yb();n.zb(3),n.dc("ngModel",i.tipo_producto),n.zb(1),n.dc("ngForOf",i.servicio.formulario[i.indexTipoProducto].opciones)}}let p=(()=>{class i{constructor(i,o,e,t){this.navParams=i,this.api_servicios=o,this.modalCtrl=e,this.alertController=t,this.indexTipoProducto=0,this.id_servicio=this.navParams.get("id_servicio")}ngOnInit(){this.api_servicios.ver_servicio(this.id_servicio).subscribe(i=>{this.servicio=i,this.servicio=this.servicio.result;for(let o=0;o<this.servicio.formulario.length;o++)"Tipo de producto"==this.servicio.formulario[o].nombreCampo&&(this.indexTipoProducto=o);console.log("Servicio: ",this.servicio)},i=>{console.log(i)})}cargar_producto(){const i=this.fecha_vencimiento.slice(0,4),o=this.fecha_vencimiento.slice(5,7),e=this.fecha_vencimiento.slice(8,10);this.fecha_vencimiento=e+"-"+o+"-"+i,this.api_servicios.alta_producto({id_servicio:this.id_servicio,nombre_producto:this.nombre_producto,fecha_vencimiento:this.fecha_vencimiento,lote:this.lote,tipo_producto:this.tipo_producto}).subscribe(i=>{console.log(i),this.modalCtrl.dismiss({dismissed:!0})},i=>{console.log(i)})}select_tipo_producto(){"nuevo"==this.tipo_producto&&this.alert_nuevo_tipo()}alert_nuevo_tipo(){return Object(t.a)(this,void 0,void 0,(function*(){const i=yield this.alertController.create({header:"Crear nuevo tipo de producto",inputs:[{name:"name",type:"text",placeholder:"Ingrese el nombre"}],buttons:[{text:"Crear",handler:i=>{console.log(i),this.crear_tipo_producto(i.name)}},{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}}]});yield i.present()}))}crear_tipo_producto(i){this.servicio.formulario.forEach(o=>{"Tipo de producto"==o.nombreCampo&&o.opciones.push({name:i})}),this.api_servicios.update_servicio(this.servicio).subscribe(i=>{console.log(i),this.ngOnInit()})}}return i.\u0275fac=function(o){return new(o||i)(n.Jb(c.I),n.Jb(r.a),n.Jb(c.G),n.Jb(c.a))},i.\u0275cmp=n.Db({type:i,selectors:[["app-crear-producto"]],decls:23,vars:4,consts:[["color","primary"],[2,"text-align","center"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],["type","date",3,"ngModel","ngModelChange"],["lines","full",4,"ngIf"],[2,"width","100%","text-align","center","margin-top","25px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["value","nuevo"],[3,"value"]],template:function(i,o){1&i&&(n.Ob(0,"ion-header"),n.Ob(1,"ion-toolbar",0),n.Ob(2,"ion-title",1),n.kc(3,"Alta de producto"),n.Nb(),n.Nb(),n.Nb(),n.Ob(4,"ion-content"),n.Ob(5,"ion-item",2),n.Ob(6,"ion-label",3),n.kc(7," Nombre del producto: "),n.Nb(),n.Ob(8,"ion-input",4),n.Wb("ngModelChange",(function(i){return o.nombre_producto=i})),n.Nb(),n.Nb(),n.Ob(9,"ion-item",2),n.Ob(10,"ion-label",3),n.kc(11," Fecha de vencimiento: "),n.Nb(),n.Ob(12,"ion-input",5),n.Wb("ngModelChange",(function(i){return o.fecha_vencimiento=i})),n.Nb(),n.Nb(),n.Ob(13,"ion-item",2),n.Ob(14,"ion-label",3),n.kc(15," Lote: "),n.Nb(),n.Ob(16,"ion-input",4),n.Wb("ngModelChange",(function(i){return o.lote=i})),n.Nb(),n.Nb(),n.jc(17,b,7,2,"ion-item",6),n.Ob(18,"div",7),n.Ob(19,"ion-button",8),n.Wb("click",(function(){return o.cargar_producto()})),n.kc(20,"Cargar"),n.Nb(),n.Nb(),n.Ob(21,"div",9),n.Kb(22,"img",10),n.Nb(),n.Nb()),2&i&&(n.zb(8),n.dc("ngModel",o.nombre_producto),n.zb(4),n.dc("ngModel",o.fecha_vencimiento),n.zb(4),n.dc("ngModel",o.lote),n.zb(1),n.dc("ngIf",o.servicio))},directives:[c.o,c.D,c.C,c.i,c.r,c.s,c.q,c.N,s.d,s.e,a.j,c.d,c.w,c.M,a.i,c.x],styles:["ion-content[_ngcontent-%COMP%]{--background:#dfdfdf;border:2px solid #000}.imagen_empresa[_ngcontent-%COMP%]{width:50%;margin-left:25%}"]}),i})()},NKqT:function(i,o,e){"use strict";e.d(o,"a",(function(){return u}));var t=e("fXoL"),n=e("+1S5"),c=e("TEn/"),r=e("3Pt+"),s=e("ofXK");function a(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div"),t.Ob(1,"ion-item",16),t.Ob(2,"ion-label"),t.kc(3," Seleccione tipo de campo "),t.Nb(),t.Ob(4,"ion-select",4),t.Wb("ngModelChange",(function(o){return t.gc(i),t.Yb().$implicit.tipoCampo=o})),t.Ob(5,"ion-select-option",17),t.kc(6,"Escritura"),t.Nb(),t.Ob(7,"ion-select-option",18),t.kc(8,"Seleccionable"),t.Nb(),t.Ob(9,"ion-select-option",19),t.kc(10,"Seleccion multiple"),t.Nb(),t.Nb(),t.Nb(),t.Nb()}if(2&i){const i=t.Yb().$implicit;t.zb(4),t.dc("ngModel",i.tipoCampo)}}function l(i,o){if(1&i){const i=t.Pb();t.Ob(0,"ion-item",16),t.Ob(1,"ion-label"),t.kc(2,"Ingrese la opcion: "),t.Nb(),t.Ob(3,"div",21),t.Ob(4,"ion-input",4),t.Wb("ngModelChange",(function(e){t.gc(i);const n=o.index;return t.Yb(2).$implicit.opciones[n].opcion=e})),t.Nb(),t.Nb(),t.Nb()}if(2&i){const i=o.index,e=t.Yb(2).$implicit;t.zb(4),t.dc("ngModel",e.opciones[i].opcion)}}function b(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div"),t.jc(1,l,5,1,"ion-item",20),t.Ob(2,"ion-item",16),t.Ob(3,"ion-button",9),t.Wb("click",(function(){t.gc(i);const o=t.Yb().index;return t.Yb().agregar_opcion_select(o)})),t.kc(4,"Agregar opcion "),t.Kb(5,"ion-icon",10),t.Nb(),t.Nb(),t.Nb()}if(2&i){const i=t.Yb().$implicit;t.zb(1),t.dc("ngForOf",i.opciones)}}function p(i,o){if(1&i){const i=t.Pb();t.Ob(0,"div",12),t.Ob(1,"ion-item",2),t.Ob(2,"ion-grid",12),t.Ob(3,"ion-row",12),t.Ob(4,"ion-item",13),t.Ob(5,"ion-col",12),t.Ob(6,"ion-label"),t.kc(7,"Ingrese titulo del campo: "),t.Nb(),t.Nb(),t.Ob(8,"ion-col"),t.Ob(9,"ion-input",14),t.Wb("ngModelChange",(function(e){return t.gc(i),o.$implicit.nombreCampo=e})),t.Nb(),t.Nb(),t.Nb(),t.Nb(),t.Ob(10,"ion-row"),t.jc(11,a,11,1,"div",15),t.Nb(),t.jc(12,b,6,1,"div",15),t.Nb(),t.Nb(),t.Nb()}if(2&i){const i=o.$implicit;t.zb(9),t.dc("disabled","Tipo de producto"==i.nombreCampo)("ngModel",i.nombreCampo),t.zb(2),t.dc("ngIf","Tipo de producto"!=i.nombreCampo),t.zb(1),t.dc("ngIf","select"==i.tipoCampo||"multiple"==i.tipoCampo)}}let u=(()=>{class i{constructor(i,o){this.api_servicios=i,this.navCtrl=o,this.formulario=[],this.servicio={}}ngOnInit(){this.servicio={nombreDelServicio:"",requiereQR:0,formulario:this.formulario,producto:0}}agregar_campo_formulario(){this.formulario.push({nombreCampo:"",tipoCampo:"",opciones:[]})}agregar_opcion_select(i){this.formulario[i].opciones.push({opcion:""})}crear_servicio(){this.api_servicios.crear_servicio(this.servicio).subscribe(i=>{console.log(i),location.reload()})}producto_asociado(){1==this.servicio.producto?this.formulario.push({nombreCampo:"Tipo de producto",tipoCampo:"select",opciones:[]}):this.formulario.splice(0)}}return i.\u0275fac=function(o){return new(o||i)(t.Jb(n.a),t.Jb(c.H))},i.\u0275cmp=t.Db({type:i,selectors:[["app-crear-servicio"]],decls:35,vars:4,consts:[["color","primary",2,"text-align","center"],[2,"background-color","white !important"],["lines","full"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],["value","1"],["value","0"],[3,"ngModel","ngModelChange","ionChange"],["style","background-color: white;",4,"ngFor","ngForOf"],[3,"click"],["name","add-outline"],[2,"text-align","center","margin-top","20px"],[2,"background-color","white"],["lines","none",2,"background-color","white"],[3,"disabled","ngModel","ngModelChange"],[4,"ngIf"],["lines","none"],["value","input"],["value","select"],["value","multiple"],["lines","none",4,"ngFor","ngForOf"],[2,"margin-left","5px"]],template:function(i,o){1&i&&(t.Ob(0,"ion-header"),t.Ob(1,"ion-toolbar",0),t.Ob(2,"ion-title"),t.kc(3,"Crear un nuevo servicio"),t.Nb(),t.Nb(),t.Nb(),t.Ob(4,"ion-content",1),t.Ob(5,"div"),t.Ob(6,"ion-item",2),t.Ob(7,"ion-label",3),t.kc(8,"Nombre del servicio: "),t.Nb(),t.Ob(9,"ion-input",4),t.Wb("ngModelChange",(function(i){return o.servicio.nombreDelServicio=i})),t.Nb(),t.Nb(),t.Ob(10,"ion-item",2),t.Ob(11,"ion-label",3),t.kc(12,"\xbfRequiere QR?"),t.Nb(),t.Ob(13,"ion-select",4),t.Wb("ngModelChange",(function(i){return o.servicio.requiereQR=i})),t.Ob(14,"ion-select-option",5),t.kc(15,"Si"),t.Nb(),t.Ob(16,"ion-select-option",6),t.kc(17,"No"),t.Nb(),t.Nb(),t.Nb(),t.Ob(18,"ion-item",2),t.Ob(19,"ion-label",3),t.kc(20,"\xbfContiene productos?"),t.Nb(),t.Ob(21,"ion-select",7),t.Wb("ngModelChange",(function(i){return o.servicio.producto=i}))("ionChange",(function(){return o.producto_asociado()})),t.Ob(22,"ion-select-option",5),t.kc(23,"Si"),t.Nb(),t.Ob(24,"ion-select-option",6),t.kc(25,"No"),t.Nb(),t.Nb(),t.Nb(),t.jc(26,p,13,4,"div",8),t.Ob(27,"ion-item",2),t.Ob(28,"ion-label"),t.kc(29," Agregar campo "),t.Nb(),t.Ob(30,"ion-button",9),t.Wb("click",(function(){return o.agregar_campo_formulario()})),t.Kb(31,"ion-icon",10),t.Nb(),t.Nb(),t.Nb(),t.Ob(32,"div",11),t.Ob(33,"ion-button",9),t.Wb("click",(function(){return o.crear_servicio()})),t.kc(34,"Listo"),t.Nb(),t.Nb(),t.Nb()),2&i&&(t.zb(9),t.dc("ngModel",o.servicio.nombreDelServicio),t.zb(4),t.dc("ngModel",o.servicio.requiereQR),t.zb(8),t.dc("ngModel",o.servicio.producto),t.zb(5),t.dc("ngForOf",o.formulario))},directives:[c.o,c.D,c.C,c.i,c.r,c.s,c.q,c.N,r.d,r.e,c.w,c.M,c.x,s.i,c.d,c.p,c.n,c.u,c.h,s.j],styles:[".imagen_empresa[_ngcontent-%COMP%]{width:100%}"]}),i})()},YcJ4:function(i,o,e){"use strict";e.r(o),e.d(o,"AdministrarServiciosPageModule",(function(){return f}));var t=e("ofXK"),n=e("3Pt+"),c=e("TEn/"),r=e("tyNb"),s=e("mrSG"),a=e("NKqT"),l=e("JFkf"),b=e("/+FQ"),p=e("fXoL"),u=e("+1S5");function d(i,o){if(1&i){const i=p.Pb();p.Ob(0,"ion-icon",10),p.Wb("click",(function(){p.gc(i);const o=p.Yb().$implicit;return p.Yb().borrar_servicio(o.id_servicio)})),p.Nb()}}function m(i,o){if(1&i){const i=p.Pb();p.Ob(0,"ion-icon",11),p.Wb("click",(function(){p.gc(i);const o=p.Yb().$implicit;return p.Yb().ver_servicio(o.id_servicio)})),p.Nb()}}function h(i,o){if(1&i){const i=p.Pb();p.Ob(0,"ion-item",5),p.Ob(1,"ion-label",6),p.Ob(2,"b"),p.kc(3),p.Nb(),p.Nb(),p.Ob(4,"ion-buttons"),p.jc(5,d,1,0,"ion-icon",7),p.Nb(),p.Ob(6,"ion-buttons"),p.Ob(7,"ion-icon",8),p.Wb("click",(function(){p.gc(i);const e=o.$implicit;return p.Yb().modificar_servicio(e.id_servicio)})),p.Nb(),p.Nb(),p.Ob(8,"ion-buttons"),p.jc(9,m,1,0,"ion-icon",9),p.Nb(),p.Nb()}if(2&i){const i=o.$implicit;p.zb(3),p.lc(i.nombre_servicio),p.zb(2),p.dc("ngIf",1==i.modificable),p.zb(4),p.dc("ngIf",1==i.producto)}}const v=[{path:"",component:(()=>{class i{constructor(i,o,e){this.modalController=i,this.api=o,this.alertController=e}ngOnInit(){this.actualizar_informacion()}actualizar_informacion(){this.api.mostrar_servicios().subscribe(i=>{this.servicios=i,this.servicios=this.servicios.result,console.log(this.servicios)})}crear_servicio(){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:a.a,cssClass:"my-custom-class"});return yield i.present()}))}ver_servicio(i){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:l.a,cssClass:"modal_grande",componentProps:{id_servicio:i}});return yield o.present()}))}borrar_servicio(i){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Seguro que desea eliminar el servicio?",buttons:[{text:"No",handler:()=>{}},{text:"Si",handler:()=>{this.eliminar_servicio(i)}}]});yield o.present()}))}eliminar_servicio(i){this.api.baja_servicio(i).subscribe(i=>{console.log(i),this.actualizar_informacion()},i=>{console.log(i)})}modificar_servicio(i){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.modalController.create({component:b.a,cssClass:"modal_grande",componentProps:{id_servicio:i}});return yield o.present()}))}}return i.\u0275fac=function(o){return new(o||i)(p.Jb(c.G),p.Jb(u.a),p.Jb(c.a))},i.\u0275cmp=p.Db({type:i,selectors:[["app-administrar-servicios"]],decls:10,vars:1,consts:[[2,"margin-left","30%","width","40%"],[2,"text-align","center"],["lines","full",1,"titulo_lista_servicios",2,"margin-bottom","20px"],[3,"click"],["lines","full","class","lista_servicios",4,"ngFor","ngForOf"],["lines","full",1,"lista_servicios"],[2,"text-align","left"],["style","margin-right: 10px;","name","trash-outline","color","danger",3,"click",4,"ngIf"],["name","create-outline",2,"margin-right","10px",3,"click"],["name","enter-outline",3,"click",4,"ngIf"],["name","trash-outline","color","danger",2,"margin-right","10px",3,"click"],["name","enter-outline",3,"click"]],template:function(i,o){1&i&&(p.Ob(0,"ion-content"),p.Ob(1,"div",0),p.Ob(2,"ion-card",1),p.Ob(3,"ion-item",2),p.Ob(4,"ion-label",1),p.Ob(5,"b"),p.kc(6,"Servicios"),p.Nb(),p.Nb(),p.Ob(7,"ion-button",3),p.Wb("click",(function(){return o.crear_servicio()})),p.kc(8," Crear servicio "),p.Nb(),p.Nb(),p.jc(9,h,10,3,"ion-item",4),p.Nb(),p.Nb(),p.Nb()),2&i&&(p.zb(9),p.dc("ngForOf",o.servicios))},directives:[c.i,c.f,c.r,c.s,c.d,t.i,c.e,t.j,c.p],styles:[".lista_servicios[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.boton_nuevo_servicio[_ngcontent-%COMP%]{--background:transparent}ion-item[_ngcontent-%COMP%]{width:100%}"]}),i})()},{path:"crear-servicio",loadChildren:()=>e.e(26).then(e.bind(null,"b/Hj")).then(i=>i.CrearServicioPageModule)},{path:"ver-servicio",loadChildren:()=>e.e(29).then(e.bind(null,"THUM")).then(i=>i.VerServicioPageModule)},{path:"modificar-servicio",loadChildren:()=>e.e(27).then(e.bind(null,"3tg3")).then(i=>i.ModificarServicioPageModule)}];let g=(()=>{class i{}return i.\u0275mod=p.Hb({type:i}),i.\u0275inj=p.Gb({factory:function(o){return new(o||i)},imports:[[r.h.forChild(v)],r.h]}),i})(),f=(()=>{class i{}return i.\u0275mod=p.Hb({type:i}),i.\u0275inj=p.Gb({factory:function(o){return new(o||i)},imports:[[t.b,n.a,c.E,g]]}),i})()}}]);