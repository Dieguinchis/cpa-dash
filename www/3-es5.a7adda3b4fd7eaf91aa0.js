function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ksL3:function(e,n,i){"use strict";i.r(n),i.d(n,"AdministrarClientesPageModule",(function(){return M}));var t=i("ofXK"),o=i("3Pt+"),c=i("TEn/"),r=i("tyNb"),l=i("mrSG"),a=i("mhZR"),s=i("fXoL"),b=i("jCJ1");function u(e,n){if(1&e){var i=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-item",7),s.Mb(2,"ion-col",3),s.Mb(3,"ion-label"),s.ic(4),s.Lb(),s.Lb(),s.Mb(5,"ion-col",4),s.Mb(6,"ion-label"),s.ic(7),s.Lb(),s.Lb(),s.Mb(8,"ion-col",3),s.Mb(9,"ion-label"),s.ic(10),s.Lb(),s.Lb(),s.Mb(11,"ion-col",3),s.Mb(12,"ion-label"),s.ic(13),s.Lb(),s.Lb(),s.Mb(14,"ion-col",8),s.Mb(15,"ion-icon",9),s.Ub("click",(function(){s.ec(i);var e=n.$implicit;return s.Wb(2).modificar_cliente(e.id_cliente)})),s.Lb(),s.Mb(16,"ion-icon",10),s.Ub("click",(function(){s.ec(i);var e=n.$implicit;return s.Wb(2).baja_cliente(e.id_cliente)})),s.Lb(),s.Kb(17,"ion-icon",11),s.Lb(),s.Lb(),s.Lb()}if(2&e){var t=n.$implicit;s.zb(4),s.kc(" ",t.razon_social_cliente," "),s.zb(3),s.kc(" ",t.telefono," "),s.zb(3),s.kc(" ",t.email," "),s.zb(3),s.kc(" ",t.direccion," "),s.zb(4),s.bc("routerLink","/menu-principal/ver-cliente/"+t.id_cliente)}}function f(e,n){if(1&e&&(s.Mb(0,"div"),s.hc(1,u,18,5,"div",6),s.Lb()),2&e){var i=s.Wb();s.zb(1),s.bc("ngForOf",i.clientes)}}var d,m,g,h=[{path:"",component:(d=function(){function e(n,i,t){_classCallCheck(this,e),this.api_clientes=n,this.alertController=i,this.modalController=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.actualizar_informacion()}},{key:"baja_cliente",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:"Seguro que desea eliminar el cliente?",buttons:[{text:"No",handler:function(){}},{text:"Si",handler:function(){t.eliminar_cliente(e)}}]});case 2:return i=n.sent,n.next=5,i.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"eliminar_cliente",value:function(e){var n=this;this.api_clientes.eliminar_cliente(e).subscribe((function(e){n.actualizar_informacion()}))}},{key:"actualizar_informacion",value:function(){var e=this;this.api_clientes.listado_clientes().subscribe((function(n){e.clientes=n,e.clientes=e.clientes.result}))}},{key:"modificar_cliente",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:a.a,componentProps:{id_cliente:e}});case 2:return(i=n.sent).onDidDismiss().then((function(e){t.actualizar_informacion()})),n.next=6,i.present();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n,this)})))}}]),e}(),d.\u0275fac=function(e){return new(e||d)(s.Jb(b.a),s.Jb(c.a),s.Jb(c.A))},d.\u0275cmp=s.Db({type:d,selectors:[["app-administrar-clientes"]],decls:25,vars:1,consts:[["lines","none"],[2,"text-align","center"],["lines","full",1,"titulos"],["size","3"],["size","2"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","full"],["size","1"],["name","create-outline",2,"margin-right","15px",3,"click"],["name","trash-outline","color","danger",2,"margin-right","15px",3,"click"],["color","primary","name","enter-outline",3,"routerLink"]],template:function(e,n){1&e&&(s.Mb(0,"ion-content"),s.Mb(1,"ion-item",0),s.Mb(2,"ion-label",1),s.Mb(3,"b"),s.ic(4,"Clientes"),s.Lb(),s.Lb(),s.Lb(),s.Mb(5,"ion-item",2),s.Mb(6,"ion-grid"),s.Mb(7,"ion-row"),s.Mb(8,"ion-col",3),s.Mb(9,"ion-label"),s.Mb(10,"b"),s.ic(11,"Razon social"),s.Lb(),s.Lb(),s.Lb(),s.Mb(12,"ion-col",4),s.Mb(13,"ion-label"),s.Mb(14,"b"),s.ic(15,"Telefono"),s.Lb(),s.Lb(),s.Lb(),s.Mb(16,"ion-col",3),s.Mb(17,"ion-label"),s.Mb(18,"b"),s.ic(19,"Email"),s.Lb(),s.Lb(),s.Lb(),s.Mb(20,"ion-col",3),s.Mb(21,"ion-label"),s.Mb(22,"b"),s.ic(23,"Direccion"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.hc(24,f,2,1,"div",5),s.Lb()),2&e&&(s.zb(24),s.bc("ngIf",n.clientes))},directives:[c.g,c.m,c.n,c.i,c.p,c.f,t.j,t.i,c.k,c.F,r.g],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),d)},{path:"modificar-cliente",loadChildren:function(){return i.e(17).then(i.bind(null,"jEl+")).then((function(e){return e.ModificarClientePageModule}))}}],p=((g=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:g}),g.\u0275inj=s.Gb({factory:function(e){return new(e||g)},imports:[[r.h.forChild(h)],r.h]}),g),M=((m=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:m}),m.\u0275inj=s.Gb({factory:function(e){return new(e||m)},imports:[[t.b,o.a,c.y,p]]}),m)},mhZR:function(e,n,i){"use strict";i.d(n,"a",(function(){return d}));var t=i("mrSG"),o=i("fXoL"),c=i("TEn/"),r=i("jCJ1"),l=i("X9o6"),a=i("ofXK"),s=i("3Pt+");function b(e,n){if(1&e){var i=o.Nb();o.Mb(0,"ion-icon",12),o.Ub("click",(function(){return o.ec(i),o.Wb(2).deleteLogo()})),o.Lb()}}function u(e,n){if(1&e){var i=o.Nb();o.Mb(0,"ion-button",9),o.Ub("click",(function(){return o.ec(i),o.Wb(2).agregarLogo()})),o.ic(1,"Seleccionar Logo"),o.Lb()}}function f(e,n){if(1&e){var i=o.Nb();o.Mb(0,"ion-content"),o.Mb(1,"ion-item",2),o.Mb(2,"ion-label",3),o.ic(3," Razon social: "),o.Lb(),o.Mb(4,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().razon_social=e})),o.Lb(),o.Lb(),o.Mb(5,"ion-item",2),o.Mb(6,"ion-label",3),o.ic(7," Telefono: (solo numeros) "),o.Lb(),o.Mb(8,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().telefono=e})),o.Lb(),o.Lb(),o.Mb(9,"ion-item",2),o.Mb(10,"ion-label",3),o.ic(11," Email: "),o.Lb(),o.Mb(12,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().email=e})),o.Lb(),o.Lb(),o.Mb(13,"ion-item",2),o.Mb(14,"ion-label",3),o.ic(15," Direccion: "),o.Lb(),o.Mb(16,"ion-input",4),o.Ub("ngModelChange",(function(e){return o.ec(i),o.Wb().direccion=e})),o.Lb(),o.Lb(),o.Mb(17,"ion-item",2),o.Kb(18,"img",5),o.hc(19,b,1,0,"ion-icon",6),o.hc(20,u,2,0,"ion-button",7),o.Lb(),o.Mb(21,"div",8),o.Mb(22,"ion-button",9),o.Ub("click",(function(){return o.ec(i),o.Wb().modificar_cliente()})),o.ic(23,"Modificar"),o.Lb(),o.Lb(),o.Mb(24,"div",10),o.Kb(25,"img",11),o.Lb(),o.Lb()}if(2&e){var t=o.Wb();o.zb(4),o.bc("ngModel",t.razon_social),o.zb(4),o.bc("ngModel",t.telefono),o.zb(4),o.bc("ngModel",t.email),o.zb(4),o.bc("ngModel",t.direccion),o.zb(2),o.bc("src",t.logo,o.fc),o.zb(1),o.bc("ngIf",!(null==t.logo||"NULL"==t.logo)),o.zb(1),o.bc("ngIf",null==t.logo||"NULL"==t.logo)}}var d=function(){var e=function(){function e(n,i,t,o,c){_classCallCheck(this,e),this.loadingController=n,this.api_clientes=i,this.navParams=t,this.modalCtrl=o,this.imageCompress=c,this.id_cliente=this.navParams.get("id_cliente")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.api_clientes.informacion_cliente(this.id_cliente).subscribe((function(n){e.cliente=n,e.cliente=e.cliente.result,e.razon_social=e.cliente.clienteDatos[0].razon_social_cliente,e.email=e.cliente.clienteDatos[0].email,e.telefono=e.cliente.clienteDatos[0].telefono,e.direccion=e.cliente.clienteDatos[0].direccion,e.logo=e.cliente.clienteDatos[0].logo_cliente,console.log(e.cliente)}))}},{key:"modificar_cliente",value:function(){var e=this;this.objeto={id_cliente:this.id_cliente,razon_social_cliente:this.razon_social,direccion:this.direccion,telefono:this.telefono,email:this.email},console.log(this.objeto),this.api_clientes.modificar_cliente(this.objeto).subscribe((function(n){e.logo?e.api_clientes.subir_logo_cliente({id_cliente:e.id_cliente,logo:e.logo}).subscribe((function(n){e.modalCtrl.dismiss({dismissed:!0})})):e.modalCtrl.dismiss({dismissed:!0})}),(function(e){console.log(e)}))}},{key:"agregarLogo",value:function(){return Object(t.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Subiendo img"});case 2:return n=e.sent,e.next=5,n.present();case 5:this.imageCompress.uploadFile().then((function(e){var n=e.image,t=e.orientation;console.warn("Size in bytes was:",i.imageCompress.byteCount(n)),i.imageCompress.compressFile(n,t,50,50).then((function(e){console.log(e),i.logo=e,i.api_clientes.subir_logo_cliente({id_cliente:i.id_cliente,logo:i.logo}).subscribe((function(e){i.loadingController.dismiss()}))}))}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"deleteLogo",value:function(){return Object(t.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Eliminando img"});case 2:return n=e.sent,e.next=5,n.present();case 5:this.api_clientes.subir_logo_cliente({id_cliente:this.id_cliente,logo:null}).subscribe((function(e){i.ngOnInit(),i.loadingController.dismiss()}));case 6:case"end":return e.stop()}}),e,this)})))}}]),e}();return e.\u0275fac=function(n){return new(n||e)(o.Jb(c.z),o.Jb(r.a),o.Jb(c.C),o.Jb(c.A),o.Jb(l.a))},e.\u0275cmp=o.Db({type:e,selectors:[["app-modificar-cliente"]],decls:5,vars:1,consts:[["color","primary",2,"text-align","center"],[4,"ngIf"],["lines","full"],[1,"titulos"],[3,"ngModel","ngModelChange"],["alt","",2,"width","50%","margin-left","25%","padding","5px",3,"src"],["name","trash-outline","color","danger","style","margin-top:15px",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[2,"width","100%","text-align","center","margin-top","10px"],[3,"click"],[2,"margin-top","25px"],["src","../../../assets/LogoCPA-01.png",1,"imagen_empresa"],["name","trash-outline","color","danger",2,"margin-top","15px",3,"click"]],template:function(e,n){1&e&&(o.Mb(0,"ion-header"),o.Mb(1,"ion-toolbar",0),o.Mb(2,"ion-title"),o.ic(3,"Modificar cliente"),o.Lb(),o.Lb(),o.Lb(),o.hc(4,f,26,7,"ion-content",1)),2&e&&(o.zb(4),o.bc("ngIf",n.cliente))},directives:[c.j,c.x,c.w,a.j,c.g,c.m,c.n,c.l,c.H,s.d,s.e,c.c,c.k],styles:[".titulos[_ngcontent-%COMP%]{color:#838383}"]}),e}()}}]);