<ion-content>
  <div *ngIf="sucursal">
      <ion-row style="text-align: center; background-color: white;padding: 1%;">
        <ion-col size="10"><b style="margin-top:15px">Informacion de la sucursal</b></ion-col>
        <ion-col size="2" style="font-size: 24px !important;"><ion-icon color="primary" title="Imprimir Toda la informacion de la sucursal" (click)="imprimirAllQrSucursal()" name="print-outline"></ion-icon></ion-col>
      </ion-row>
    <ion-item lines="full">
      <ion-grid>
        <ion-row>
          <!-- <ion-col size="3"></ion-col> -->
          <ion-col size="3">
            <ion-label><b>Sucursal</b></ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label><b>Telefono</b></ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-label><b>Mail</b></ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label><b>Codigo QR</b></ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label><b>Imprimir</b></ion-label>
          </ion-col>
          <!-- <ion-col size="1"></ion-col> -->
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item lines="full" >
      <ion-grid>
        <ion-row>
          <!-- <ion-col size="3"></ion-col> -->
          <ion-col size="3" style="margin-top: 10px;">
            <ion-label>{{sucursal.sucursal[0].razon_social_sucursal}}</ion-label>
          </ion-col>
          <ion-col size="2" style="margin-top: 10px;">
            <ion-label>{{sucursal.sucursal[0].telefono_sucursal}}</ion-label>
          </ion-col>
          <ion-col size="3" style="margin-top: 10px;">
            <ion-label>{{sucursal.sucursal[0].email_sucursal}}</ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-card style="width: 50px; margin-top: 0px;">
              <div>
                <a [href]="sucursal.sucursal[0].codigo_qr" download>
                  <img [src]='sucursal.sucursal[0].codigo_qr'>
                </a>
              </div>
            </ion-card>
          </ion-col>
          <ion-col style="font-size: 24px !important;" size="1">
            <ion-icon color="primary" title="Imprimir SOLO este QR" style="margin-top:15px" (click)="imprimirQrSucursal()" name="print-outline"></ion-icon>
          </ion-col>
          <!-- <ion-col size="1"></ion-col> -->
        </ion-row>
      </ion-grid>
    </ion-item>
    <div style="margin-top: 5px;"></div>
    <ion-row style="background-color: white;">
      <ion-col size="5">
        <ion-item style="text-align: center;" lines="none">
          <ion-label style="font-size: 100% !important;"><b>Workstations/equipos</b></ion-label>
        </ion-item>
      </ion-col>
      <ion-col size="7">
        <ion-item style="text-align: right;" lines="none">
          <ion-label></ion-label>
          <ion-icon color="primary" (click)="imprimirQrAllWorkstations()" title="Imprimir los QR'S de TODAS las Workstations/equipos" name="print-outline"></ion-icon>
          <ion-button (click)="alertAltaGrupoWorkstation()">Agregar grupo de workstations</ion-button>
        </ion-item>
      </ion-col>
    </ion-row>


    <!-- <ion-item lines="full">
      <ion-grid>
        <ion-row>
          <ion-col size="7">
            <ion-label><b>Nombre del workstation</b></ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label><b>Nombre del servicio</b></ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label><b>Codigo QR</b></ion-label>
          </ion-col>
          <ion-col size="1">
            <ion-label><b>Eliminar</b></ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item> -->
    <!-- <ion-item lines="full" *ngFor="let equipo of workstations" class="equipos">
      <ion-grid>
        <ion-row>
          <ion-col size="7" style="margin-top: 15px">
            <ion-label>{{equipo.nombre_equipo}}</ion-label>
          </ion-col>
          <ion-col size="2" style="margin-top: 15px">
            <ion-label>{{equipo.nombre_servicio}}</ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-card style="width: 50px; margin-top: 0px;">
              <div>
                <a [href]="equipo.codigo_qr_equipo" download>
                  <img [src]='equipo.codigo_qr_equipo'>
                </a>
              </div>
            </ion-card>
          </ion-col>
          <ion-col size="1">
            <ion-icon name="trash-outline" color="danger" style="margin-top:15px" (click)="borrar_equipo(equipo.id_equipo)"></ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item> -->
    <div *ngIf="(grupoWorkStation == undefined)">
      <ion-item>
        <ion-label style="width:  100%; text-align: center;">No se encontraron WorkStation</ion-label>
      </ion-item>
    </div>
    <div *ngIf="(grupoWorkStation != undefined)">
      <ion-item lines="full" *ngFor="let grupoEquipo of grupoWorkStation; let i = index">
        <ion-grid>
          <ion-row>
            <ion-col class="grupoequipo" size="5.5" >{{grupoEquipo.nombre_equipo_grupo}}</ion-col>
            <ion-col size="0.5">
              <ion-icon name="trash-outline" color="danger" style="margin-top:15px" (click)="borrar_equipo_grupo(grupoEquipo.id_equipo_grupo,i)"></ion-icon>
            </ion-col>
            <ion-col size="6">
              <ion-item style="text-align: left;" lines="none">
                <ion-icon color="primary" title="Imprimir los QR'S de ESTA Workstation/equipo" (click)="imprimirQrThisWorkstation(grupoEquipo)" name="print-outline"></ion-icon>
                <ion-button (click)="altaWorkstation(grupoEquipo.id_equipo_grupo)">Agregar workstation</ion-button>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-item lines="full">
            <ion-grid>
              <ion-row>
                <ion-col size="5">
                  <ion-label><b>Workstation</b></ion-label>
                </ion-col>
                <ion-col size="2.5">
                  <ion-label><b>Servicio</b></ion-label>
                </ion-col>
                <ion-col size="2">
                  <ion-label><b>Codigo QR</b></ion-label>
                </ion-col>
                <ion-col size="1">
                  <ion-label></ion-label>
                </ion-col>
                <ion-col size="1.5">
                  <ion-label><b>Eliminar</b></ion-label>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
          <div *ngIf="(grupoEquipo.equipos.length == 0 || grupoEquipo.length == 0)">
            <ion-item>
              <ion-label style="width:  100%; text-align: center;">No se encontraron equipos</ion-label>
            </ion-item>
          </div>
          <div *ngIf="(grupoEquipo.equipos.length > 0)">
            <div *ngFor="let equipo of grupoEquipo.equipos; let i = index">
              <ion-row class="equipos" *ngIf="equipo.nombre_equipo != null">
                <ion-col size="5" style="margin-top: 15px">
                  <ion-label>{{equipo.nombre_equipo}}</ion-label>
                </ion-col>
                <ion-col size="2.5" style="margin-top: 15px">
                  <ion-label>{{equipo.nombre_servicio}}</ion-label>
                </ion-col>
                <ion-col size="2">
                  <ion-card style="width: 50px; margin-top: 0px;">
                    <div>
                      <a [href]="equipo.codigo_qr_equipo" download>
                        <img [src]='equipo.codigo_qr_equipo'>
                      </a>
                    </div>
                  </ion-card>
                </ion-col>
                <ion-col size="1">
                  <ion-icon color="primary" title="Imprimir SOLO este QR" style="margin-top:15px" (click)="imprimirQr(equipo)" name="print-outline"></ion-icon>
                </ion-col>
                <ion-col size="1.5">
                  <ion-icon name="trash-outline" color="danger" style="margin-top:15px" (click)="borrar_equipo(equipo.id_equipo)"></ion-icon>
                </ion-col>


              </ion-row>
            </div>
          </div>
        </ion-grid>
      </ion-item>
    </div>

  </div>
  <div *ngIf="sucursal" style="margin-top: 10px;">
    <ion-item style="text-align: center;" lines="none">
      <ion-label><b>Planos de la sucursal</b></ion-label>
      <input style="visibility: hidden;" id="inputUploadFile" accept=".pdf" title=" " [disabled]="disabled" type="file" name="" (change)="showFile($event.target.files)">
      <ion-icon slot="end" name="add-circle-outline" color="primary" (click)="agregar_plano()"></ion-icon>
    </ion-item>
    <div *ngFor="let plano of sucursal.planos">
      <ion-item button *ngIf="sucursal.planos.length > 0">
        <ion-icon (click)="openPdf(plano.url_imagen_plano)" name="eye" slot="start"></ion-icon>
        <ion-label (click)="openPdf(plano.url_imagen_plano)">{{plano.name}}</ion-label>
        <ion-icon slot="end" style="color: red;" name="trash-outline" (click)="alert_eliminar_plano(plano.id_plano)"></ion-icon>
      </ion-item>

    </div>
    <ion-item button *ngIf="sucursal.planos.length == 0">
      <ion-label>No hay planos cargados</ion-label>
    </ion-item>
    <!-- <ion-slides pager="true" style="background-color: secondary">
      <ion-slide *ngFor= "let plano of sucursal.planos">
        <ion-card class="cardPlanos">

          <img src={{plano.url_imagen_plano}}  class="planos">
          <ion-button class="deletePlano" style="position:absolute; right: 0%; bottom: 0%;" (click)="alert_eliminar_plano(plano.id_plano)">
            <ion-icon style="color: red;" name="trash-outline" (click)="alert_eliminar_plano(plano.id_plano)"></ion-icon>
          </ion-button>
        </ion-card>
      </ion-slide>
    </ion-slides> -->
  </div>

</ion-content>
