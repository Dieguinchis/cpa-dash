<ion-content *ngIf="cliente">
  <div class="informacion_cliente">
    <ion-item class="titulos" lines="full">
      <ion-grid>
        <ion-row>
          <ion-col size="3">
            <ion-label>
              <b>Razon social</b>
            </ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-label>
              <b>Telefono</b>
            </ion-label>  
          </ion-col>
          <ion-col size="3">
            <ion-label>
              <b>Email</b>
            </ion-label>
          </ion-col>
          <ion-col size="3">
            <ion-label>
              <b>Direccion</b>
            </ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  
  
  
    <ion-item lines="full" *ngIf = "cliente">
      <ion-col size="3">
        <ion-label>
          {{cliente.clienteDatos[0].razon_social_cliente}}
        </ion-label>
      </ion-col>
      <ion-col size="3">
        <ion-label>
          {{cliente.clienteDatos[0].telefono}} 
        </ion-label>
      </ion-col>
      <ion-col size="3">
        <ion-label>
          {{cliente.clienteDatos[0].email}}
        </ion-label>
      </ion-col>
      <ion-col size="3">
        <ion-label>
          {{cliente.clienteDatos[0].direccion}}
        </ion-label>
      </ion-col>
    </ion-item>
  </div>

  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-item lines="none">
          <ion-label style="text-align: center;"><b>Sucursales</b></ion-label>
          <ion-button (click)="altaSucursal()">Agregar sucursal</ion-button>
        </ion-item>
        <ion-item lines="full">
          <ion-col size="3">Razon social sucursal</ion-col>
          <ion-col size="3">Telefono sucursal</ion-col>
          <ion-col size="3">Email sucursal</ion-col>
          <ion-col size="2">Direccion sucursal</ion-col>
        </ion-item>
        <div *ngFor="let sucursal of cliente.sucursales.datosSucursal">
          <ion-item lines="full">
            <ion-col size="3">{{sucursal.razon_social_sucursal}}</ion-col>
            <ion-col size="3">{{sucursal.telefono_sucursal}}</ion-col>
            <ion-col size="3">{{sucursal.email_sucursal}}</ion-col>
            <ion-col size="2">
              {{sucursal.direccion_sucursal}}
            </ion-col>
            <ion-col size="1">
              <ion-icon name="create-outline" style="margin-right: 5px" (click)="modificar_sucursal(sucursal.id_sucursal)"></ion-icon>
              <ion-icon name="trash-outline" color="danger" style="margin-right: 5px" (click)="baja_sucursal(sucursal.id_sucursal)"></ion-icon>
              <ion-icon  (click)="verSucursal(sucursal.id_sucursal)" color="primary" name="enter-outline"></ion-icon>
            </ion-col>
          </ion-item>
        </div>     
      </ion-col>

      <ion-col>
        <ion-item lines="none">
          <ion-label style="text-align: center;"><b>Visitas</b></ion-label>
        </ion-item> 
        <ion-item lines="full">
          <ion-col size="4">Fecha de la visita</ion-col>
          <ion-col size="4">Sucursal</ion-col>
          <ion-col size="2">Estado</ion-col>
          <ion-col size="2">Acciones</ion-col>
        </ion-item>
        <div *ngFor="let visita of cliente.sucursales.visitas">
          <ng-container *ngIf="visita.estado_visitas != 'eliminado'">
            <ion-item lines="full">
              <ion-col size="4">{{visita.fecha_visita | date: 'dd/MM/yyyy hh:mm'}}</ion-col>
              <ion-col size="4">{{visita.razon_social_sucursal}}</ion-col>
              <ion-col size="2">
                {{visita.estado_visitas}}
              </ion-col>
              <ion-col size="1">
                <ion-icon color="primary" name="enter-outline" (click)="verVisita(visita.id_visita)"></ion-icon>
                <ion-icon *ngIf="visita.estado_visitas == 'pendiente' || visita.estado_visitas == 'en proceso'" color="danger" name="trash-outline" (click)="eliminarVisitaAlert(visita)"></ion-icon>
                <!-- <ion-icon class="no-pointer" name="close-outline" *ngIf="visita.estado_visitas != 'finalizada' && visita.estado_visitas != 'entregado'"></ion-icon> -->
                <ion-icon style="padding-left: 5px;" name="mail-outline" *ngIf="visita.estado_visitas == 'finalizada' " (click)="marcarEntregadoAlert(visita)"></ion-icon>
                <!-- <ion-icon style="padding-left: 5px;color: rgb(52, 183, 241);" name="checkmark-done-outline" *ngIf="visita.estado_visitas == 'entregado'" class="no-pointer"></ion-icon> -->
              </ion-col>

            </ion-item>
          </ng-container>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
